(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9862],{64938:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/website/builder",function(){return t(54681)}])},76078:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var i=t(26042),o=t(69396),l=t(10253),s=t(85893),a=t(67294),r=t(46440),c=t(72510),d=t(2740),u=t(11355),v=t(27507),m=t(3732),f=t(40944),h=t(66605),p=function(e,n){var t=(0,a.useState)(n),i=t[0],o=t[1];return(0,a.useEffect)((function(){var n=function(n){var t=Array.isArray(e)?e:[e],i=!0;t.forEach((function(e){null!==e.current&&e.current.contains(n.target)&&(i=!1)})),i&&o(!1)};if(i){window.addEventListener("click",n);try{window.parent.addEventListener("click",n)}catch(l){}try{var t;null===(t=window.preview)||void 0===t||t.addEventListener("click",n)}catch(s){}}return function(){window.removeEventListener("click",n);try{window.parent.removeEventListener("click",n)}catch(l){}try{var e;null===(e=window.preview)||void 0===e||e.removeEventListener("click",n)}catch(s){}}}),[i,e]),[i,o]};function x(e){var n=e.className,t=e.icon,x=e.iconClassName,g=e.button,b=e.buttonClassName,w=void 0===b?"button ghost icon":b,y=e.openClassName,j=void 0===y?"active":y,N=(e.iconOpenClassName,e.children),k=e.inline,Z=e.itemsContainerClass,C=e.mobileContent,_=e.mobileTitle,S=e.tooltip,E=e.disabled,I=e.placementAlign,T=void 0===I?"end":I,P=e.onOpen,A=e.onButtonClick,B=e.closeOnSelect,O=e.show,R=void 0===O||O,D=e.portal,F=void 0===D||D,W=e.dataTour,L=e.onClose,z=e.showCloseButton,M=void 0===z||z,G=(0,m.ac)("(min-width: 1024px)"),K=(0,a.useState)(null),H=K[0],V=K[1],$=(0,a.useState)(null),U=$[0],q=$[1],X=(0,a.useRef)(null),J=(0,a.useRef)(null),Y=(0,l.Z)(p(X,!1),2),Q=Y[0],ee=Y[1],ne=(0,r.D)(H,U,{placement:"bottom-".concat(T),modifiers:[{name:"flip",options:{allowedAutoPlacements:["top-start","bottom-start","top-end","bottom-end"]}},{name:"offset",options:{offset:[0,8]}}]}),te=ne.styles,ie=ne.attributes,oe=function(e){e.stopPropagation(),ee(!Q);var n=new Event("click",{bubbles:!0});document.dispatchEvent(n),"function"===typeof A&&A(e)},le=function(){Q&&(ee(!1),"function"===typeof L&&L())},se=function(){return(0,s.jsx)(c.v.Button,{ref:V,className:(0,m.AK)(w,Q&&j,"z-5"),disabled:E,onClick:oe,children:g||(0,s.jsx)(f.Z,{icon:t||"DotsVerticalIcon",className:(0,m.AK)(x,"h-5 w-5"),from:"v2"})})};(0,a.useEffect)((function(){"function"===typeof P&&P(Q);var e=(0,m.Jj)();return e.addEventListener("dropdown-open",le),e.addEventListener("close-dropdown",le),function(){e.removeEventListener("dropdown-open",le),e.removeEventListener("close-dropdown",le)}}),[Q]);var ae=F?d.h:a.Fragment;return(0,a.useEffect)((function(){!1===Q&&"function"===typeof L&&L()}),[Q]),(0,s.jsx)(c.v,{"data-tour":W,ref:X,as:"div",className:(0,m.AK)("relative inline-flex text-left",n),onClick:function(e){return e.stopPropagation()},children:function(e){e.open;return(0,s.jsxs)(s.Fragment,{children:[S?(0,s.jsx)(h.Z,{alt:S,disabled:E,children:se()}):se(),(0,s.jsx)(ae,{children:G?(0,s.jsx)("div",(0,o.Z)((0,i.Z)({className:(0,m.AK)("z-100 transition-opacity",R?"opacity-100":"opacity-0"),ref:J,style:te.popper},ie.popper),{children:(0,s.jsx)(u.u,{show:Q,as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",beforeEnter:function(){return q(J.current)},afterLeave:function(){return q(null)},children:(0,s.jsx)(c.v.Items,{static:!0,className:(0,m.AK)(k?"static":"absolute","menu-list origin-top-right z-10 right-0 w-full min-w-50 outline-none overflow-hidden",Z),onClick:function(){return B&&ee(!1)},children:N})})})):(0,s.jsx)(u.u.Root,{show:Q,as:a.Fragment,children:(0,s.jsx)(v.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",onClose:function(){return ee(!1)},children:(0,s.jsxs)("div",{className:"flex items-end justify-center h-full text-center",children:[(0,s.jsx)(u.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity",onClick:function(){return ee(!1)}})}),(0,s.jsx)(u.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-4",children:(0,s.jsxs)("div",{className:(0,m.AK)("w-full bg-white pt-2 text-left overflow-hidden shadow-xl transform transition-all",C?"flex flex-col h-full":"block rounded-t-lg",!M&&"pb-6"),children:[C&&(0,s.jsx)("div",{className:"flex-1 flex justify-center items-center p-10",children:C}),_&&(0,s.jsxs)("div",{className:"flex md:hidden items-center justify-between gap-3 pl-4 pr-2 pt-1 pb-2 border-b",children:[(0,s.jsx)("p",{className:"font-semibold py-2",children:_}),(0,s.jsx)("button",{className:"light icon transparent",onClick:function(){return ee(!1)},children:(0,s.jsx)(f.Z,{icon:"XIcon",className:"w-5 h-5"})})]}),(0,s.jsx)("div",{className:(0,m.AK)("flex flex-col overflow-hidden",Z),children:(0,s.jsx)(c.v.Items,{onClick:function(){return B&&ee(!1)},children:N})}),M&&(0,s.jsx)("div",{className:"p-4",children:(0,s.jsx)("button",{className:"button default w-full",onClick:function(){return ee(!1)},children:"Close"})})]})})]})})})})]})}})}},94707:function(e,n,t){"use strict";t.d(n,{Z:function(){return B}});var i=t(47568),o=t(26042),l=t(69396),s=t(10253),a=t(29815),r=t(97582),c=t(85893),d=t(3732),u=t(16494),v=t(40944),m=t(72510),f=t(67294),h=t(16682),p=t(92265),x=t(66605),g=t(11215),b=t(72521),w=t(52699),y=t(51121),j=t(20682),N=t(76078),k=t(61437),Z=t(11355),C="animate-rotate-expand",_="animate-fadeout-shrink",S="to-review",E="received",I="complete",T=function(e){var n=e.visible,t=e.onPositiveFeedback,i=e.onNegativeFeedback,o=e.onSetVisible,l=(0,f.useState)(!1),s=l[0],a=l[1],r=(0,f.useState)(!1),u=r[0],m=r[1],h=(0,f.useState)(S),p=h[0],x=h[1],g=function(){o(!1)};return(0,f.useEffect)((function(){p===I&&setTimeout((function(){o(!1)}),3e3)}),[p]),(0,f.useEffect)((function(){n&&(x(S),a(!1),m(!1))}),[n]),(0,f.useEffect)((function(){return window.addEventListener("keyup",g),function(){return window.removeEventListener("keyup",g)}}),[]),(0,c.jsx)(Z.u,{show:n,as:f.Fragment,appear:!0,enter:"relative transition-all ease-[cubic-bezier(0.47,0,0.23,1.38)] duration-300",enterFrom:"opacity-0 mt-[-40px]",enterTo:"opacity-100 mt-0",leave:"relative transition-all ease-[cubic-bezier(0.47,0,0.23,1.38)] duration-300",leaveFrom:"opacity-100 mt-0 ",leaveTo:"opacity-0 mt-[-40px]",children:(0,c.jsx)("div",{children:(0,c.jsxs)("div",{className:"flex flex-row flex-nowrap justify-between items-center bg-gray-50 -mt-3 pt-3 pl-4 pr-1.5 rounded-md",children:[(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"relative h-10 flex flex-row flex-nowrap justify-start items-center w-[calc(100%-100px)] overflow-hidden",children:[(0,c.jsx)("span",{className:(0,d.AK)("transition-all duration-500 ease-in-out","absolute left-0 right-0 top-1/2 -translate-y-1/2 min-w-full","text-label text-gray-500 heading-10",p===I?"opacity-100":"opacity-0 "),children:"Thanks for the feedback!"}),(0,c.jsx)("span",{className:(0,d.AK)("transition-all duration-500 ease-in-out","absolute left-0 right-0 top-1/2 -translate-y-1/2 min-w-full","text-label text-gray-900 heading-10",p!==I?"opacity-100":"opacity-0"),children:"How's this text?"})]})}),p!==I&&(0,c.jsxs)("div",{className:"flex flex-row flex-nowrap justify-start items-center gap-2",children:[(0,c.jsx)("span",{className:"group w-10 h-10 flex flex-row flex-nowrap justify-center items-center cursor-pointer",onClick:function(e){e.preventDefault(),e.stopPropagation(),p===S&&(t(),a(C),m(_),x(E),setTimeout((function(){x(I)}),300))},children:(0,c.jsx)("span",{className:(0,d.AK)("flex justify-center item-center w-5 h-5 cursor-pointer",s),children:(0,c.jsx)(v.Z,{variant:"outlined",icon:"HandThumbUpIcon",className:"text-gray-700 hover:text-green-500 group-hover:text-green-500"})})}),(0,c.jsx)("span",{className:"group w-10 h-10 flex flex-row flex-nowrap justify-center items-center cursor-pointer",onClick:function(e){e.preventDefault(),e.stopPropagation(),p===S&&(i(),m(C),a(_),x(E),setTimeout((function(){x(I)}),300))},children:(0,c.jsx)("span",{className:(0,d.AK)("flex justify-center item-center w-5 h-5 cursor-pointer",u),children:(0,c.jsx)(v.Z,{variant:"outlined",icon:"HandThumbDownIcon",className:"text-gray-700 hover:text-red-500 group-hover:text-red-500"})})})]})]})})})},P=[{id:"simplify",name:"Simplify writing",action:"Without changing its length, simplify writing on the following text",icon:"PencilAiIcon",prompt:"modify-text"},{id:"shorten",name:"Make it shorter",action:"Rewrite the following text using less words",icon:"ShorterIcon",prompt:"modify-text"},{id:"lengthen",name:"Make it longer",action:"Rewrite the following text using more words",icon:"LongerIcon",prompt:"modify-text"},{id:"seo",name:"Optimize for SEO",icon:"DocumentSearchIcon",tooltip:"Incorporate your SEO keywords naturally without compromising the readability or impact of the content.",prompt:"optimize-text-for-seo"}],A={shorten:!0,lengthen:!0,spelling:!0,improve:!0,simplify:!0,seo:!0};function B(e){var n,t,Z,C,_,S,E,I=e.children,B=e.prompt,O=e.data,R=e.onRegenerate,D=e.title,F=e.regenerate,W=void 0!==F&&F,L=e.className,z=void 0===L?"":L,M=e.options,G=void 0===M?A:M,K=(0,s.Z)((0,k.Z)("seo-keywords-modal",!1),2)[1],H=(0,o.Z)({},A,G),V=(0,f.useState)(!1),$=V[0],U=V[1],q=(0,f.useState)(!1),X=q[0],J=q[1],Y=(0,f.useState)(),Q=Y[0],ee=Y[1],ne=(0,f.useState)(),te=ne[0],ie=ne[1],oe=(0,f.useState)([]),le=oe[0],se=oe[1],ae=(0,f.useState)([]),re=ae[0],ce=ae[1],de=(0,f.useState)(!1),ue=de[0],ve=de[1],me=(0,f.useState)(null),fe=me[0],he=me[1],pe=(0,f.useRef)(),xe=(0,h.Z)(),ge=xe.post,be=xe.get,we=(0,p.Z)(),ye=we.aiSettings,je=we.setAiSettings,Ne=(we.saveAiSettings,(0,g.Z)().current),ke=(0,w.Z)().getAddressFromConfig,Ze=(0,b.xk)(Ne),Ce=null!==(E=null===ye||void 0===ye?void 0:ye.language)&&void 0!==E?E:"en",_e=function(){var e=(0,i.Z)((function(){var e,n,t;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return(e=(0,d.tl)("website.keywords"))?(ce(e),[3,3]):[3,1];case 1:return[4,be("/optimize-website/get-seo-keywords")];case 2:(null===(n=i.sent())||void 0===n?void 0:n.status)&&(null===n||void 0===n?void 0:n.content)&&(t=n.content.map((function(e){return e.value})),(0,d.Fs)("website.keywords",t),ce(t)),i.label=3;case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=(0,i.Z)((function(e,n){var t,i,s;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,,2,3]),U(!0),ve(!1),[4,ge("ai/generate",{prompt:e,data:(0,l.Z)((0,o.Z)({},n),{content:null!==Q&&void 0!==Q?Q:n.content,currentContent:le.join("\n"),voiceAndTone:te,business:{vertical:Ze,name:null===Ne||void 0===Ne?void 0:Ne.name,location:ke()},language:Ce,keywords:re.join(", ")})})];case 1:return(null===(t=a.sent())||void 0===t?void 0:t.status)&&(null===t||void 0===t?void 0:t.content)?(he(null===t||void 0===t?void 0:t.brainTrustId),"function"===typeof R&&R(null!==(i=t.content.text)&&void 0!==i?i:t.content)):console.log("Error generating content:",null===t||void 0===t||null===(s=t.content)||void 0===s?void 0:s.generateId),[3,3];case 2:return U(!1),ve(!0),[7];case 3:return[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),Ee=function(){var e=(0,i.Z)((function(e){return(0,r.__generator)(this,(function(n){return je((function(n){return(0,l.Z)((0,o.Z)({},n),{voiceAndTone:e})})),[2]}))}));return function(n){return e.apply(this,arguments)}}(),Ie=function(e){e.stopPropagation(),K(!0)};return(0,f.useEffect)((function(){ie((null===ye||void 0===ye?void 0:ye.voiceAndTone)||j.H6.Default)}),[ye]),(0,f.useEffect)((function(){if(X){var e=(0,d.Jj)(),n=function(e){var n,t;"function"===typeof(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.closest)&&(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.closest(".generate-button"))!==pe.current&&J(!1)};return e.addEventListener("click",n),function(){return e.removeEventListener("click",n)}}ve(!1)}),[X]),(0,f.useEffect)((function(){(null===O||void 0===O?void 0:O.currentContent)&&se((function(e){if(!e.includes(O.currentContent)){var n=(0,a.Z)(e).concat([O.currentContent]);return n.length>5&&n.shift(),n}return e}))}),[O]),(0,f.useEffect)((function(){_e()}),[]),(0,c.jsxs)("div",{className:(0,d.AK)(z,"generate-button"),ref:pe,children:[(0,c.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,c.jsx)("p",{className:"text-sm font-semibold",children:D}),(0,c.jsx)(x.Z,{alt:"Generate content using AI.",className:"",children:(0,c.jsx)("button",{className:"button ghost sm icon-right",disabled:$,onClick:function(){return J((function(e){return!e}))},children:$?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{children:W?"Regenerating":"Generating"}),(0,c.jsx)(u.Z,{variant:"icon"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{children:X?"Close":W?"Regenerate":"Generate"}),!X&&(0,c.jsx)(v.Z,{icon:"SparkleIcon",from:"v2",className:"w-5 h-5"})]})})})]}),(0,c.jsx)("div",{className:"relative z-5",children:I}),X&&(0,c.jsx)(T,{isGenerateOpen:X,visible:ue,onSetVisible:ve,onPositiveFeedback:function(){ge("/ai/feedback",{id:fe,prompt:B,score:1}).catch((function(){return null}))},onNegativeFeedback:function(){ge("/ai/feedback",{id:fe,prompt:B,score:0}).catch((function(){return null}))}}),(0,c.jsx)("div",{className:(0,d.AK)("grid transition-all",X?"pt-2":"",$&&"pointer-events-none opacity-50"),style:{gridTemplateRows:X?"1fr":"0fr"},children:(0,c.jsx)("div",{className:"overflow-hidden w-full",children:(0,c.jsxs)("div",{className:"p-4 rounded-2xl bg-black bg-opacity-5",children:[P.filter((function(e){return H[e.id]})).map((function(e,n){var t,i,o,l,s=e.id,a=e.name,r=e.action,u=e.icon,m=e.prompt,f=e.tooltip;return(0,c.jsxs)("div",{className:(0,d.AK)("flex items-center justify-between gap-2 mb-3 text-black text-opacity-55 transition-all cursor-pointer hover:text-opacity-80",["shorten"].includes(s)&&(null===(i=null===O||void 0===O||null===(t=O.currentContent)||void 0===t?void 0:t.split(" "))||void 0===i?void 0:i.length)<=4?"hidden":"",["simplify"].includes(s)&&(null===(l=null===O||void 0===O||null===(o=O.currentContent)||void 0===o?void 0:o.split(" "))||void 0===l?void 0:l.length)<=2?"hidden":""),onClick:function(){return Se(m,{text:null===O||void 0===O?void 0:O.currentContent,meaning:null===O||void 0===O?void 0:O.meaning,action:r,language:Ce})},children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(v.Z,{icon:u,className:"w-5 h-5"}),(0,c.jsx)("p",{className:"px-1 text-sm font-medium",children:a})]}),"seo"===s&&(0,c.jsx)(x.Z,{title:f,children:(0,c.jsx)("a",{className:"button ghost sm",onClick:Ie,children:"Manage"})})]},"ai-action-".concat(n))})),(null===(n=P.filter((function(e){return H[e.id]})))||void 0===n?void 0:n.length)>0&&(!(P.find((function(e){return"shorten"===e.id}))&&(null===(Z=null===O||void 0===O||null===(t=O.currentContent)||void 0===t?void 0:t.split(" "))||void 0===Z?void 0:Z.length)<=4)||!(P.find((function(e){return"simplify"===e.id}))&&(null===(_=null===O||void 0===O||null===(C=O.currentContent)||void 0===C?void 0:C.split(" "))||void 0===_?void 0:_.length)<=2))&&(0,c.jsx)("hr",{className:"my-3"}),(0,c.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)(v.Z,{icon:"ToneIcon",className:"w-5 h-5"}),(0,c.jsx)("p",{className:"text-sm font-medium text-black text-opacity-80",children:"Writing Style"})]}),(0,c.jsxs)(N.Z,{closeOnSelect:!0,buttonClassName:"button ghost sm icon-right",button:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("span",{children:null===(S=null===j.i4||void 0===j.i4?void 0:j.i4.find((function(e){return e.id===te})))||void 0===S?void 0:S.name}),(0,c.jsx)(v.Z,{icon:"ChevronDownSolidIcon",className:"w-5 h-5"})]}),itemsContainerClass:"md:grid md:grid-cols-2 md:!w-80 !overflow-y-auto md:overflow-hidden max-h-68 md:divide-x md:space-y-0 -mt-1",children:[(0,c.jsxs)("div",{className:"md:max-h-68 md:overflow-y-auto",children:[(0,c.jsx)(m.v.Item,{as:"div",className:"sticky top-0 menu-item disabled",disabled:!0,children:"Tone of voice"}),j.i4.filter((function(e){return"tone"===e.type})).map((function(e,n){return(0,c.jsxs)(m.v.Item,{as:"div",className:"menu-item justify-between",onClick:function(){ie(e.id),Ee(e.id)},children:[(0,c.jsx)("p",{className:"text-sm font-medium whitespace-nowrap",children:e.name}),(0,c.jsx)(v.Z,{icon:"CheckCircleSolidIcon",className:(0,d.AK)("flex-shrink-0 w-4 h-4 opacity-0 transition-all",e.id===te?"opacity-100":"")})]},"tone-".concat(n))}))]}),(0,c.jsxs)("div",{children:[(0,c.jsx)(m.v.Item,{as:"div",className:"sticky top-0 menu-item disabled",disabled:!0,children:"Personalities"}),j.i4.filter((function(e){return"personality"===e.type})).map((function(e,n){return(0,c.jsxs)(m.v.Item,{as:"div",className:"menu-item justify-between",onClick:function(){ie(e.id),Ee(e.id)},children:[(0,c.jsx)("p",{className:"text-sm font-medium whitespace-nowrap",children:e.name}),(0,c.jsx)(v.Z,{icon:"CheckCircleSolidIcon",className:(0,d.AK)("flex-shrink-0 w-4 h-4 opacity-0 transition-all",e.id===te?"opacity-100":"")})]},"tone-".concat(n))}))]})]})]}),(0,c.jsx)("hr",{className:"my-3"}),(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,c.jsx)(v.Z,{icon:"RefreshIcon",className:"w-5 h-5"}),(0,c.jsx)("p",{className:"text-sm font-medium text-black text-opacity-80",children:W?"Rewrite text":"Generate text"})]}),(0,c.jsx)(y.Z,{className:"mb-4",value:Q,onChange:function(e){return ee(e)},placeholder:"E.g. Target corporate audiences. "}),(0,c.jsxs)("button",{className:"button default sm icon-right w-full",disabled:$,onClick:function(){return Se(B,O)},children:[(0,c.jsx)("span",{children:W?"Rewrite":"Generate"}),(0,c.jsx)(v.Z,{icon:"SparkleIcon",from:"v2",className:"w-5 h-5"})]})]})})})]})}},12280:function(e,n,t){"use strict";t.d(n,{u:function(){return c}});var i=t(85893),o=t(11355),l=t(27507),s=t(67294),a=t(3732),r=t(40944),c=(t(40487),function(e){var n=e.children,t=e.title,c=e.buttons,d=e.open,u=e.setOpen,v=e.isLoading,m=(e.loaderText,e.contentClassName),f=e.fixedHeight,h=void 0===f||f,p=e.hasCustomBody,x=void 0!==p&&p,g=e.className,b=e.hasCloseIconAvailable,w=void 0===b||b,y=function(){v||u(!1)};return(0,i.jsx)(o.u.Root,{show:d,as:s.Fragment,children:(0,i.jsx)(l.V,{as:"div",className:"fixed z-100 md:inset-0 w-full md:w-auto overflow-hidden bottom-0",onClose:y,children:(0,i.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,i.jsx)(o.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,i.jsx)(l.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,i.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,i.jsx)(o.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,i.jsxs)("div",{className:(0,a.AK)("inline-block align-middle w-full md:w-auto bg-white rounded-t-2xl md:rounded-2xl md:my-8 text-left overflow-hidden shadow-xl transform transition-all",g),children:[w&&(0,i.jsx)("div",{className:"flex justify-end p-4",children:(0,i.jsx)("button",{className:"button auxiliary icon sm rounded-full",onClick:y,children:(0,i.jsx)(r.Z,{icon:"XMarkIcon",from:"v2",className:"w-5 h-5"})})}),t&&(0,i.jsx)("div",{className:"flex items-center gap-4 px-12 pb-6",children:(0,i.jsx)(l.V.Title,{className:"text-2xl font-semibold text-black text-opacity-80",children:t})}),x?n:(0,i.jsx)("div",{className:(0,a.AK)("flex flex-col gap-5 px-12",m,h?"overflow-y-auto max-h-[80vh]":"block h-auto"),children:n}),c&&(0,i.jsx)("div",{className:"px-12 pb-12 mt-6",children:c})]})})]})})})})},42394:function(e,n,t){"use strict";t.d(n,{Z:function(){return R}});var i=t(47568),o=t(26042),l=t(69396),s=t(10253),a=t(29815),r=t(97582),c=t(85893),d=t(40944),u=t(2740),v=t(11355),m=t(72510),f=t(67294),h=t(3732),p=t(61437),x=t(41664),g=t.n(x),b=t(16682),w=t(60728),y=t(16494),j=t(33299),N={warn:"bg-yellow-50 text-yellow-800",error:"bg-red-50 text-red-800",info:"bg-blue-50 text-blue-800"},k={warn:"text-yellow-800",error:"text-red-800",info:"text-blue-800"};function Z(e){var n=e.text,t=e.title,i=e.variant,o=e.icon,l=e.onClose,s=e.className,a=e.asStatusBar,r=e.action;return(0,c.jsxs)("div",{className:(0,h.AK)(N[i],"flex justify-between p-4",a?"":"rounded-md",s),children:[(0,c.jsxs)("div",{className:"flex gap-3 flex-1",children:[o&&(0,c.jsx)(d.Z,{className:(0,h.AK)("w-5 h-5 flex-shrink-0",N[i]),icon:o}),(0,c.jsxs)("div",{className:"flex-1 flex md:items-center flex-col md:flex-row jus",children:[(0,c.jsxs)("div",{className:"flex flex-col gap-2 flex-1",children:[t&&(0,c.jsx)("p",{className:"font-medium",children:t}),(0,c.jsx)("p",{children:n})]}),(null===r||void 0===r?void 0:r.label)&&(0,c.jsx)("button",{className:(0,h.AK)("font-medium text-label md:ml-auto text-left mt-3 md:mt-0 block",k[i]),onClick:r.onClick,children:r.label})]})]}),l&&(0,c.jsx)("a",{className:"cursor-pointer hover:brightness-90 transition-all",onClick:l,children:(0,c.jsx)(d.Z,{className:"w-5 h-5 flex-shrink-0",icon:"XIcon"})})]})}var C=t(12280),_=t(52077),S=t(51121),E=t(76078),I=t(94830),T=t(51919),P=t(83238),A=t(26924),B=t(59139),O=t(78087),R=function(e){var n,t,x=e.open,N=e.setOpen,k=(0,f.useState)(!1),R=k[0],D=k[1],F=(0,f.useState)(!1),W=F[0],L=F[1],z=(0,f.useState)(!1),M=z[0],G=z[1],K=(0,f.useState)(!1),H=K[0],V=K[1],$=(0,f.useState)([]),U=$[0],q=$[1],X=(0,f.useState)(null),J=X[0],Y=X[1],Q=(0,f.useState)(!1),ee=Q[0],ne=Q[1],te=(0,s.Z)((0,p.Z)("websiteBuilder.paywall",""),2)[1],ie=(0,w.Z)(),oe=ie.confirm,le=ie.ConfirmDialog,se=(0,b.Z)(),ae=se.get,re=se.remove,ce=se.post,de=se.patch,ue=(0,j.useSession)().data,ve=function(){var e=(0,i.Z)((function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return D(!0),[4,ae("/optimize-website/get-seo-keywords")];case 1:return(e=n.sent())&&!0===e.status&&e.content&&q(e.content),D(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),me=function(e){var n=U[e];oe("Delete keyword?",(0,c.jsxs)(c.Fragment,{children:["Are you sure you want to delete ",(0,c.jsx)("b",{children:n.value}),"?"]}),(function(){L(n._id),re("/optimize-website/seo-keywords",{keywordId:n._id}).then((function(n){n&&!0===n.status&&q(U.filter((function(n,t){return t!==e})))})).finally((function(){L(!1),(0,h.IT)("website.keywords")}))}))},fe=function(){var e=(0,i.Z)((function(){var e,n;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return G(!0),(null===J||void 0===J?void 0:J._id)?[3,5]:[4,ce("/optimize-website/seo-keywords",{keyword:J.value})];case 1:return(e=t.sent())&&!0===e.status?(q((0,a.Z)(U).concat([e.content])),[4,ve()]):[3,3];case 2:return t.sent(),h.Z9.success("Keyword added successfully"),ne(!1),setTimeout((function(){Y(null)}),300),[3,4];case 3:h.Z9.error("Failed to add keyword"),t.label=4;case 4:return[3,9];case 5:return[4,de("/optimize-website/seo-keywords",{keywordId:J._id,newKeyword:J.value})];case 6:return(n=t.sent())&&!0===n.status?[4,ve()]:[3,8];case 7:return t.sent(),h.Z9.success("Keyword updated successfully"),ne(!1),setTimeout((function(){Y(null)}),300),[3,9];case 8:h.Z9.error("Failed to update keyword"),t.label=9;case 9:return G(!1),(0,h.IT)("website.keywords"),[2]}}))}));return function(){return e.apply(this,arguments)}}(),he=function(e){ne(!0),Y((0,h.p$)(U[e]))},pe=function(e){var n,t;if("free"===(null===ue||void 0===ue||null===(n=ue.user)||void 0===n||null===(t=n.plan)||void 0===t?void 0:t.priceId))return"Upgrade plan";if(!e.rankTrend)return e.rank;var i="up"===e.rankTrend?(0,c.jsx)(P.Z,{className:"w-5 h-5"}):(0,c.jsx)(A.Z,{className:"w-5 h-5"});return(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{children:e.rank}),i]})};return(0,f.useEffect)((function(){x&&ve()}),[x]),(0,c.jsxs)(u.h,{children:[(0,c.jsx)(le,{confirmText:"Delete",attention:!0}),(0,c.jsx)(C.u,{open:!!ee,className:"md:min-w-120",title:"".concat((null===J||void 0===J?void 0:J._id)?"Update":"Add"," keyword"),buttons:(0,c.jsxs)("div",{className:"flex gap-3",children:[(0,c.jsx)(_.Z,{className:"button auxiliary",onClick:function(){ne(!1),setTimeout((function(){Y(null)}),300)},disabled:M,children:"Cancel"}),(0,c.jsx)(_.Z,{className:"button default",onClick:fe,disabled:M||!(null===J||void 0===J?void 0:J.value)||""===(null===J||void 0===J?void 0:J.value.trim())||(null===J||void 0===J?void 0:J.value.length)>50,loading:M,children:(null===J||void 0===J?void 0:J._id)?"Update":"Add"})]}),hasCustomBody:!0,footerHasMarginTop:!1,hasCloseIconAvailable:!1,setOpen:function(){},children:(0,c.jsx)("div",{className:"p-6",children:(0,c.jsx)(S.Z,{value:null===J||void 0===J?void 0:J.value,onChange:function(e){return Y((0,l.Z)((0,o.Z)({},J),{value:e}))}})})}),(0,c.jsx)(v.u,{show:!!x,as:f.Fragment,enter:"ease-in duration-300",enterFrom:"opacity-0 scale-120",enterTo:"opacity-100 scale-100",leave:"ease-out duration-400",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-120",children:(0,c.jsxs)("div",{className:"fixed bg-white block shadow-md z-100 inset-0 w-full max-h-screen overflow-y-auto",children:[(0,c.jsx)("button",{className:"right-6 top-6 absolute z-110",onClick:function(){N(!1)},children:(0,c.jsx)(d.Z,{icon:"XIcon",className:"w-6 h-6 text-gray-900 md:text-gray-900"})}),(0,c.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-gradient-to-t from-white via-white to-white/0 h-24 lg:h-32"}),(0,c.jsxs)("div",{className:"flex flex-col px-4 md:px-18 py-7 md:py-8",children:[(0,c.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,c.jsxs)("div",{className:"max-w-150 lg:max-w-120 xl:max-w-150",children:[(0,c.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,c.jsx)("h4",{className:"text-xl md:text-2xl text-black text-opacity-80",children:"Keywords for SEO"}),(0,c.jsx)("span",{className:"badge default",children:"Beta"})]}),(0,c.jsx)("p",{className:"text-sm text-black text-opacity-55",children:"Our SEO Agent has identified keywords that will help your business rank higher on search engines. We'll automatically apply these keywords to any new content you generate."}),(0,c.jsxs)("p",{className:"text-sm text-black text-opacity-55",children:[(0,c.jsx)(g(),{href:"https://durable.co/blog/seo-guide-for-durable-websites",children:(0,c.jsx)("a",{className:"text-black text-opacity-80 font-medium underline",target:"_blank",children:"Learn more"})})," about SEO and how it can help your business grow."]})]}),(0,c.jsx)("div",{className:"fixed z-10 bottom-0 left-0 right-0 p-4 lg:p-0 bg-white border-t lg:border-none lg:static flex items-center lg:items-end lg:justify-end flex-1 gap-3",children:U.length>=20?(0,c.jsx)("span",{className:"flex items-center justify-start text-gray-500 text-sm font-medium leading-4 h-14",children:"Maximum amount of keywords reached"}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("button",{className:"button ghost icon-left w-full lg:w-auto",onClick:function(){V(!0),ce("/optimize-website/suggest-seo-keywords").then((function(e){e&&!0===e.status?(q((0,a.Z)(U).concat((0,a.Z)(e.content))),h.Z9.success("Keywords suggested successfully")):h.Z9.error("Failed to suggest keywords")})).finally((function(){V(!1),(0,h.IT)("website.keywords")}))},disabled:H,children:[(0,c.jsx)(I.Z,{className:"w-5 h-5"}),(0,c.jsx)("span",{children:"Auto-keywords"})]}),(0,c.jsxs)("button",{className:"button default icon-left w-full lg:w-auto",onClick:function(){ne(!0),Y({_id:null,value:""})},disabled:H,children:[(0,c.jsx)(T.Z,{className:"w-5 h-5"}),(0,c.jsx)("span",{children:"Add keyword"})]})]})})]}),"free"===(null===ue||void 0===ue||null===(n=ue.user)||void 0===n||null===(t=n.plan)||void 0===t?void 0:t.priceId)&&(0,c.jsx)(Z,{className:"mt-6",text:"Upgrade your plan to enable rank",variant:"info",icon:"InformationCircleSolidIcon",action:{label:"View plans \u2192",onClick:function(){te("keywords")}}}),(0,c.jsx)("div",{className:"mt-10 flex-1 pb-20",children:(0,c.jsxs)("table",{className:"table table-auto w-full",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{children:[(0,c.jsx)("th",{className:"p-4 text-left text-sm font-medium text-black text-opacity-55",children:"Keyword"}),(0,c.jsx)("th",{className:"hidden md:table-cell p-4 text-left text-sm font-medium text-black text-opacity-55",children:"Rank"}),(0,c.jsx)("th",{})]})}),(0,c.jsx)("tbody",{children:U.map((function(e,n){return(0,c.jsxs)("tr",{className:"",children:[(0,c.jsxs)("td",{className:"border-t px-4 py-3 text-sm font-semibold text-black text-opacity-80",children:[null===e||void 0===e?void 0:e.value,(0,c.jsxs)("div",{className:"flex items-center gap-2 md:hidden mt-2 text-sm font-medium text-black text-opacity-55",children:[(0,c.jsx)("div",{children:"Rank"}),pe(e)]})]}),(0,c.jsx)("td",{className:"hidden md:table-cell border-t px-4 py-3 text-sm font-medium text-black text-opacity-55",children:pe(e)}),(0,c.jsxs)("td",{className:"text-right border-t px-4 py-3",children:[(0,c.jsxs)(E.Z,{className:"block md:hidden",inline:!0,buttonClassName:"text-gray-600 p-2",placementAlign:"end",closeOnSelect:!0,disabled:H,children:[(0,c.jsx)(m.v.Item,{as:"div",className:"menu-item",onClick:function(){return he(n)},children:(0,c.jsxs)("div",{className:"menu-item-group",children:[(0,c.jsx)(B.Z,{className:"w-5 h-5"}),(0,c.jsx)("span",{children:"Edit keyword"})]})},"edit-keyword-entry-".concat(n)),(0,c.jsx)(m.v.Item,{as:"div",className:"menu-item",onClick:function(){return me(n)},children:(0,c.jsxs)("div",{className:"menu-item-group",children:[(0,c.jsx)(O.Z,{className:"w-5 h-5"}),(0,c.jsx)("span",{children:"Delete keyword"})]})},"delete-keyword-entry-".concat(n))]}),(0,c.jsxs)("div",{className:"hidden md:inline-flex items-center gap-2",children:[(0,c.jsx)("button",{className:"button ghost icon sm",onClick:function(){return he(n)},disabled:H||R,children:(0,c.jsx)(B.Z,{className:"w-5 h-5"})}),(0,c.jsx)("button",{className:"button ghost icon sm",onClick:function(){return me(n)},disabled:H||W===(null===e||void 0===e?void 0:e._id)||R,children:W===(null===e||void 0===e?void 0:e._id)?(0,c.jsx)(y.Z,{text:"",className:"ml-1"}):(0,c.jsx)(O.Z,{className:"w-5 h-5"})})]})]})]},"keyword-".concat(n))}))})]})})]})]})})]})}},63944:function(e,n,t){"use strict";t.d(n,{Q5:function(){return a},ld:function(){return r}});var i=t(47568),o=t(97582),l=function(){return sessionStorage.getItem("idBusiness")},s=function(e){var n,t=sessionStorage.getItem("user");return t&&null!==(n=JSON.parse(t)[e])&&void 0!==n?n:null},a=function(){var e=(0,i.Z)((function(e){var n,t,i=arguments;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return i.length>1&&void 0!==i[1]&&i[1],n="scheduleData",[4,e("/sms/get-existing-schedule-data",{businessID:l()})];case 1:return(t=o.sent()).status?(localStorage.setItem(n,JSON.stringify(t.content)),[2,t.content]):[2,null]}}))}));return function(n){return e.apply(this,arguments)}}(),r=function(){var e=(0,i.Z)((function(e,n,t,i,a,r,c){var d,u,v=arguments;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return d=!(v.length>7&&void 0!==v[7])||v[7],[4,e("/sms/add-blog-schedule",{businessID:l(),userEmail:s("email"),isBlogPostEnabled:n,selectedSchedule:t,isNotificationEnabled:i,phoneNumber:a,countryCode:r,existingScheduleID:c,shouldAutoPublishBlog:d})];case 1:return u=o.sent(),n?[3,3]:[4,e("/automation/disable-skill",{identifier:"auto-post"})];case 2:o.sent(),o.label=3;case 3:return[2,null===u||void 0===u?void 0:u.status]}}))}));return function(n,t,i,o,l,s,a){return e.apply(this,arguments)}}();(function(){var e=(0,i.Z)((function(e,n,t){var i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,e("/sms/verify-business-phone-number",{businessID:l(),verificationCode:t,phoneNumber:n,email:s("email"),location:s("location")})];case 1:return[2,null===(i=o.sent())||void 0===i?void 0:i.verificationStatus]}}))}))})(),function(){var e=(0,i.Z)((function(e,n,t){var i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,e("/sms/resend-otp-code",{businessID:l(),countryCode:n,phoneNumber:t})];case 1:return[2,null===(i=o.sent())||void 0===i?void 0:i.isCodeResent]}}))}))}(),function(){var e=(0,i.Z)((function(e,n,t){var i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,e("/sms/send-code",{businessID:l(),userEmail:s("email"),phoneNumber:t,countryCode:n})];case 1:return[2,null===(i=o.sent())||void 0===i?void 0:i.status]}}))}))}(),function(){var e=(0,i.Z)((function(e,n,t){var i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return[4,e("/sms/resend-code",{businessID:l(),countryCode:n,phoneNumber:t})];case 1:return[2,null===(i=o.sent())||void 0===i?void 0:i.status]}}))}))}(),function(){var e=(0,i.Z)((function(e,n){var t;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,e("/sms/verify-code",{businessID:l(),verificationCode:n})];case 1:return[2,null===(t=i.sent())||void 0===t?void 0:t.content]}}))}))}()},78228:function(e,n,t){"use strict";t.d(n,{m:function(){return b}});var i=t(85893),o=t(60508),l=t(40944),s=t(57592),a=t(67294),r={initial:{opacity:0,filter:"blur(4px)"},animate:{opacity:1,filter:"blur(0px)",transition:{duration:.4,ease:"easeInOut"}},exit:{opacity:0,filter:"blur(4px)",transition:{duration:.4,ease:"easeInOut"}}},c=function(e){var n=e.children,t=e.color,o=void 0===t?"rgba(255, 255, 255, 1)":t,l=e.shimmer,a=void 0===l||l,c=e.className,d=void 0===c?"":c,u=o.replace(/, *1\)$/,", 0.2)"),v="linear-gradient(\n    90deg,\n    ".concat(o," 0%,\n    ").concat(u," 50%,\n    ").concat(o," 100%\n  )");return(0,i.jsx)(s.E.span,{variants:r,initial:"initial",animate:"animate",exit:"exit",className:"".concat(d," ").concat(a?"animate-text-shimmer":"text-white"),style:a?{backgroundImage:v,backgroundSize:"200% auto",color:"transparent",backgroundClip:"text",WebkitBackgroundClip:"text"}:{},children:n})},d={initial:{y:48,opacity:0,scale:1.1,rotateX:60},animate:{y:0,opacity:1,scale:1,rotateX:0,transition:{type:"spring",stiffness:200,damping:20,mass:1}},exit:{y:-20,opacity:0,scale:.9,rotateX:-60,transition:{type:"spring",stiffness:150,damping:20,mass:.8}},fadeOut:{y:0,opacity:0,scale:1,rotateX:0,transition:{duration:2,ease:"easeOut"}}},u=function(e){var n=e.show,t=void 0===n||n,a=e.text,r=e.icon,u=void 0===r?"SparklesIcon":r,v=e.color,m=void 0===v?"#FBA026":v,f=e.shimmer,h=void 0===f||f,p=e.isFadingOut,x=void 0!==p&&p;return(0,i.jsx)(o.f,{show:t,animation:"slideFromBottom",as:"div",children:(0,i.jsx)("div",{className:"fixed z-[100] bottom-4 md:bottom-10 left-4 right-4",children:(0,i.jsx)("div",{className:"relative max-w-xs md:max-w-sm mx-auto transition-all duration-300",children:(0,i.jsx)("div",{className:"relative",children:(0,i.jsx)(s.E.div,{className:"flex items-center shadow-2xl gap-3 p-4 md:py-5 md:px-8 text-sm font-semibold rounded-3xl",style:{backgroundColor:m},variants:d,initial:"initial",animate:x?"fadeOut":"animate",exit:"exit",children:(0,i.jsx)(c,{shimmer:h,children:(0,i.jsxs)("span",{className:"flex items-center gap-2 min-w-full",children:[(0,i.jsx)(l.Z,{icon:u,from:"heroicons",className:"w-6 h-6 text-white"}),(0,i.jsx)("span",{children:a})]})})})})})})})},v=t(38462),m=t(21190),f="#3D83C9",h="#FBA026",p="#2590A5",x="#7D5D9A",g="#498A67",b=function(e){var n,t,o,l=e.currentStep,s=e.totalSteps,r=e.action,c=void 0===r?"GENERATING_SITE":r,d=e.onComplete,b=e.show,w=void 0===b||b,y=(0,v.$G)("mars").t,j={GENERATING_SITE:[{text:y("siteGenerating.stage1"),icon:"CubeTransparentIcon",color:f},{text:y("siteGenerating.stage2"),icon:"PencilSquareIcon",color:h},{text:y("siteGenerating.stage3"),icon:"PhotoIcon",color:p},{text:y("siteGenerating.stage4"),icon:"SparklesIcon",color:x},{text:y("siteGenerating.done"),icon:"CheckCircleIcon",color:g}],GENERATING_PAGE:[{text:y("pageGenerating.stage1"),icon:"CubeTransparentIcon",color:f},{text:y("pageGenerating.stage2"),icon:"PencilSquareIcon",color:h},{text:y("pageGenerating.stage3"),icon:"PhotoIcon",color:p},{text:y("pageGenerating.stage4"),icon:"SparklesIcon",color:x},{text:y("pageGenerating.done"),icon:"CheckCircleIcon",color:g}],CHANGING_TEMPLATE:[{text:y("changingTemplate.stage1"),icon:"CubeTransparentIcon",color:f},{text:y("changingTemplate.stage2"),icon:"PencilSquareIcon",color:h},{text:y("changingTemplate.stage3"),icon:"PhotoIcon",color:p},{text:y("changingTemplate.stage4"),icon:"SparklesIcon",color:x},{text:y("changingTemplate.done"),icon:"CheckCircleIcon",color:g}]}[c],N=(0,a.useState)(!1),k=N[0],Z=N[1],C=(0,a.useState)(!1),_=C[0],S=C[1],E=(0,a.useState)(!1),I=E[0],T=E[1],P=(0,a.useState)(0),A=P[0],B=P[1],O=(0,a.useRef)(!1),R=(0,a.useRef)(w),D=void 0===l||void 0===s;if(D)n=A,t=A===j.length-1,o=n===j.length-1;else{var F=s>0?l/s:0,W=Math.min(Math.floor(F*(j.length-1)),j.length-1);o=(n=(t=l>=s)?j.length-1:W)===j.length-1}var L=j[n];if((0,a.useEffect)((function(){!R.current&&w&&(k||O.current)&&(Z(!1),S(!1),T(!1),B(0),O.current=!1),R.current=w}),[w,k]),(0,a.useEffect)((function(){if(D&&w&&!k&&!O.current){var e=setInterval((function(){B((function(e){return e<j.length-2?e+1:e}))}),2500);return function(){return clearInterval(e)}}}),[D,w,k,j.length]),(0,a.useEffect)((function(){!D||w||k||O.current||A<j.length-2||setTimeout((function(){B(j.length-1)}),1e3)}),[D,w,k,j.length,A]),(0,a.useEffect)((function(){!t||I||k||O.current||(T(!0),O.current=!0,setTimeout((function(){S(!0),setTimeout((function(){Z(!0),d&&d(!0)}),2e3)}),1500))}),[t,I,k,d]),!w&&k)return null;var z=L.text,M=L.icon,G=L.color;return(0,i.jsx)(m.M,{mode:"wait",children:!k&&(0,i.jsx)(u,{show:!k,text:z,icon:M,color:G,shimmer:!o,isFadingOut:_},"step-".concat(n,"-").concat(c))})}},66712:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var i=t(10253),o=t(85893),l=t(25675),s=t.n(l),a=t(61437),r=t(3732),c=t(19645);function d(e){var n=e.className,t=e.trackEvent,l=void 0===t||t,d=e.onAction,u=e.showLink,v=void 0===u||u,m=(0,i.Z)((0,a.Z)("layout.paywall"),2)[1],f=(0,c.Z)().track;return(0,o.jsxs)("div",{className:(0,r.AK)("flex flex-col md:flex-row md:items-center gap-5 rounded-xl py-4 px-5",n),children:[(0,o.jsx)("div",{className:"flex-shrink-0 relative w-14 h-14 -mb-3 -mx-0.5",children:(0,o.jsx)(s(),{src:(0,r.sd)("website-builder/domain.png"),alt:"Upgrade",layout:"fill",objectFit:"cover"})}),(0,o.jsxs)("div",{className:"flex flex-col items-start",children:[(0,o.jsx)("label",{className:"mb-1",children:"Upgrade and get a professional domain"}),(0,o.jsx)("p",{className:"label helper",children:"Level up your business with a custom domain, automated SEO, analytics, and more!"}),v&&(0,o.jsx)("button",{className:"button ghost sm mt-2",onClick:function(){l&&f("account:paywall_trigger_clicked",{context:"domain_cta"}),"function"===typeof d?d():m("domain_cta")},children:"Get Domain \u2192"})]})]})}},48078:function(e,n,t){"use strict";var i=t(47568),o=t(97582),l=t(85893),s=t(12280),a=t(67294),r=t(43490),c=t(16494),d=t(3732),u=t(63944),v=t(16682),m=t(19645),f=t(40944),h=t(33299);n.Z=function(e){var n,t,p=e.showModal,x=e.showModalHandler,g=e.scheduleData,b=e.setScheduleData,w=null===g||void 0===g?void 0:g.existingScheduleData,y=null!==(n=null===w||void 0===w?void 0:w.isEnabled)&&void 0!==n&&n,j=null!==(t=!(null===w||void 0===w?void 0:w.shouldAutoPublishBlog))&&void 0!==t&&t,N=(0,a.useState)(!1),k=N[0],Z=N[1],C=(0,a.useState)(!1),_=C[0],S=C[1],E=(0,a.useState)(!0),I=E[0],T=E[1],P=(0,m.Z)().track,A=(0,v.Z)(),B=A.post,O=A.get,R=(0,h.useSession)().data,D=function(){var e=(0,i.Z)((function(){var e,n,t;return(0,o.__generator)(this,(function(i){switch(i.label){case 0:return[4,(0,u.Q5)(O,!0)];case 1:return n=i.sent(),b(n),T(null!==(t=!(null===n||void 0===n||null===(e=n.existingScheduleData)||void 0===e?void 0:e.shouldAutoPublishBlog))&&void 0!==t&&t),[2]}}))}));return function(){return e.apply(this,arguments)}}(),F=function(){var e=(0,i.Z)((function(e){var n,t,i,l,s,a,r,c,d;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=e.isDraftBlogPostEnabled,t=e.draftBeforePosting,!1,[4,(0,u.ld)(B,n,null!==(a=null===g||void 0===g||null===(i=g.existingScheduleData)||void 0===i?void 0:i.name)&&void 0!==a?a:"ONE_OFF",false,null!==(r=null===g||void 0===g||null===(l=g.existingScheduleData)||void 0===l||null===(s=l.BusinessPhoneNumber)||void 0===s?void 0:s.phoneNumber)&&void 0!==r?r:"",null!==(c=null===g||void 0===g?void 0:g.countryCode)&&void 0!==c?c:"",null!==(d=null===w||void 0===w?void 0:w._id)&&void 0!==d?d:null,!t)];case 1:return[2,o.sent()]}}))}));return function(n){return e.apply(this,arguments)}}(),W=function(){var e=(0,i.Z)((function(){var e,n,t,i;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return Z(!0),[4,B("/automation/activate-skill",{identifier:"auto-post"})];case 1:return!0!==(null===(e=o.sent())||void 0===e?void 0:e.status)?[3,6]:[4,B("/sms/add-blog-schedule",{businessID:null===R||void 0===R||null===(n=R.business)||void 0===n?void 0:n._id,userEmail:null===R||void 0===R||null===(t=R.user)||void 0===t?void 0:t.email,isBlogPostEnabled:!0,selectedSchedule:"TEN_BLOGS_MONTHLY",isNotificationEnabled:!1,phoneNumber:null,countryCode:null,existingScheduleID:null,shouldAutoPublishBlog:!I})];case 2:return!0!==(null===(i=o.sent())||void 0===i?void 0:i.status)&&"SUCCESS"!==(null===i||void 0===i?void 0:i.status)?[3,4]:(P("website:enable_automate_blog"),[4,D()]);case 3:return o.sent(),[3,5];case 4:d.Z9.error("Failed to enable.",{autoClose:!0}),o.label=5;case 5:Z(!1),o.label=6;case 6:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,i.Z)((function(){return(0,o.__generator)(this,(function(e){switch(e.label){case 0:return Z(!0),[4,F({isDraftBlogPostEnabled:!1,draftBeforePosting:j})];case 1:return"FAILED"===e.sent()?(Z(!1),d.Z9.error("Failed to save schedule.",{autoClose:!0}),[2]):[4,(0,d._v)(2e3)];case 2:return e.sent(),[4,D()];case 3:return e.sent(),Z(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=(0,i.Z)((function(e){return(0,o.__generator)(this,(function(n){switch(n.label){case 0:return T(e),(null===w||void 0===w?void 0:w._id)?(S(!0),[4,F({isDraftBlogPostEnabled:!0,draftBeforePosting:e})]):[2];case 1:return"FAILED"===n.sent()?(d.Z9.error("Failed to save schedule.",{autoClose:!0}),[2]):[4,(0,d._v)(2e3)];case 2:return n.sent(),[4,D()];case 3:return n.sent(),S(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){p&&P("app:configure-content-agent-clicked")}),[p]),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(s.u,{buttons:(0,l.jsx)("div",{className:"flex flex-col-reverse sm:flex-row items-center gap-3",children:(0,l.jsx)("button",{onClick:y?L:W,className:(0,d.AK)("button w-full rounded-full",y?"destructive bg-red-100":"default"),disabled:k,children:k?(0,l.jsx)(c.Z,{text:""}):y?"Disable Content Strategist":"Enable Content Strategist"})}),open:p,setOpen:function(){x(!1)},fixedHeight:!1,className:"w-full md:max-w-120",contentClassName:"!pt-0",hasBorderOnTitle:!1,isLoading:k,children:(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"inline-flex items-center px-2 md:px-4",children:[(0,l.jsx)("h3",{className:"text-2xl font-semibold text-black text-opacity-80",children:"Content Strategist"}),y&&(0,l.jsxs)("label",{className:"inline-flex items-center gap-2 text-xs font-semibold text-gray-500 ml-3",children:[(0,l.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-green-400 inline-block"}),"Enabled"]})]}),(0,l.jsx)("p",{className:"label helper mt-4 px-2 md:px-4",children:"Let AI write and automatically publish 10 SEO-optimized blog posts each month to help you rank higher, attract traffic, and grow your brand."}),(0,l.jsxs)("div",{className:"flex items-center justify-between gap-6 mt-3 bg-gray-50 p-2 md:p-4 rounded-lg",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{id:"draftModeLabel",className:"flex items-center gap-2 mb-1",children:[(0,l.jsx)("span",{className:"text-sm font-semibold text-black/80",children:"Draft mode"}),_&&(0,l.jsx)(f.Z,{icon:"LoaderIcon",from:"v2",variant:"large",className:"h-4 w-4 animate-spin"})]}),(0,l.jsx)("p",{className:"label helper",children:"Review posts before they go live"})]}),(0,l.jsx)(r.Z,{enabled:y?j:I,onChange:z,disabled:_,loading:_,"aria-labelledby":"draftModeLabel"})]})]})})})}},89130:function(e,n,t){"use strict";var i=t(85893),o=t(66605),l=t(40944),s=t(3732);n.Z=function(e){var n=e.disabled,t=e.onClick,a=e.active,r=e.automateLabel,c=void 0===r?"Automate":r;return(0,i.jsx)(o.Z,{title:a?"Configure Content Strategist":"",position:"bottom",className:"h-7",children:(0,i.jsxs)("button",{className:(0,s.AK)("button sm relative w-7 h-7 md:icon-left md:w-auto md:h-auto",a?"ghost":"bg-[#EADBF5] border-1 border-[#EADBF5]"),disabled:n,onClick:t,"aria-label":a?"Automated":c,children:[(0,i.jsx)(l.Z,{icon:a?"SparkleFilledIcon":"SparkleIcon",variant:"large",from:"v2",className:(0,s.AK)("w-4 h-4 absolute md:relative",a?"text-green-500":""),"aria-hidden":"true"}),(0,i.jsx)("span",{className:"hidden md:block md:mx-1",children:a?"Automated":c})]})})}},72565:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var i=t(10253),o=t(85893),l=t(12280),s=t(61437),a=t(25675),r=t.n(a),c=t(3732);function d(e){var n=e.open,t=e.setOpen,a=((0,i.Z)((0,s.Z)("layout.paywall",""),2)[1],(0,i.Z)((0,s.Z)("websiteBuilder.paywall",""),2)[1],(0,c.ac)("(min-width: 860px)"));return(0,o.jsx)(l.u,{open:n,setOpen:t,className:"md:mx-4",children:(0,o.jsxs)("div",{className:"flex flex-col md:flex-row max-w-screen-md md:mb-14 md:h-[500px] overflow-hidden",children:[(0,o.jsx)("div",{className:"relative w-full md:order-2 md:w-1/2 md:absolute md:top-2 md:right-2 md:bottom-2 pointer-events-none",children:a?(0,o.jsx)(r(),{src:(0,c.sd)("automation/content-strategist-2x.png"),alt:"Automate blog",layout:"fill",style:{objectFit:"contain"}}):(0,o.jsx)(r(),{src:(0,c.sd)("automation/content-strategist-mobile-2x.png"),alt:"Automate blog",layout:"responsive",style:{objectFit:"contain"},width:438,height:248})}),(0,o.jsxs)("div",{className:"flex flex-col justify-between w-full md:w-1/2 min-h-full pl-4 pr-8 py-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-2xl font-semibold text-black text-opacity-80 mb-6",children:"Content Strategist"}),(0,o.jsx)("p",{className:"mb-6",children:"Automate your blog with AI to create SEO-optimized posts. Increase rankings, drive traffic, and grow your brand."}),(0,o.jsxs)("ul",{className:"list-disc list-inside mb-6",children:[(0,o.jsx)("li",{children:"Keyword analysis for high-traffic topics"}),(0,o.jsx)("li",{children:"Custom blog strategy for your business"}),(0,o.jsx)("li",{children:"Optimized timing for peak visibility"})]})]}),(0,o.jsx)("div",{className:"w-full md:w-auto",children:(0,o.jsx)("button",{className:"button default w-full md:w-auto",onClick:function(){window.top.postMessage({event:"show-paywall",type:"pricing"},"*"),t(!1)},children:"Upgrade"})})]})]})})}},78174:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var i=t(26042),o=t(69396),l=t(85893),s=t(94707),a=t(51121);function r(e){var n=e.className,t=e.block,r=e.setBlock,c=e.type;return(0,l.jsxs)("div",{className:n,children:[(0,l.jsx)(s.Z,{prompt:"mars-generate-tagline",regenerate:!!(null===t||void 0===t?void 0:t.tagline),data:{blockType:c,content:null===t||void 0===t?void 0:t.headline,currentContent:null===t||void 0===t?void 0:t.tagline,meaning:"Tagline for a ".concat(c)},onRegenerate:function(e){r((function(n){return(0,o.Z)((0,i.Z)({},n),{tagline:e})}))},options:{shorten:!1,lengthen:!1,simplify:!1,seo:!1},title:"Tagline",className:"pb-6",children:(0,l.jsx)(a.Z,{value:null===t||void 0===t?void 0:t.tagline,id:"tagline",onChange:function(e){return r((0,o.Z)((0,i.Z)({},t),{tagline:e}))}})}),(0,l.jsx)(s.Z,{prompt:"mars-generate-heading",regenerate:!!(null===t||void 0===t?void 0:t.headline),data:{blockType:c,content:null===t||void 0===t?void 0:t.content,currentContent:null===t||void 0===t?void 0:t.headline,meaning:"Headline for a ".concat(c)},onRegenerate:function(e){r((function(n){return(0,o.Z)((0,i.Z)({},n),{headline:e})}))},options:{lengthen:!1},className:"pb-6",title:"Headline",children:(0,l.jsx)(a.Z,{value:null===t||void 0===t?void 0:t.headline,id:"headline",onChange:function(e){return r((0,o.Z)((0,i.Z)({},t),{headline:e}))}})}),(0,l.jsx)(s.Z,{prompt:"mars-generate-text",regenerate:!!(null===t||void 0===t?void 0:t.content),data:{blockType:c,content:null===t||void 0===t?void 0:t.headline,currentContent:null===t||void 0===t?void 0:t.content,meaning:"Content for a ".concat(c)},onRegenerate:function(e){r((function(n){return(0,o.Z)((0,i.Z)({},n),{content:e})}))},title:"Subtext",children:(0,l.jsx)("textarea",{rows:4,id:"content",placeholder:"Subtext",value:null===t||void 0===t?void 0:t.content,onChange:function(e){return r((0,o.Z)((0,i.Z)({},t),{content:e.target.value}))},className:"input v2"})})]})}},40318:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var i=t(26042),o=t(69396),l=t(29815),s=t(85893),a=t(43490),r=(t(67294),t(40944)),c=t(3732),d=t(45587),u=t(43443),v=t(59435),m=t(1421),f=function(e){switch(e.type){case"page":return(0,s.jsx)(r.Z,{icon:"DocumentTextIcon",from:"heroicons",className:"w-5 h-5"});case"phone":return(0,s.jsx)(r.Z,{icon:"PhoneIcon",from:"heroicons",className:"w-5 h-5"});case"email":return(0,s.jsx)(r.Z,{icon:"EnvelopeIcon",from:"heroicons",className:"w-5 h-5"});case"section":return(0,s.jsx)(r.Z,{icon:"QueueListIcon",from:"heroicons",className:"w-5 h-5"});default:return(0,s.jsx)(r.Z,{icon:"LinkIcon",from:"heroicons",className:"w-5 h-5"})}},h=(0,u.W8)((function(e){var n=e.idx,t=e.item,i=e.onSelect,o=e.onRemove;return(0,s.jsxs)("li",{className:"relative z-100 list-item",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.DU,{}),(0,s.jsxs)("div",{className:"flex-1 flex items-center gap-2 py-1",children:[f(t),(0,s.jsx)("span",{children:t.label})]})]}),(0,s.jsx)(m.EY,{onSelect:function(){return i(n,t)},onRemove:function(){return o(n)}})]})})),p=(0,u.JN)((function(e){var n=e.items,t=e.onSelect,i=e.onRemove;return(0,s.jsx)("ul",{className:"prevent-select",children:null===n||void 0===n?void 0:n.map((function(e,n){return(0,s.jsx)(h,{index:n,idx:n,item:e,onSelect:t,onRemove:i},"list-item-".concat(n))}))})}));function x(e){var n,t,r=e.className,u=e.title,f=e.text,h=e.block,x=e.noSection,g=e.setBlock,b=e.setSelected,w=e.onEdit,y=null===h||void 0===h?void 0:h.buttons;!y&&(null===h||void 0===h?void 0:h.button)&&(y={enabled:!0,items:[null===h||void 0===h?void 0:h.button]});return(0,s.jsxs)("div",{className:r,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:u||"Buttons"}),f&&(0,s.jsx)("p",{className:"label helper mt-1 mr-2",children:f})]}),(0,s.jsx)(a.Z,{enabled:null===y||void 0===y?void 0:y.enabled,onChange:function(e){var n,t=x?null:window.websitePage,l=(0,o.Z)((0,i.Z)({},y),{enabled:e,button:void 0});e&&!(null===(n=l.items)||void 0===n?void 0:n.length)&&(l.items=[(0,v.vH)("style1",t)]),g((0,o.Z)((0,i.Z)({},h),{buttons:l}))}})]}),(null===y||void 0===y?void 0:y.enabled)&&(null===y||void 0===y||null===(n=y.items)||void 0===n?void 0:n.length)>0&&(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(p,{distance:10,useDragHandle:!0,helperClass:"list-none bg-white rounded-xl shadow-lg cursor-move",lockAxis:"y",lockOffset:"0%",lockToContainerEdges:!0,items:null===y||void 0===y?void 0:y.items,onSortEnd:function(e){var n=e.oldIndex,t=e.newIndex,l=(0,c.p$)(null===y||void 0===y?void 0:y.items);l=(0,d.Rp)(l,n,t),g((0,o.Z)((0,i.Z)({},h),{buttons:(0,o.Z)((0,i.Z)({},y),{items:l}),button:void 0}))},onRemove:function(e){var n=(0,c.p$)(null===y||void 0===y?void 0:y.items);n.splice(e,1),0===n.length&&(y.enabled=!1),g((0,o.Z)((0,i.Z)({},h),{buttons:(0,o.Z)((0,i.Z)({},y),{items:n}),button:void 0}))},onSelect:function(e){b(e),w()}})}),(null===y||void 0===y?void 0:y.enabled)&&(null===y||void 0===y||null===(t=y.items)||void 0===t?void 0:t.length)<2&&(0,s.jsx)(m.HS,{label:"Add button",onClick:function(){var e,n,t,s,a=x?null:window.websitePage,r="style1"===(null===y||void 0===y||null===(e=y.items)||void 0===e||null===(n=e[0])||void 0===n||null===(t=n.style)||void 0===t?void 0:t.name)?"style2":"style1";g((0,o.Z)((0,i.Z)({},h),{button:void 0,buttons:(0,o.Z)((0,i.Z)({},y),{items:(0,l.Z)((null===y||void 0===y?void 0:y.items)||[]).concat([(0,v.vH)(r,a)])})})),b(null===y||void 0===y||null===(s=y.items)||void 0===s?void 0:s.length),w()}})]})}},53511:function(e,n,t){"use strict";var i=t(26042),o=t(69396),l=t(85893),s=t(43490),a=t(3732);n.Z=function(e){var n=e.block,t=e.setBlock,r=e.className;return 1===n.idx?(0,l.jsxs)("div",{className:(0,a.AK)("flex items-center justify-between gap-3",r),children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"mb-1",children:"Combine with header"}),(0,l.jsx)("p",{className:"label helper",children:"Seamlessly blend banner background with page header"})]}),(0,l.jsx)(s.Z,{enabled:null===n||void 0===n?void 0:n.combineWithHeader,onChange:function(e){return t((0,o.Z)((0,i.Z)({},n),{combineWithHeader:e}))}})]}):null}},99887:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(26042),o=t(69396),l=t(85893),s=t(3732),a=t(59823),r=t(76698);function c(e){var n,t=e.block,c=e.setBlock,d=e.className,u=e.horizontalAlign,v=void 0===u||u,m=e.verticalAlign,f=void 0!==m&&m,h=e.rightAlign,p=void 0===h||h;return(0,l.jsxs)("div",{className:(0,s.AK)(d,"space-y-6"),children:[(0,l.jsx)("label",{children:"Content alignment"}),v&&(0,l.jsx)(a.n,{label:"Horizontal",value:(null===t||void 0===t?void 0:t.align)||"center",onChange:function(e){return c((0,o.Z)((0,i.Z)({},t),{align:e}))},rightAlign:p}),"min-h-screen"===(null===t||void 0===t||null===(n=t.spacing)||void 0===n?void 0:n.minHeight)&&f&&(0,l.jsx)(r.c,{label:"Vertical",value:(null===t||void 0===t?void 0:t.verticalAlign)||"center",onChange:function(e){return c((0,o.Z)((0,i.Z)({},t),{verticalAlign:e}))}})]})}},46930:function(e,n,t){"use strict";t.d(n,{P:function(){return y}});var i,o=t(47568),l=t(97582),s=t(85893),a=t(11355),r=t(27507),c=t(67294),d=t(51523),u=t(33299),v=t(41664),m=t.n(v),f=t(40944),h=t(16682),p=t(52077),x=t(3732),g=t(95350),b=t(66712),w=t(19645);function y(e){var n,t,v,y,j,N,k=e.preview,Z=e.status,C=e.previewToken,_=e.showAlert,S=e.open,E=e.setOpen,I=e.onPublish,T=e.onPreview,P=e.setOpenPaywall,A=(0,c.useState)(!0),B=A[0],O=A[1],R=(0,c.useState)(null),D=R[0],F=R[1],W=(0,c.useState)(null),L=W[0],z=W[1],M=(0,c.useState)(!1),G=M[0],K=M[1],H=(0,c.useState)(""),V=H[0],$=H[1],U=(0,c.useRef)(null),q=(0,c.useRef)(null),X=(0,c.useRef)(null),J=(0,h.Z)(),Y=J.get,Q=J.post,ee=(0,d.Z)(V),ne=ee.copied,te=ee.copy,ie=ee.reset,oe=(0,w.Z)().track,le=(0,u.useSession)().data,se=k?"private"===Z?"Preview":"View":"Upgrade to publish your",ae=function(){var e=(0,o.Z)((function(){var e,n,t,i;return(0,l.__generator)(this,(function(o){switch(o.label){case 0:return K(!0),[4,Y("/website/get-subdomain-details")];case 1:return(null===(e=o.sent())||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&(n=e.content,t=n.subdomain,i=n.durableDomain,F(t),z(i),$("https://".concat((0,x.lz)(e.content)).concat("private"===Z?"?pt=".concat(C):""))),K(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),re=function(){var e=(0,o.Z)((function(){var e;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return K(!0),[4,Y("/website/verify-subdomain",{subdomain:D})];case 1:return(e=n.sent())&&!0===e.status&&!0===e.content?O(!0):O(!1),K(!1),[2,e.content]}}))}));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=(0,o.Z)((function(){var e,n;return(0,l.__generator)(this,(function(t){switch(t.label){case 0:return K(!0),[4,Q("/website/save-subdomain",{subdomain:D})];case 1:return(null===(e=t.sent())||void 0===e?void 0:e.status)?[4,Q("/website/toggle-status",{status:"public"})]:[3,5];case 2:return(n=t.sent())&&n.status?[4,I()]:[3,4];case 3:t.sent(),E(!1),_&&g.Z.success("Website is live!"),t.label=4;case 4:return[3,6];case 5:g.Z.error(e.message),t.label=6;case 6:return K(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),de=function(){var e=(0,o.Z)((function(){return(0,l.__generator)(this,(function(e){return clearTimeout(i),i=setTimeout((0,o.Z)((function(){return(0,l.__generator)(this,(function(e){return[2,re()]}))})),500),[2]}))}));return function(){return e.apply(this,arguments)}}(),ue=function(){oe("account:paywall_trigger_clicked",{context:"".concat(k?"preview":"publish","_flow")}),P("".concat(k?"preview":"publish")),E(!1)},ve=function(){var e=(0,o.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return k?(T(),E(!1),[3,3]):[3,1];case 1:return[4,ce()];case 2:e.sent(),e.label=3;case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){var e=setTimeout((function(){ie()}),2e3);return function(){clearTimeout(e)}}),[ne]),(0,c.useEffect)((function(){S&&ae()}),[S]),(0,s.jsx)(a.u.Root,{show:S,as:c.Fragment,children:(0,s.jsx)(r.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",initialFocus:U,onClose:function(){return E(!1)},children:(0,s.jsxs)("div",{className:"flex items-end lg:items-center justify-center h-full lg:pt-4 lg:px-4 lg:pb-20 text-center",style:{maxHeight:"-webkit-fill-available"},children:[(0,s.jsx)(a.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,s.jsx)(r.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,s.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,s.jsx)(a.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,s.jsxs)("div",{className:"inline-block align-bottom w-full bg-white rounded-t-xl md:rounded-xl text-left overflow-visible shadow-xl transform transition-all md:my-8 md:align-middle md:max-w-lg",children:[(0,s.jsx)("div",{className:"flex justify-end p-4",children:(0,s.jsx)("button",{className:"button auxiliary icon sm rounded-full",onClick:function(){return E(!1)},children:(0,s.jsx)(f.Z,{icon:"XMarkIcon",from:"v2",className:"w-5 h-5"})})}),(0,s.jsx)("div",{className:"flex items-center gap-4 px-12 pb-6",children:(0,s.jsxs)(r.V.Title,{className:"text-2xl font-semibold text-black text-opacity-80",children:[se," site"]})}),(0,s.jsxs)("div",{ref:U,className:"px-12",children:[(0,s.jsx)("label",{className:"helper mb-2",children:"Website preview address"}),(0,s.jsxs)("div",{children:[k?(0,s.jsxs)("div",{className:(0,x.AK)("group relative flex items-center gap-2 border border-black border-opacity-30 rounded-full py-3 px-4 hover:border-opacity-55 overflow-hidden cursor-pointer transition-all",ne&&"!border-green-500",G&&"opacity-80 pointer-events-none"),onClick:function(){return te()},children:[(0,s.jsx)(f.Z,{icon:"LockClosedIcon",from:"heroicons",className:"text-gray-500 h-3 w-3"}),(0,s.jsxs)("div",{className:"flex-1 font-medium text-body md:text-sm truncate",children:[(0,s.jsx)("span",{children:D}),(0,s.jsx)("span",{className:"text-gray-400",children:(0,x.lz)({subdomain:D,durableDomain:L},!1)})]}),(0,s.jsxs)("div",{className:(0,x.AK)("absolute right-0 flex items-center py-3 px-4 bg-white text-black text-opacity-55 cursor-pointer transition-opacity hover:text-opacity-80",ne&&"!opacity-100 !text-green-500"),children:[(0,s.jsx)(f.Z,{icon:ne?"CheckIcon":"DocumentDuplicateSolidIcon",className:"w-5 h-5"}),ne&&(0,s.jsx)("span",{children:"Copied"})]})]}):(0,s.jsxs)("label",{className:"relative flex items-center gap-2 border rounded-full py-3 px-4 overflow-hidden",style:{paddingRight:(null===X||void 0===X||null===(n=X.current)||void 0===n?void 0:n.offsetWidth)+16||16},children:[(0,s.jsx)(f.Z,{icon:"LockClosedIcon",from:"heroicons",className:"text-gray-500 h-3 w-3"}),(0,s.jsx)("input",{ref:q,className:"w-full border-0 p-0 font-medium text-body md:text-sm outline-none placeholder-gray-400",value:D,onKeyUp:function(){return de()},onChange:function(e){return F((0,x.nv)(e.target.value,L))}}),(0,s.jsxs)("div",{className:"absolute inset-0 flex items-center py-3 pl-9 pr-4 font-medium text-body md:text-sm pointer-events-none",children:[(0,s.jsx)("div",{className:"opacity-0",style:{maxWidth:(null===q||void 0===q||null===(t=q.current)||void 0===t?void 0:t.offsetWidth)||"100%"},children:D}),(0,s.jsx)("div",{ref:X,className:"text-gray-400",children:(0,x.lz)({subdomain:D,durableDomain:L},!1)})]}),(0,s.jsx)(m(),{href:V,children:(0,s.jsx)("a",{target:"_blank",className:"absolute right-0 flex items-center py-3 px-4 bg-white text-black text-opacity-55 cursor-pointer transition-opacity hover:text-opacity-80",children:(0,s.jsx)(f.Z,{icon:"ExternalLinkIcon",className:"w-5 h-5"})})})]}),!G&&!D&&(0,s.jsx)("p",{className:"text-body md:text-sm text-red-500 mt-2",children:"You must provide a domain name"}),D&&!B&&(0,s.jsx)("p",{className:"text-body md:text-sm text-red-500 mt-2",children:"This domain is being used, please choose another domain."})]}),(0,s.jsx)(b.Z,{className:"bg-gray-50 mt-6",trackEvent:!1,onAction:ue,showLink:!1})]}),(0,s.jsxs)("div",{className:"flex flex-col-reverse md:flex-row md:justify-end gap-3 px-12 pb-12 pt-6",children:[(0,s.jsx)(p.Z,{className:(0,x.AK)("button w-full",(null===le||void 0===le||null===(v=le.user)||void 0===v||null===(y=v.plan)||void 0===y?void 0:y.level)>0||k?"auxiliary":"default"),onClick:ue,children:"View plans"}),((null===le||void 0===le||null===(j=le.user)||void 0===j||null===(N=j.plan)||void 0===N?void 0:N.level)>0||k)&&(0,s.jsx)(p.Z,{className:"button default w-full",tabIndex:1,onClick:ve,disabled:G||!D||!B,loading:G,children:se})]})]})})]})})})}},88268:function(e,n,t){"use strict";t.d(n,{Z:function(){return m}});var i=t(26042),o=t(69396),l=t(85893),s=(t(67294),t(33299)),a=t(80360),r=t(43490),c=t(3732),d=t(51121),u=[{id:"default",name:"Default",blocks:[]},{id:"about-us",name:"About us",blocks:["hero","text"]},{id:"pitch",name:"Elevator pitch",blocks:["text"]},{id:"welcome",name:"Welcome text",blocks:["text"]},{id:"service-list",name:"Services",blocks:["list"]},{id:"service",name:"Service",blocks:["hero"]},{id:"stats",name:"Statistics",blocks:["list"]},{id:"team",name:"Team",blocks:["hero"]},{id:"team-list",name:"Team members",blocks:["list"]},{id:"our-work",name:"Our work",blocks:["list","hero","gallery","image-grid","image-carousel"]},{id:"portfolio",name:"Portfolio",blocks:["gallery","image-grid","image-carousel"]},{id:"faq",name:"FAQ",blocks:["text"]},{id:"privacy-policy",name:"Privacy policy",blocks:["text"]},{id:"terms-of-service",name:"Terms of service",blocks:["text"]},{id:"marketing-focused",name:"Marketing focused",blocks:["text","hero"]},{id:"cta",name:"Call to action",blocks:["banner"]},{id:"cta-menu",name:"Call to action menu",blocks:["banner","cta"]},{id:"page-heading",name:"Internal page header",blocks:["banner"]},{id:"our-mission",name:"Our mission",blocks:["text"]},{id:"our-values",name:"Our values",blocks:["list"]},{id:"service-features",name:"Service features",blocks:["list"]},{id:"why-choose-us",name:"Why choose us",blocks:["text"]},{id:"faq-service",name:"About service",blocks:["faq"]}],v=[{id:"h1",name:"Heading 1"},{id:"h2",name:"Heading 2"},{id:"h3",name:"Heading 3"},{id:"body-large",name:"Body large"},{id:"body-normal",name:"Body normal"},{id:"body-small",name:"Body small"}];function m(e){var n,t,m,f,h,p,x,g,b=e.block,w=e.setBlock,y=e.purpose,j=e.randomize,N=(0,s.useSession)().data,k=u.filter((function(e){var n;return e.blocks.includes(null===b||void 0===b||null===(n=b.WebsiteBlock)||void 0===n?void 0:n.type)||0===e.blocks.length}));return(null===N||void 0===N||null===(n=N.user)||void 0===n?void 0:n.isTemplateManager)?(0,l.jsxs)("div",{className:"mt-6 pt-6 space-y-4",children:[(0,l.jsx)("label",{children:"Template settings"}),y&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.Z,{label:"Purpose",placeholder:"Select",values:k,value:k.find((function(e){return e.id===(null===b||void 0===b?void 0:b.type)}))||k[0],onChange:function(e){return w((0,o.Z)((0,i.Z)({},b),{type:e.id}))}}),"other"===(null===b||void 0===b?void 0:b.type)&&(0,l.jsx)(d.Z,{label:"Custom purpose",value:(null===b||void 0===b||null===(t=b.template)||void 0===t?void 0:t.purpose)||"",onChange:function(e){return w((0,o.Z)((0,i.Z)({},b),{template:(0,o.Z)((0,i.Z)({},b.template),{purpose:e})}))}})]}),["pitch","welcome"].includes(null===b||void 0===b?void 0:b.type)&&(0,l.jsx)(a.Z,{label:"Text size",placeholder:"Select",values:v,value:v.find((function(e){var n;return e.id===(null===b||void 0===b||null===(n=b.template)||void 0===n?void 0:n.textSize)}))||v[2],onChange:function(e){return w((0,o.Z)((0,i.Z)({},b),{template:(0,o.Z)((0,i.Z)({},b.template),{textSize:e.id})}))}}),(["cta","cta-menu","page-heading"].includes(null===b||void 0===b?void 0:b.type)||["cta"].includes(null===b||void 0===b||null===(m=b.WebsiteBlock)||void 0===m?void 0:m.type))&&(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("label",{children:"Content generation"}),(0,l.jsx)(r.Z,{className:"justify-between",label:"Tagline",enabled:null===b||void 0===b||null===(f=b.template)||void 0===f?void 0:f.showTagline,onChange:function(e){return w((0,o.Z)((0,i.Z)({},b),{template:(0,o.Z)((0,i.Z)({},b.template),{showTagline:e})}))}}),"page-heading"!==(null===b||void 0===b?void 0:b.type)&&(0,l.jsx)(r.Z,{className:"justify-between",label:"Heading",enabled:null===b||void 0===b||null===(h=b.template)||void 0===h?void 0:h.showHeading,onChange:function(e){return w((0,o.Z)((0,i.Z)({},b),{template:(0,o.Z)((0,i.Z)({},b.template),{showHeading:e})}))}}),(0,l.jsx)(r.Z,{className:"justify-between",label:"Content",enabled:null===b||void 0===b||null===(p=b.template)||void 0===p?void 0:p.showContent,onChange:function(e){return w((0,o.Z)((0,i.Z)({},b),{template:(0,o.Z)((0,i.Z)({},b.template),{showContent:e})}))}})]}),j&&(0,l.jsx)(r.Z,{className:"justify-between",label:"Randomize spacing",enabled:!(0,c.$K)(null===b||void 0===b||null===(x=b.randomize)||void 0===x?void 0:x.spacing)||(null===b||void 0===b||null===(g=b.randomize)||void 0===g?void 0:g.spacing),onChange:function(e){return w((function(n){return(0,o.Z)((0,i.Z)({},n),{randomize:(0,o.Z)((0,i.Z)({},n.randomize),{spacing:e,minHeight:void 0})})}))}})]}):null}},28774:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var i=t(26042),o=t(85893),l=t(67294),s=t(3732),a=t(51121),r=t(32336),c=t(27907);function d(e){var n=e.item,t=e.onChange,d=(0,l.useState)(null),u=d[0],v=d[1],m=function(e){var n=(0,i.Z)({},u,e);v(n),t(n)};return(0,l.useEffect)((function(){v(n?(0,s.p$)(n):null)}),[n]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.Z,{libraries:["images","library","upload"],allowRemove:!1,suggest:{enabled:!0},upload:{location:"blocks"},media:null===u||void 0===u?void 0:u.media,onChange:function(e){m({media:e,altText:(null===e||void 0===e?void 0:e.description)||""})}}),(0,o.jsx)(a.Z,{className:"w-full pt-6",label:"Alt text",placeholder:"Enter alt text",helperText:"Describe the image to improve SEO and accessibility",value:(null===u||void 0===u?void 0:u.altText)||"",onChange:function(e){return m({altText:e})}}),(0,o.jsx)(r.Z,{value:u,onChange:function(e){return m({positionX:"".concat(e.x,"%"),positionY:"".concat(e.y,"%")})}})]})}},54681:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return yi},default:function(){return ji}});var i=t(47568),o=t(14924),l=t(26042),s=t(69396),a=t(10253),r=t(29815),c=t(97582),d=t(85893),u=t(59435),v=t(67294),m=t(37353),f=t(59965),h=t(13840),p=t(3732);var x=t(16682),g=t(52077),b=t(43490),w=t(51121),y=t(16494),j=t(7091),N=[3,6,9,12].map((function(e){return{id:e,name:e}}));function k(e){var n,t,o=e.block,a=e.setBlock,r=e.businessConfig,m=e.getBusinessConfig,f=(0,v.useState)(!1),k=f[0],Z=f[1],C=(null===r||void 0===r||null===(n=r.business)||void 0===n||null===(t=n.socialAccounts)||void 0===t?void 0:t.instagram)||{},_=(0,p.h_)(),S=(0,x.Z)().remove;function E(){return(E=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return Z(!0),[4,S("/business/remove-social-channel",{type:"instagram"})];case 1:return(e=n.sent()).status&&e.content?(p.Z9.success("Instagram account disconnected"),m((function(){Z(!1)}))):Z(!1),(0,u.Wf)({type:"instagram-disconnected"}),[2]}}))}))).apply(this,arguments)}var I=(0,v.useMemo)((function(){return function(e){return"https://api.instagram.com/oauth/authorize\n  ?client_id=".concat("441389128840753","\n  &redirect_uri=").concat("https://inapp.durable.co/oauth/instagram","\n  &scope=instagram_business_basic\n  &response_type=code\n  &state=").concat(encodeURIComponent(JSON.stringify({businessId:e}))).replace(/\s/g,"")}(_)}),[_]);return C.connected?(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("label",{children:"Instagram account"}),(0,d.jsx)("div",{className:"alert info",children:k?(0,d.jsx)(y.Z,{text:"Disconnecting"}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(h.Z,{className:"w-5 h-5"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsxs)("div",{className:"text-sm",children:["The Instagram account ",(0,d.jsx)("span",{className:"font-semibold",children:C.username})," is now connected."]}),(0,d.jsx)("button",{className:"button ghost sm",disabled:k,onClick:function(){return E.apply(this,arguments)},children:"Disconnect"})]})]})})]}),(0,d.jsx)("hr",{className:"my-6 border-gray-200"}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(w.Z,{id:"tagline",label:"Tagline",value:null===o||void 0===o?void 0:o.tagline,onChange:function(e){return a((0,s.Z)((0,l.Z)({},o),{tagline:e}))}}),(0,d.jsx)(w.Z,{id:"headline",label:"Heading",value:null===o||void 0===o?void 0:o.headline,onChange:function(e){return a((0,s.Z)((0,l.Z)({},o),{headline:e}))}}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"mb-2",children:"Subtext"}),(0,d.jsx)("textarea",{rows:4,id:"content",value:null===o||void 0===o?void 0:o.content,onChange:function(e){return a((0,s.Z)((0,l.Z)({},o),{content:e.target.value}))},className:"input v2"})]})]}),(0,d.jsx)("hr",{className:"my-6 border-gray-200"}),(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 my-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"mb-1",children:"Show Instagram handle"}),(0,d.jsx)("p",{className:"label helper",children:"Show your Instagram handle at the bottom of the feed"})]}),(0,d.jsx)(b.Z,{enabled:null===o||void 0===o?void 0:o.showAccount,onChange:function(e){return a((0,s.Z)((0,l.Z)({},o),{showAccount:e}))}})]}),(0,d.jsx)("hr",{className:"my-6 border-gray-200"}),(0,d.jsx)(j.Z,{label:"Number of posts",value:(null===o||void 0===o?void 0:o.numPosts)||6,options:N,onChange:function(e){return a((0,s.Z)((0,l.Z)({},o),{numPosts:e}))}})]}):(0,d.jsxs)("div",{className:"flex-col justify-start items-start gap-6 inline-flex",children:[(0,d.jsxs)("div",{className:"space-y-1",children:[(0,d.jsx)("label",{children:"Connect Instagram account"}),(0,d.jsx)("p",{className:"label helper",children:"We'll need limited access to your Instagram account to display your feed."})]}),(0,d.jsx)(g.Z,{onClick:function(){Z(!0);var e=window.open(I,"_blank","popup=true width=600 height=600");window.onInstagramConnected=function(n){n.status?(e.close(),clearInterval(window.checkPopupTimer),delete window.checkPopupTimer,setTimeout((function(){window.onInstagramConnected&&p.Z9.success("Instagram account connected"),delete window.onInstagramConnected}),100),m((function(){Z(!1)})),(0,u.Wf)({type:"instagram-connected"})):(console.log("Failed to link account",n),p.Z9.error("Instagram connection failed, please try again"),e.close(),Z(!1),delete window.onInstagramConnected)},window.checkPopupTimer||(window.checkPopupTimer=setInterval((function(){(null===e||void 0===e?void 0:e.closed)&&(clearInterval(window.checkPopupTimer),delete window.checkPopupTimer,Z(!1),p.Z9.warn("Instagram connection window close before your account was linked, please try again"))}),500))},loading:k,className:"button default",children:"Connect Account"})]})}var Z=t(90748),C=t(96065),_=t(38717),S=t(43226),E=t(34122),I=t(94051),T=t(33424),P=t(35781),A=t(49372);function B(e){var n,t=e.website,i=e.block,o=e.setEdit,a=e.setBlock;return!(null===i||void 0===i?void 0:i.align)&&(null===i||void 0===i||null===(n=i.headerFooterAlign)||void 0===n?void 0:n.horizontal)&&(i.align=i.headerFooterAlign.horizontal),(0,d.jsxs)("div",{children:[(0,d.jsx)(_._u,{website:t,block:i,onEdit:function(){return o("Colors")}}),(0,d.jsx)("hr",{className:"my-6"}),(0,d.jsx)(T.Z,{block:i,setBlock:a}),(0,d.jsx)(A.Z,{block:i,setBlock:a}),(0,d.jsx)("hr",{className:"my-6"}),(0,d.jsx)(P.Z,{label:"Alignment",block:i,setBlock:a}),(0,d.jsx)("hr",{className:"my-6"}),(0,d.jsx)(E.nR,{value:null===i||void 0===i?void 0:i.cornerRadius,defaultValue:null===t||void 0===t?void 0:t.cornerRadius,onChange:function(e){return a((0,s.Z)((0,l.Z)({},i),{cornerRadius:e}))}}),(0,d.jsx)("hr",{className:"my-6"}),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(b.Z,{className:"justify-between",label:"Remove gaps",enabled:null===i||void 0===i?void 0:i.noGutters,onChange:function(e){return a((0,s.Z)((0,l.Z)({},i),{noGutters:e}))}}),(0,d.jsx)(b.Z,{className:"justify-between",label:"Full width",enabled:null===i||void 0===i?void 0:i.fullWidth,onChange:function(e){return a((0,s.Z)((0,l.Z)({},i),{fullWidth:e}))}})]}),(0,d.jsx)("hr",{className:"my-6"}),(0,d.jsx)(I.ZP,{block:i,setBlock:a,spacing:!0,minHeight:!1,verticalAlign:!1}),(0,d.jsx)("hr",{className:"my-6"}),(0,d.jsx)(Z.iy,{block:i,setBlock:a,website:t}),(0,d.jsx)("hr",{className:"my-6"}),(0,d.jsx)(S.S,{block:i,setBlock:a,onEdit:function(){return o("Divider style")}}),(0,d.jsx)("hr",{className:"my-6"}),(0,d.jsx)(C.x,{block:i,setBlock:a})]})}var O=(0,v.memo)((function(e){var n=e.block,t=e.businessConfig,i=e.getBusinessConfig,o=e.loading,a=e.open,r=e.rtl,c=e.setBlock,u=e.setOpen,h=e.setRtl,p=e.website,x=function(){u(!1)},g=(0,v.useState)(null),b=g[0],w=g[1],y={block:n,setBlock:c,website:p,edit:b,setEdit:w};return(0,d.jsxs)(m.Z,{title:"Instagram",open:a,rtl:r,setRtl:h,edit:b,setEdit:w,loading:o,onClose:x,hiddenTabs:["Colors","Divider style"],children:[(0,d.jsx)(f.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,d.jsx)(k,(0,s.Z)((0,l.Z)({},y),{businessConfig:t,getBusinessConfig:i}))}),(0,d.jsx)(f.O.Panel,{className:"divide-y outline-none",unmount:!1,children:(0,d.jsx)(B,(0,l.Z)({},y))}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(_.px,{website:p,block:n,setBlock:c,onTryPalette:x})}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(S.S,{block:n,setBlock:c,isEditing:!0})})]})})),R=t(2489),D=t.n(R);function F(e){if(!Array.isArray(e)||0===e.length)return e;var n=e.filter((function(e){return!["header","footer"].includes(e.WebsiteBlock.type)}));if(n.find((function(e){return(0,p.$K)(e.generating)}))&&(n=n.map((function(e){return(0,p.$K)(e.generating)&&delete e.generating,e}))),n.every((function(e){return!!e._id})))return e.map((function(e,n){return(0,s.Z)((0,l.Z)({},e),{idx:n})}));var t=[],i=n.map((function(e){return e._id||(e._id=D()()),e}));i=i.map((function(e){var n,o,l;return e.buttons&&0!==(null===(n=e.buttons.items)||void 0===n?void 0:n.length)?(e.buttons.items=null===(o=e.buttons)||void 0===o||null===(l=o.items)||void 0===l?void 0:l.map((function(n){if("section"!==n.type)return n;if(D().isValid(n.link)&&!n.link.includes("-"))return n;var o=i.find((function(e,t){return(0,u.IF)(e,t,!0)===n.link}));return o?(n.link=o._id,n):(t.push({block:e,button:n}),n)})),e):e})),t.length>0&&window.console&&console.warn("Failed to migrate these links to objectIds",t);var o=i.length,a=(0,s.Z)((0,l.Z)({},e[0]),{idx:0}),c=(0,s.Z)((0,l.Z)({},e.find((function(e){var n;return"footer"===(null===e||void 0===e||null===(n=e.WebsiteBlock)||void 0===n?void 0:n.type)}))),{idx:o});return[a].concat((0,r.Z)(i),[c])}var W="onboarding-survey-trigger",L=t(11163),z={IN_EDITOR_WEBSITE_PAGE_REGENERATE:"IN_EDITOR_WEBSITE_PAGE_REGENERATE",IN_EDITOR_BLOG_POST_CREATE:"IN_EDITOR_BLOG_POST_CREATE",IN_EDITOR_CREATE_NEW_PAGE:"IN_EDITOR_CREATE_NEW_PAGE",IN_EDITOR_PUBLISH_WEBSITE:"IN_EDITOR_PUBLISH_WEBSITE",IN_EDITOR_EDIT_SOCIAL_LINKS:"IN_EDITOR_EDIT_SOCIAL_LINKS",IN_EDITOR_EDIT_FONT_PAIRINGS:"IN_EDITOR_EDIT_FONT_PAIRINGS",IN_EDITOR_EDIT_BUTTON_STYLE:"IN_EDITOR_EDIT_BUTTON_STYLE",IN_EDITOR_EDIT_FAVICON:"IN_EDITOR_EDIT_FAVICON",IN_EDITOR_EDIT_HEADER_LOGO:"IN_EDITOR_EDIT_HEADER_LOGO",IN_EDITOR_EDIT_THEME:"IN_EDITOR_EDIT_THEME",IN_EDITOR_EDIT_COLOR_PALETTE:"IN_EDITOR_EDIT_COLOR_PALETTE",IN_EDITOR_EDIT_ANIMATION:"IN_EDITOR_EDIT_ANIMATION",IN_EDITOR_EDIT_ROUNDED_CORNERS:"IN_EDITOR_EDIT_ROUNDED_CORNERS",IN_EDITOR_ADD_GLOBAL_WIDGET:"IN_EDITOR_ADD_GLOBAL_WIDGET",IN_EDITOR_VIEW_WEBSITE_MOBILE:"IN_EDITOR_VIEW_WEBSITE_MOBILE",IN_EDITOR_VIEW_WEBSITE_TABLET:"IN_EDITOR_VIEW_WEBSITE_TABLET"};var M=t(11355),G=t(40944),K=t(25675),H=t.n(K),V=t(33299),$=t(19645),U=t(39260),q=[{title:"Banner",name:"banner",icon:"WindowTopIcon"},{title:"Services",name:"services",icon:"WrenchScrewdriverIcon"},{title:"Content",name:"content",icon:"PenSparkleIcon"},{title:"Clients",name:"clients",icon:"UserGroupIcon"},{title:"Image gallery",name:"image",icon:"ImagesIcon"},{title:"Video content",name:"video",icon:"FilmIcon"},{title:"Team members",name:"team",icon:"UserGroup2Icon"},{title:"Business hours",name:"business-hours",icon:"ClockIcon"},{title:"Testimonials",name:"testimonials",icon:"StarIcon"},{title:"Map location",name:"location",icon:"MapIcon"},{title:"Contact form",name:"contact",icon:"AtIcon"},{title:"Schedule",name:"schedule",icon:"CalendarDaysIcon"},{title:"Social media",name:"social-media",icon:"HeartHandIcon"},{title:"Custom code",name:"custom-code",icon:"CodeBracketIcon"},{title:"External sections",name:"external",icon:"PlugIcon"}];function X(e){var n=e.open,t=e.setOpen,o=e.onSelect,l=e.setOpenPaywall,s=(0,v.useState)(!1),a=s[0],r=s[1],u=(0,v.useState)((0,p.tl)("builder.blockTypes")),m=u[0],h=u[1],g=(0,v.useState)([]),b=g[0],j=g[1],N=(0,v.useState)(""),k=N[0],Z=N[1],C=(0,v.useState)(null),_=C[0],S=C[1],E=(0,v.useState)(0),I=E[0],T=E[1],P=(0,v.useState)(null),A=P[0],B=P[1],O=(0,V.useSession)().data,R=(0,$.Z)().track,D=(0,v.useRef)(null),F=(0,x.Z)(),W=F.get,L=F.post;(0,U.m)(A,!0);var z=function(){var e=(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return r(!0),[4,W("/website/get-blocks").catch(console.log)];case 1:return(e=t.sent())&&!0===e.status&&e.content&&(n=e.content.filter((function(e){return e.active&&"header"!==e.type&&"footer"!==e.type})),h(n),(0,p.Fs)("builder.blockTypes",n)),r(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),K=function(e){var n,t,i;(null===O||void 0===O||null===(n=O.user)||void 0===n||null===(t=n.plan)||void 0===t||null===(i=t.features)||void 0===i?void 0:i.includes("widgets"))||"durable"===e.source?(L("/website/track-block-usage",{blockId:e._id}).catch(console.log),o(e)):l("premium_sections"),R("website:".concat("common-ninja"===(null===e||void 0===e?void 0:e.source)?"premium-":"","section-added"),{block:null===e||void 0===e?void 0:e.type})};return(0,v.useEffect)((function(){return n&&!m&&z(),window.dispatchEvent(new CustomEvent("website-builder-manage-toggle",{detail:{open:n}})),function(){Z(""),T(0),S(null),j([])}}),[n]),(0,d.jsx)(M.u,{show:n,appear:!0,children:(0,d.jsx)("div",{className:"builder-panel right-0",children:(0,d.jsx)("div",{className:"relative h-full md:max-w-100 md:p-2",children:(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,d.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-2xl h-full md:h-auto w-screen max-w-full",children:[(0,d.jsxs)("div",{className:"sticky top-0 z-10 flex items-center justify-between max-w-full bg-white px-4 py-3 md:rounded-t-2xl",children:[(0,d.jsxs)("div",{className:"relative flex items-center z-5",children:[(0,d.jsx)(M.u,{as:v.Fragment,show:(0,p.$K)(_),enter:"transition-all duration-300",enterFrom:"opacity-0 -translate-x-3",enterTo:"opacity-100 translate-x-0",leave:"transition-all duration-300",leaveFrom:"opacity-100 translate-x-0",leaveTo:"opacity-0 -translate-x-3",children:(0,d.jsxs)("button",{type:"button",className:"absolute top-1/2 left-0 -translate-y-1/2 button ghost sm icon",onClick:function(){T(0),S(null),j([])},children:[(0,d.jsx)("span",{className:"sr-only",children:"Exit editing"}),(0,d.jsx)(G.Z,{icon:"ChevronLeftIcon",className:"h-5 w-5"})]})}),(0,d.jsx)("p",{className:(0,p.AK)("text-sm font-bold text-black text-opacity-80 ml-0 transition-all",(0,p.$K)(_)&&"ml-8"),children:(null===_||void 0===_?void 0:_.title)||"Add section"})]}),(0,d.jsxs)("button",{className:"button ghost sm icon",onClick:function(){return t(!1)},children:[(0,d.jsx)("span",{className:"sr-only",children:"Close panel"}),(0,d.jsx)(G.Z,{icon:"XMarkIcon",from:"v2",variant:"large",className:"h-5 w-5"})]})]}),(0,d.jsxs)(f.O.Group,{as:"div",className:"flex flex-col h-full md:h-auto",selectedIndex:I,children:[(0,d.jsxs)(f.O.List,{className:"hidden",children:[(0,d.jsx)(f.O,{className:"hidden",children:"Categories"}),(0,d.jsx)(f.O,{className:"hidden",children:"Blocks"})]}),(0,d.jsxs)(f.O.Panels,{ref:function(e){return B(e?{current:e}:null)},className:"tab-panels h-full !p-0",style:{minHeight:"235px",maxHeight:"calc(100vh - 138px)"},children:[(0===I||""!==k)&&(0,d.jsx)("div",{className:"sticky top-0 z-10 flex gap-4 px-4 py-3 bg-white",children:(0,d.jsxs)("div",{className:"w-full relative",children:[(0,d.jsx)("span",{className:"absolute top-1/2 z-10 pl-2.5 -translate-y-1/2",children:(0,d.jsx)(G.Z,{icon:"SearchIcon",className:"w-5 h-5"})}),(0,d.jsx)(w.Z,{ref:D,inputClassName:"!pl-9",placeholder:"Search",value:k,autoFocus:!0,disabled:a,onChange:function(e){Z(e),S(null),""===e?T(0):(T(1),j(m.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())})).sort((function(e,n){return e.order-n.order}))))},onKeyUp:function(e){"Enter"===(null===e||void 0===e?void 0:e.key)&&(e.preventDefault(),1===b.length&&K(b[0]))}})]})}),(0,d.jsx)(f.O.Panel,{className:"p-1 outline-none",unmount:!1,children:q.map((function(e,n){return(0,d.jsxs)("div",{className:"menu-item",onClick:function(){return!a&&function(e){Z(""),T(1),S(e),j(m.filter((function(n){var t;return null===(t=n.categories)||void 0===t?void 0:t.includes(e.name)})).sort((function(e,n){return e.order-n.order})))}(e)},children:[(0,d.jsxs)("div",{className:"menu-item-group",children:[(0,d.jsx)(G.Z,{icon:e.icon||"SquaresIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,d.jsx)("span",{children:e.title})]}),(0,d.jsx)(G.Z,{icon:"ChevronRightIcon",className:"w-5 h-5"})]},"category-".concat(e.name,"-").concat(n))}))}),(0,d.jsxs)(f.O.Panel,{className:"p-4 md:px-6 space-y-4 outline-none",unmount:!1,children:[a&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(y.Z,{variant:"list"}),(0,d.jsx)(y.Z,{variant:"list"}),(0,d.jsx)(y.Z,{variant:"list"})]}),!a&&b.map((function(e){var n,t,i;return(0,d.jsxs)("div",{className:"group relative flex items-center h-32 gap-4 border border-gray-300 p-4 rounded-md ring-0 ring-indigo-700 cursor-pointer transition-all hover:ring-1 hover:border-indigo-700 hover:shadow-md",onClick:function(){return K(e)},children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)("p",{className:"text-sm font-semibold group-hover:text-indigo-700",children:e.name}),!(null===O||void 0===O||null===(n=O.user)||void 0===n||null===(t=n.plan)||void 0===t||null===(i=t.features)||void 0===i?void 0:i.includes("widgets"))&&"durable"!==e.source&&(0,d.jsx)("span",{className:"badge yellow",children:"Premium"})]}),(0,d.jsx)("p",{className:"text-sm mb-2 text-gray-500",children:e.description}),(0,d.jsx)("p",{className:"text-xs font-medium text-gray-800 capitalize",children:e.source&&"durable"!==e.source?"By ".concat(e.source.replaceAll("-"," ")):"By Durable"})]}),(0,d.jsx)("div",{className:"flex-shrink-0 self-center relative w-20 h-20",children:(null===e||void 0===e?void 0:e.previewUrl)?(0,d.jsx)(H(),{unoptimized:!0,className:"rounded",src:e.previewUrl,objectFit:"cover",layout:"fill",alt:e.name}):(0,d.jsx)(H(),{unoptimized:!0,className:"rounded",src:(0,p.sd)("new-blocks/".concat(e.type,".svg")),objectFit:"cover",height:80,width:80,alt:e.name})})]},e._id)})),!a&&""!==k&&0===b.length&&(0,d.jsx)("div",{className:"h-32 text-sm font-normal text-black-500",children:"No section found."})]})]})]})]})})})})})}var J=t(32130),Y=t(29064),Q=t(12280),ee=t(46930),ne=t(60728),te=t(75511),ie=t(80360),oe=[{id:"recommended",name:"Recommended"},{id:"most_popular",name:"Most popular"}],le={term:"",sortBy:"recommended"};function se(e){var n=e.open,t=e.setOpen,o=e.onSelect,a=e.widgets,r=e.setOpenPaywall,u=(0,v.useState)([]),m=u[0],f=u[1],h=(0,v.useState)([]),g=h[0],b=h[1],j=(0,v.useState)(!1),N=j[0],k=j[1],Z=(0,v.useState)(le),C=Z[0],_=Z[1],S=(0,V.useSession)().data,E=(0,x.Z)(),I=E.get,T=E.post,P=function(e,n){var t;return e.source===n.source?"most_popular"===(null===C||void 0===C?void 0:C.sortBy)?(null===n||void 0===n?void 0:n.usage)-(null===e||void 0===e?void 0:e.usage):null===e||void 0===e||null===(t=e.name)||void 0===t?void 0:t.localeCompare(null===n||void 0===n?void 0:n.name):"durable"===e.source?-1:1},A=function(){var e=(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return k(!0),[4,I("/website/get-blocks",{taxonomy:"widget"}).catch(console.log)];case 1:return(e=t.sent())&&!0===e.status&&e.content&&((null===a||void 0===a?void 0:a.length)>0?(n=e.content.filter((function(e){return!(null===a||void 0===a?void 0:a.some((function(n){return n.type===e.type})))})),f(n),b(n.sort(P))):(f(e.content),b(e.content.sort(P)))),k(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,v.useEffect)((function(){b(m.filter((function(e){return e.name.toLowerCase().includes(null===C||void 0===C?void 0:C.term.toLowerCase())})).sort(P))}),[C]),(0,v.useEffect)((function(){return n&&A(),window.dispatchEvent(new CustomEvent("website-builder-manage-toggle",{detail:{open:n}})),function(){_(le),window.dispatchEvent(new CustomEvent("website-builder-manage-toggle",{detail:{open:!1}}))}}),[n]),(0,d.jsx)(M.u,{show:n,appear:!0,children:(0,d.jsx)("div",{className:"builder-panel right-0",children:(0,d.jsx)("div",{className:"relative h-full md:max-w-100 md:p-2",children:(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:(0,d.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-2xl h-full md:h-auto w-screen max-w-full",children:[(0,d.jsxs)("div",{className:"sticky top-0 z-10 flex items-center justify-between max-w-full bg-white px-4 py-3 md:rounded-t-2xl",children:[(0,d.jsx)("p",{className:"text-sm font-bold text-black text-opacity-80 ",children:"Widgets"}),(0,d.jsx)("button",{type:"button",className:"button ghost sm icon",onClick:function(){return t(!1)},children:(0,d.jsx)(G.Z,{icon:"XMarkIcon",from:"v2",variant:"large",className:"h-5 w-5","aria-hidden":"true"})})]}),(0,d.jsxs)("div",{className:"flex flex-col gap-4 py-6",children:[(0,d.jsxs)("div",{className:"flex gap-4 justify-between px-6",children:[(0,d.jsx)("div",{className:"w-full md:w-50 relative",children:(0,d.jsx)(w.Z,{icon:(0,d.jsx)(G.Z,{icon:"SearchIcon",className:"h-5 w-5","aria-hidden":"true"}),value:null===C||void 0===C?void 0:C.term,onChange:function(e){return _((0,s.Z)((0,l.Z)({},C),{term:e}))},placeholder:"Search"})}),(0,d.jsx)(ie.Z,{className:"w-full md:w-40",value:oe.find((function(e){return e.id===(null===C||void 0===C?void 0:C.sortBy)}))||oe[0],values:oe,onChange:function(e){return _((0,s.Z)((0,l.Z)({},C),{sortBy:e.id}))}})]}),(0,d.jsxs)("div",{className:"space-y-4 px-6 overflow-y-auto",style:{maxHeight:"calc(100vh - 240px)"},children:[N&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(y.Z,{variant:"list"}),(0,d.jsx)(y.Z,{variant:"list"}),(0,d.jsx)(y.Z,{variant:"list"})]}),!N&&0===g.length&&(0,d.jsx)("p",{className:"label helper",children:"No block found."}),!N&&g.filter((function(e){return e.active&&"header"!==e.type&&"footer"!==e.type})).map((function(e){var n,t,i;return(0,d.jsxs)("div",{className:"group relative flex h-32 gap-4 border border-gray-300 p-4 rounded-xl hover:bg-indigo-50 hover:border-indigo-600 cursor-pointer",onClick:function(){return function(e){var n,t,i;(null===S||void 0===S||null===(n=S.user)||void 0===n||null===(t=n.plan)||void 0===t||null===(i=t.features)||void 0===i?void 0:i.includes("widgets"))||"durable"===e.source?(T("/website/track-block-usage",{blockId:e._id}).catch(console.log),o(e)):r("premium_widgets")}(e)},children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,d.jsx)("p",{className:"text-sm font-semibold group-hover:text-indigo-700",children:e.name}),!(null===S||void 0===S||null===(n=S.user)||void 0===n||null===(t=n.plan)||void 0===t||null===(i=t.features)||void 0===i?void 0:i.includes("widgets"))&&"durable"!==e.source&&(0,d.jsx)("span",{className:"badge yellow",children:"Premium"})]}),(0,d.jsx)("p",{className:"text-sm mb-2 text-gray-500",children:e.description}),(0,d.jsx)("p",{className:"text-xs font-medium text-gray-800",children:e.source&&"durable"!==e.source?"By ".concat(e.source.replaceAll("-"," ")):"By Durable"})]}),(0,d.jsx)("div",{className:"flex-shrink-0 self-center relative w-20 h-20",children:(null===e||void 0===e?void 0:e.previewUrl)?(0,d.jsx)(H(),{unoptimized:!0,className:"rounded",src:e.previewUrl,objectFit:"cover",layout:"fill",alt:e.name}):(0,d.jsx)(H(),{unoptimized:!0,className:"rounded",src:(0,p.sd)("blocks/".concat(e.type,".svg")),layout:"fill",objectFit:"cover",alt:e.name})})]},e._id)}))]})]})]})})})})})}var ae=t(74906),re={onboardingWelcome:"Hello! I'm your Assistant. I'm here to help you with your business. To get you started, I can help you add an about us page, contact us page or a service page. Which one would you like to create first?",welcome:"Hello! I'm your Assistant. I'm here to help you with your business. Ask me anything.",error:["Sorry, I'm having trouble processing your request. Please try again.","That didn't work. Please try again.","That was unexpected, but I couldn't do what you asked. Please try again."],slow:"Sorry for the delay. Please wait a few seconds...",slower:"It's taking longer than expected. Please wait a few more seconds...",feedback:{positive:"Thank you for the feedback! Let me know how else I can help.",negative:"Sorry I couldn't have been more help. Would you like me to put you in contact with one of our support members?",doYouLikeYourWebsite:"Hi, I'm your Assistant. I would like to know, do you like your website?"},wasThisHelpful:"Was this helpful?"},ce={},de=null,ue="en",ve=function(){var e=(0,i.Z)((function(e){var n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return e in ce?[2,ce[e]]:de&&"en"!==ue?[4,de("/helper/translate-string",{params:{business_id:null,string:e,context:"ai-assistant",language_code:ue}})]:[2,e];case 1:return(null===(n=t.sent())||void 0===n?void 0:n.status)?(ce[e]=n.content,[2,n.content]):[2]}}))}));return function(n){return e.apply(this,arguments)}}();(function(){var e=(0,i.Z)((function(e,n){var t,i,o;return(0,c.__generator)(this,(function(l){switch(l.label){case 0:return t=null,"error"===e?t=(0,p.kd)(re.error):(i=e.split("."),t=re,i.forEach((function(e){t=t[e]}))),n?(o=t,[3,3]):[3,1];case 1:return[4,ve(t)];case 2:o=l.sent(),l.label=3;case 3:return[2,o]}}))}))})(),t(73935),t(15564),t(60508),t(26656);var me=(0,v.forwardRef)((function(e,n){var t=e.children,i=e.className;return(0,d.jsx)("div",{ref:n,className:(0,p.AK)("flex flex-col gap-2",i),id:"chat",children:t})}));me.displayName="BubbleGroup";var fe=(0,v.forwardRef)((function(e,n){var t=e.value,i=void 0===t?"":t,o=e.setValue,l=e.isLoading,s=e.onSubmit,a=e.focused,r=e.setFocused;return(0,d.jsx)("div",{className:"px-6",children:(0,d.jsxs)("div",{className:(0,p.AK)("relative z-10 lg:z-0 md:my-3 py-2 md:py-3 pl-4 pr-12 md:mt-0 border-1 !rounded-3xl !shadow-md transition-all",a?"border-indigo-700":"border-gray-500 hover:border-gray-700",l&&"bg-gray-50"),children:[(0,d.jsx)(w.Z,{className:"w-full",inputClassName:(0,p.AK)("py-0 px-1 md:!p-0 resize-none align-middle !text-base md:!text-sm !text-gray-900 !placeholder-gray-400 !shadow-none !border-none !ring-0 !ring-transparent"),placeholder:l?"Thinking...":"Type here",size:120,onFocus:function(e){e.currentTarget.setSelectionRange(i.length,i.length),r(!0)},onBlur:function(){return r(!1)},value:i,autoresize:!0,maxHeight:60,type:"textarea",disabled:l,rows:1,onChange:function(e){(null===e||void 0===e?void 0:e.length)>180&&(e=e.substring(0,180)),o(e)},onKeyUp:function(e){"Enter"===e.key&&(null===i||void 0===i?void 0:i.length)>=2&&s()},ref:n}),l?(0,d.jsx)(y.Z,{className:"absolute top-1/2 right-5 z-10 -translate-y-1/2 text-gray-500",text:""}):(0,d.jsx)(G.Z,{icon:"PaperAirplaneSolidIcon",from:"heroicon",className:(0,p.AK)("absolute top-1/2 right-5 rotate-90 z-10 -translate-y-1/2",(null===i||void 0===i?void 0:i.length)>=2?"text-indigo-700 cursor-pointer":"text-gray-400"),onClick:function(){(null===i||void 0===i?void 0:i.length)>=2&&s()}})]})})}));fe.displayName="Input";var he=t(63944),pe=t(48078);function xe(e){var n,t,i=e.track,o=e.dirty,l=e.selectedPost,s=e.loading,a=e.blogMode,r=e.postMode,c=e.generating,u=e.openSupport,m=e.handleOpenManage,f=e.handleOpenManagePages,h=e.handleOpenCreatePage,p=e.handleOpenCreatePost,g=e.openChangeTemplate,b=e.onExit,w=e.onUnpublishPost,y=(0,v.useState)(null),j=y[0],N=y[1],k=(0,v.useState)(!1),Z=k[0],C=k[1],_=(0,x.Z)().get;return(0,v.useEffect)((function(){(0,he.Q5)(_).then((function(e){N(e)}))}),[]),!g&&(0,d.jsxs)(d.Fragment,{children:[j&&(0,d.jsx)(pe.Z,{showModal:Z,showModalHandler:function(){return C(!Z)},scheduleData:j,setScheduleData:N}),r&&(0,d.jsx)(be,{selectedPost:l,loading:c}),(0,d.jsx)("nav",{className:"sticky left-0 bottom-0 z-50 md:hidden w-full bg-white border-t",children:(0,d.jsxs)("div",{className:"grid grid-cols-auto justify-between max-w-120 mx-auto",children:[(0,d.jsx)(ge,{blogMode:a,postMode:r,disabled:s||o||c,onExit:b}),a||r?(0,d.jsxs)("button",{className:"button ghost flex-col gap-1 !rounded-none",disabled:s||c,onClick:function(){r?window.settingsPost():window.editBlock("blog")},children:[(0,d.jsx)(G.Z,{icon:"Cog8ToothIcon",className:"w-5 h-5"}),(0,d.jsx)("span",{className:"text-body-xs",children:"Settings"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("button",{dataTour:"theme-mobile",className:"button ghost flex-col gap-1 !rounded-none",disabled:s||c,onClick:function(){return m(null,"style")},children:[(0,d.jsx)(G.Z,{icon:"PaintbrushIcon",from:"v2",variant:"large",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{className:"text-body-xs",children:"Customize"})]}),(0,d.jsxs)("button",{dataTour:"pages-mobile",className:"button ghost flex-col gap-1 !rounded-none",disabled:o||s||c,onClick:function(){return f()},children:[(0,d.jsx)(G.Z,{icon:"FileIcon",from:"v2",variant:"large",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{className:"text-body-xs",children:"Pages"})]})]}),a&&(0,d.jsxs)("button",{className:"button ghost flex-col gap-1 !rounded-none",disabled:s||c,onClick:function(){C(!0)},children:[(0,d.jsx)(G.Z,{icon:(null===j||void 0===j||null===(n=j.existingScheduleData)||void 0===n?void 0:n.isEnabled)?"SparkleFilledIcon":"SparkleIcon",variant:"large",from:"v2",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{className:"text-body-xs",children:(null===j||void 0===j||null===(t=j.existingScheduleData)||void 0===t?void 0:t.isEnabled)?"Automated":"Automate"})]}),!r&&(0,d.jsxs)("button",{className:"button ghost flex-col gap-1 !rounded-none",disabled:o||s||c,onClick:function(){a?p():h()},children:[(0,d.jsx)(G.Z,{icon:"PlusIcon",from:"v2",variant:"large",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsxs)("div",{className:"text-body-xs",children:[(0,d.jsx)("span",{children:"Add"}),a&&(0,d.jsx)("span",{children:"\xa0post"})]})]}),(0,d.jsxs)("button",{className:"button ghost flex-col gap-1 !rounded-none",disabled:s||c,onClick:function(){u(),i("editor:help_clicked")},children:[(0,d.jsx)(G.Z,{icon:"QuestionIcon",from:"v2",variant:"large",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{className:"text-body-xs",children:"Help"})]}),a&&(null===l||void 0===l?void 0:l.published)&&(0,d.jsxs)("button",{className:"button ghost flex-col gap-1 !rounded-none",disabled:s||c,onClick:w,children:[(0,d.jsx)(G.Z,{icon:"EyeSlashIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{className:"text-body-xs",children:"Unpublish"})]})]})})]})}var ge=function(e){var n=e.disabled,t=e.blogMode,i=e.postMode,o=e.onExit;return(0,d.jsxs)("button",{className:"button ghost flex-col gap-1 !rounded-none",disabled:n,onClick:function(){i?window.dispatchEvent(new CustomEvent("website-builder-post-exit")):o()},children:[(0,d.jsx)(G.Z,{icon:t||i?"ChevronLeftIcon":"HouseIcon",from:"v2",variant:"large",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{className:"text-body-xs",children:i?"Blog":t?"Website":"Home"})]})},be=function(e){var n=e.selectedPost,t=e.loading;return(null===n||void 0===n?void 0:n._id)||"assistant"===(null===n||void 0===n?void 0:n.status)||(null===n||void 0===n?void 0:n.fromScratch)?null:(0,d.jsx)("div",{className:"sticky inset-x-0 md:hidden bottom-0 border-t",children:(0,d.jsx)(g.Z,{className:"flex-shrink-0 light xl gap-2 w-full !border-0 !rounded-none",loading:t,force:t,onClick:function(){window.dispatchEvent(new CustomEvent("website-builder-post-regenerate"))},children:"Regenerate post"})})},we=t(38462),ye=function(e){var n=e.text,t=e.variant,i=(0,we.$G)("mars").t,o=(0,v.useState)(""),l=o[0],s=o[1],a=(0,v.useState)(i("buildingLoader")),r=a[0],c=a[1],u=(0,v.useState)(!1),m=u[0],f=u[1];return(0,v.useEffect)((function(){if(n){s(r),c(n),f(!0);var e=setTimeout((function(){s(n),f(!1)}),500);return function(){return clearTimeout(e)}}}),[n]),"old"===t?(0,d.jsx)("div",{className:"fixed inset-0 bg-black backdrop-blur-xs z-100 font-sans bg-opacity-20 flex flex-col items-center justify-center p-6",children:(0,d.jsx)("div",{className:"py-6 px-8 bg-white bg-opacity-95 rounded-lg shadow-lg",children:(0,d.jsx)(y.Z,{text:n})})}):(0,d.jsx)("div",{className:"fixed inset-0 z-110 bg-gray-900 bg-opacity-60 backdrop-blur-sm flex items-center justify-center p-6",children:(0,d.jsxs)("div",{className:"flex flex-col items-center justify-center gap-4 md:gap-6",children:[(0,d.jsx)(y.Z,{variant:"full-logo"}),(0,d.jsxs)("ul",{className:"font-sans text-2xl leading-9 text-white text-center h-16 md:h-9 overflow-hidden",children:[(0,d.jsx)("li",{className:(0,p.AK)("flex items-center justify-center w-full h-16 md:h-9 translate-y-0 transition-transform duration-[0ms] delay-100",m&&"!duration-500 !-translate-y-full"),children:l}),(0,d.jsx)("li",{className:(0,p.AK)("flex items-center justify-center w-full h-16 md:h-9 translate-y-0 transition-transform duration-[0ms] delay-100",m&&"!duration-500 !-translate-y-full"),children:r})]})]})})};function je(e){var n,t,o=e.open,l=e.setOpen,s=e.block,a=e.refreshWidget,r=(0,ne.Z)(),u=r.confirm,m=r.ConfirmDialog,f=(0,v.useState)(!1),h=f[0],p=f[1],g=(0,v.useState)(!1),b=(g[0],g[1],(0,v.useState)("")),w=b[0],y=b[1],j=(0,x.Z)().get,N=function(e){var n,t,i;"COMMONNINJA_EDITOR_STATE_CHANGED"===(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.type)&&!(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.saved)&&(null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.widgetId)?p(!0):p(!1)},k=function(){var e=(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,j("/website/get-external-block-editor-url",{externalId:null===s||void 0===s?void 0:s.externalId})];case 1:return(e=t.sent())&&!0===e.status&&e.content&&y(e.content),[3,3];case 2:return n=t.sent(),console.error("Error fetching widget editor URL:",n),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,v.useEffect)((function(){return s&&window.addEventListener("message",N),!(null===s||void 0===s?void 0:s.editorUrl)&&(null===s||void 0===s?void 0:s.externalId)&&k(),function(){s&&window.removeEventListener("message",N)}}),[s]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(m,{confirmText:"Discard",attention:!0}),(0,d.jsx)(M.u.Root,{show:o,as:v.Fragment,children:(0,d.jsx)("div",{className:"fixed z-100 inset-0 overflow-y-auto",children:(0,d.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,d.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsxs)("div",{className:"inline-block align-middle bg-white rounded-lg md:my-8 w-full md:w-5/6 text-left overflow-visible shadow-xl transform transition-all",children:[(0,d.jsxs)("div",{className:"flex items-center py-6 px-6 border-b border-gray-200",children:[(0,d.jsxs)("h3",{className:"text-lg text-center leading-6 font-medium text-gray-900",children:["Configure ",(null===s||void 0===s||null===(n=s.WebsiteBlock)||void 0===n?void 0:n.name)||""]}),(0,d.jsx)("button",{type:"button",className:"bg-white rounded-md text-gray-600 hover:text-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ml-auto",onClick:function(){return function(){var e;h?u("Discard changes?","Are you sure you want to close without saving the ".concat(null===s||void 0===s||null===(e=s.WebsiteBlock)||void 0===e?void 0:e.name,"? Any unsaved changes will be discarded."),(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return a(null===s||void 0===s?void 0:s.externalId),l(!1),[2]}))}))):(a(null===s||void 0===s?void 0:s.externalId),l(!1))}()},children:(0,d.jsx)(G.Z,{icon:"XIcon",className:"h-6 w-6","aria-hidden":"true"})})]}),(0,d.jsx)("div",{className:"flex flex-col gap-4 ",children:(0,d.jsx)("iframe",{className:"w-full min-h-180",src:null!==(t=null===s||void 0===s?void 0:s.editorUrl)&&void 0!==t?t:w})})]})})]})})})]})}var Ne=t(53371),ke=t(43751);function Ze(e){var n=e.open,t=e.onClose,i=e.onAction,o=e.scrolledDistance,l=(0,v.useState)(!1),s=l[0],a=l[1],r=(0,v.useState)(!1),c=r[0],u=r[1],m=(0,v.useState)(!1),f=m[0],h=m[1],x=(0,$.Z)().track,g=function(e){var n=e.detail;h(null===n||void 0===n?void 0:n.active)};return(0,v.useEffect)((function(){var e=setInterval((function(){var e=document.getElementsByClassName("Toastify__toast-container");u((null===e||void 0===e?void 0:e.length)>0)}),500);return window.addEventListener("website-builder-active-block-changed",g),function(){clearInterval(e),window.removeEventListener("website-builder-active-block-changed",g)}}),[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(M.u.Root,{show:n&&o<200&&!f&&!s,as:v.Fragment,children:(0,d.jsx)("div",{className:"absolute sm:fixed bottom-16 md:bottom-6 left-1/2 -translate-x-1/2 z-40 p-2 sm:px-0 md:py-0 mx-auto w-full sm:max-w-120",children:(0,d.jsx)(M.u.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,d.jsxs)("div",{className:(0,p.AK)("group flex flex-row items-center gap-2 p-2 opacity-100 transition-all duration-300 bg-white border-gray-300 rounded-xl shadow-md",c&&"!opacity-0"),children:[(0,d.jsxs)("div",{className:"flex-shrink-0 relative w-10 h-10",children:[(0,d.jsx)("div",{className:"hidden md:flex absolute inset-0 w-10 h-10 opacity-100 transition-opacity group-hover:opacity-0",children:(0,d.jsx)(H(),{src:(0,p.sd)("rocket.svg"),alt:"Upgrade",layout:"fill",objectFit:"cover"})}),(0,d.jsx)("div",{className:"relative z-10 flex justify-center items-center w-10 h-10 md:opacity-0 cursor-pointer transition-opacity md:group-hover:opacity-100",onClick:function(){a(!0),t()},children:(0,d.jsx)(ke.Z,{className:"h-6 w-6","aria-hidden":"true"})})]}),(0,d.jsxs)("div",{className:"flex flex-col w-full sm:px-2 text-sm",children:[(0,d.jsx)("span",{className:"font-semibold text-gray-700",children:"Upgrade to get a custom domain name"}),(0,d.jsx)("span",{className:"hidden sm:block text-gray-500",children:"Plus unlimited pages, analytics, and more."})]}),(0,d.jsx)("button",{className:"flex-shrink-0 primary",onClick:function(){x("account:paywall_trigger_clicked",{context:"domain_alert"}),i()},children:"Upgrade"})]})})})})})}var Ce=t(9008),_e=t.n(Ce),Se=t(41664),Ee=t.n(Se);function Ie(e){var n,t,i,o=e.open,l=e.onPublish,s=e.onClose,a=e.scrolledDistance,r=(0,v.useState)(!1),c=r[0],u=r[1],m=(0,v.useState)(!1),f=m[0],h=m[1],x=(0,V.useSession)().data,g=function(e){var n=e.detail;h(null===n||void 0===n?void 0:n.active)};return(0,v.useEffect)((function(){var e=setInterval((function(){var e=document.getElementsByClassName("Toastify__toast-container");u((null===e||void 0===e?void 0:e.length)>0)}),500);return window.addEventListener("website-builder-active-block-changed",g),function(){clearInterval(e),window.removeEventListener("website-builder-active-block-changed",g)}}),[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(M.u.Root,{show:o&&a<200&&!f,as:v.Fragment,children:(0,d.jsx)("div",{className:"absolute sm:fixed bottom-16 md:bottom-6 left-1/2 -translate-x-1/2 z-40 p-2 sm:px-0 md:py-0 mx-auto w-full sm:max-w-120",children:(0,d.jsx)(M.u.Child,{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,d.jsxs)("div",{className:(0,p.AK)("group flex flex-row items-center gap-2 p-2 opacity-100 transition-all duration-300 bg-white border-gray-300 rounded-2xl shadow-md",c&&"!opacity-0"),children:[(0,d.jsxs)("div",{className:"flex-shrink-0 relative w-10 h-10",children:[(0,d.jsx)("div",{className:"hidden md:flex absolute inset-0 w-10 h-10 opacity-100 transition-opacity group-hover:opacity-0",children:(0,d.jsx)(H(),{src:(0,p.sd)("rocket.svg"),alt:"Upgrade",layout:"fill",objectFit:"cover"})}),(0,d.jsx)("div",{className:"relative z-10 flex justify-center items-center w-10 h-10 md:opacity-0 cursor-pointer transition-opacity md:group-hover:opacity-100",onClick:function(){s()},children:(0,d.jsx)(ke.Z,{className:"h-6 w-6","aria-hidden":"true"})})]}),(0,d.jsxs)("div",{className:"flex flex-col w-full sm:px-2 text-sm",children:[(0,d.jsx)("span",{className:"font-semibold text-gray-700",children:"Publish your website"}),(0,d.jsx)("span",{className:"hidden sm:block text-gray-500",children:"Go live with a custom domain name."})]}),!(null===x||void 0===x||null===(n=x.user)||void 0===n||null===(t=n.plan)||void 0===t||null===(i=t.features)||void 0===i?void 0:i.includes("publish-website"))&&(0,d.jsx)("span",{className:"ml-auto px-2.5 py-0.5 rounded-full text-sm font-medium bg-yellow-100 text-yellow-800",children:"PRO"}),(0,d.jsx)("button",{className:"button default",onClick:l,children:"Publish"})]})})})})})}var Te,Pe=t(75131),Ae=t(246),Be=t.n(Ae),Oe=t(71346),Re=[{id:"popular",name:"Popular"},{id:"recommended",name:"Recommended"},{id:"alphabetical",name:"Alphabetical"}],De={query:"",sort:"popular"};function Fe(e){var n,t=e.field,o=e.scrollRef,a=e.value,m=e.onChange,f=(0,v.useState)(!1),h=f[0],g=f[1],b=(0,v.useState)(De),j=b[0],N=b[1],k=(0,v.useState)((0,p.tl)("pack-fonts")),Z=k[0],C=k[1],_=(0,v.useState)((0,p.tl)("google-fonts")),S=_[0],E=_[1],I=(0,v.useState)([]),T=I[0],P=I[1],A=(0,v.useState)(1),B=A[0],O=A[1],R=(0,v.useState)(!0),D=R[0],F=R[1],W=(0,v.useState)(!1),L=W[0],z=W[1],M=(0,x.Z)().get,K=null===a||void 0===a||null===(n=a[t||"head"])||void 0===n?void 0:n.name,H=function(){var e=(0,i.Z)((function(){var e,n,t,i,o,l,s,a,r;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return g(!0),[4,M("/website/get-fonts")];case 1:if((e=c.sent())&&!0===e.status&&e.content){n=(0,u.UU)(e.content),t=[],i=!0,o=!1,l=void 0;try{for(s=function(){var e=r.value;e.head&&-1===t.findIndex((function(n){return n.id===e.head.name}))&&t.push({id:e.head.name,name:e.head.name,family:e.head.family,weight:e.head.weight,style:e.head.style||"normal",variants:[e.head.weight.toString()],source:e.head.source,category:"head"}),e.body&&-1===t.findIndex((function(n){return n.id===e.body.name}))&&t.push({id:e.body.name,name:e.body.name,family:e.body.family,weight:e.body.weight,style:e.body.style||"normal",variants:[e.body.weight.toString()],source:e.body.source,category:"body"})},a=n[Symbol.iterator]();!(i=(r=a.next()).done);i=!0)s()}catch(d){o=!0,l=d}finally{try{i||null==a.return||a.return()}finally{if(o)throw l}}(0,p.Fs)("pack-fonts",t),C(t)}return g(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return g(!0),fetch("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyCYy4zMaR3SW8BoTio3AtZjFXo8EMqpdnk&sort=popularity&subset=latin",{method:"GET"}).then((function(e){return e.json()})).then((function(e){if(null===e||void 0===e?void 0:e.items){var n=e.items.map((function(e){var n=e.variants.map((function(e){return"regular"===e?"400":"italic"===e?"400italic":e})),t=n.find((function(e){return e.includes("400")}))||n[0];return{id:e.family,name:e.family,family:"'".concat(e.family,"', ").concat(e.category),weight:t.replace("italic",""),style:t.includes("italic")?"italic":"normal",variants:n}}));n=n.filter((function(e){return!e.name.toLowerCase().includes("wix")})),(0,p.Fs)("google-fonts",n),E(n)}})).catch((function(e){console.error("Error:",e)})),g(!1),[2]}))}));return function(){return e.apply(this,arguments)}}(),$=function(e){var n=[];if("recommended"===j.sort&&Z?n=(0,p.p$)(Z):S&&(n=(0,p.p$)(S)),null===n||void 0===n?void 0:n.length){if("alphabetical"===j.sort&&(n=n.sort((function(e,n){return e.name.localeCompare(n.name)}))),n=n.filter((function(e){return!e.category||e.category.includes(t)})),e)n=n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}));else if(K){var i=n.find((function(e){return e.name===K}));i&&(n=[i].concat((0,r.Z)(n.filter((function(e){return e.name!==K})))))}(null===n||void 0===n?void 0:n.length)||F(!1),P(n)}};return(0,v.useEffect)((function(){return O(1),clearTimeout(Te),Te=setTimeout((function(){Z&&S&&$(j.query)}),j.query?400:10),function(){clearTimeout(Te)}}),[j.query]),(0,v.useEffect)((function(){O(1),Z&&S&&$()}),[j.sort]),(0,v.useEffect)((function(){$()}),[t,Z,S]),(0,v.useEffect)((function(){Z||H(),S||V()}),[]),(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"mb-6 space-y-4",children:[(0,d.jsx)(w.Z,{placeholder:"Search",icon:h?(0,d.jsx)(y.Z,{variant:"icon",className:"w-5 h-5 text-gray-500"}):(0,d.jsx)(G.Z,{icon:"SearchIcon",className:"w-5 h-5 text-gray-500"}),value:j.query,onChange:function(e){return N((function(n){return(0,s.Z)((0,l.Z)({},n),{query:e})}))}}),(0,d.jsx)(ie.Z,{value:Re.find((function(e){return e.id===j.sort})),values:Re,onChange:function(e){return N((function(n){return(0,s.Z)((0,l.Z)({},n),{sort:e.id})}))}})]}),(0,d.jsx)(Pe.E,{value:K,onChange:function(e){var n=S.find((function(n){return n.id===e}));m(n)},children:(0,d.jsxs)(Be(),{loadMore:function(){return function(e){(null===e||void 0===e?void 0:e.length)&&(L||(z(!0),O((function(e){return e+1})),(null===e||void 0===e?void 0:e.length)<30*B&&F(!1),z(!1)))}(T)},hasMore:D,loader:(0,d.jsx)("div",{className:"flex justify-center pt-8 w-full",children:(0,d.jsx)(y.Z,{variant:"icon"})}),useWindow:!1,getScrollParent:function(){return null===o||void 0===o?void 0:o.current},children:[null===T||void 0===T?void 0:T.slice(0,30*B).map((function(e,n){return(0,d.jsx)(Pe.E.Option,{value:e.name,className:"relative cursor-pointer",children:function(n){var t=n.checked;return(0,d.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,d.jsx)(We,{font:e}),t&&(0,d.jsx)(G.Z,{icon:"CheckIcon",className:"flex-shrink-0 w-5 h-5"})]})}},"font-google-".concat(n))})),!h&&!L&&0===(null===T||void 0===T?void 0:T.length)&&(0,d.jsx)("div",{className:"flex justify-center w-full",children:(0,d.jsx)("p",{className:"text-gray-500",children:"No fonts found"})})]})})]})}var We=function(e){var n=e.font;return(0,d.jsxs)(d.Fragment,{children:[(null===n||void 0===n?void 0:n.name)&&(0,d.jsx)(_e(),{children:(0,d.jsx)("link",{href:"".concat((0,Oe.wM)("google"),"?").concat((0,Oe.pr)(n,!0),"&display=swap"),rel:"stylesheet",crossOrigin:"anonymous"})}),(0,d.jsx)("p",{className:"heading-small",style:(0,Oe.lk)(n,20,28),children:null===n||void 0===n?void 0:n.name})]})},Le=t(55280),ze=t(27907),Me=[{id:"recommended",name:"Recommended"},{id:"all",name:"All"}];function Ge(e){var n,t,o=e.value,a=e.onChange,r=(0,v.useState)(!1),m=r[0],f=r[1],h=(0,v.useState)("all"),g=h[0],b=h[1],w=(0,v.useState)((0,p.tl)("font-pairings")),j=w[0],N=w[1],k=(0,v.useRef)(null===o||void 0===o||null===(n=o.head)||void 0===n?void 0:n.name),Z=(0,x.Z)().get,C=function(){var e=(0,i.Z)((function(){var e,n,t;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return f(!0),[4,Z("/website/get-fonts")];case 1:return(e=i.sent())&&!0===e.status&&e.content&&(n=e.content,t=(0,u.UU)(n),(0,p.Fs)("font-pairings",t),N(t)),f(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,v.useEffect)((function(){if(j&&o){var e=j.find((function(e){var n;return e.head.name===(null===o||void 0===o||null===(n=o.head)||void 0===n?void 0:n.name)}));"recommended"===(null===e||void 0===e?void 0:e.category)&&b("recommended")}}),[j,o]),(0,v.useEffect)((function(){j||C()}),[]),(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)(_e(),{children:[(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,d.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:!0})]}),(0,d.jsx)(ie.Z,{placeholder:"Select",values:Me,value:Me.find((function(e){return e.id===g})),onChange:function(e){return b(e.id)}}),(0,d.jsxs)(Pe.E,{className:"space-y-4",value:null===o||void 0===o||null===(t=o.head)||void 0===t?void 0:t.name,onChange:function(e){var n=j.find((function(n){return n.head.name===e}));a((0,s.Z)((0,l.Z)({},o),{head:n.head,body:n.body}))},children:[m&&(0,d.jsx)("div",{className:"flex justify-center pt-8 w-full",children:(0,d.jsx)(y.Z,{variant:"icon"})}),!m&&function(){if(!j)return[];var e=(0,p.p$)(j).sort((function(e,n){var t=k.current;if(t){if(e.head.name===t)return-1;if(n.head.name===t)return 1}return"all"===g?e.head.name.localeCompare(n.head.name):0}));return"all"===g?e:e.filter((function(e){return"recommended"===e.category}))}().map((function(e,n){return(0,d.jsx)(Pe.E.Option,{value:e.head.name,className:"relative cursor-pointer",children:function(n){var t=n.checked;return(0,d.jsxs)("div",{className:(0,p.AK)("flex items-center justify-between p-4 rounded-xl bg-white border border-black border-opacity-10 transition-all",t?"border-opacity-80":"hover:border-opacity-55"),children:[(0,d.jsx)(Oe.ZP,{className:"!p-0",fonts:e}),t&&(0,d.jsx)(G.Z,{icon:"CheckIcon",className:"flex-shrink-0 w-5 h-5"})]})}},"font-pairing-".concat(e.id,"-").concat(n))}))]})]})}var Ke=t(85908);function He(e){var n,t,i,o,a,r,c,u,m=e.value,f=e.onChange,h=e.onEdit,x=(0,v.useState)({}),g=x[0],b=x[1],w=(0,v.useState)({head:[],body:[]}),y=w[0],j=w[1],N=function(e){b(e),f(e)},k=function(e){var n={100:"Thin",200:"Extra-light",300:"Light",400:"Regular",500:"Medium",600:"Semi-bold",700:"Bold",800:"Extra-bold",900:"Black"};return e.toString().includes("italic")?"".concat(n[e.toString().replace("italic","")]||n[500]," italic"):n[e.toString()]||n[500]},Z=function(e){return"".concat(e.weight).concat("italic"===e.style?"italic":"")},C=function(e){return{weight:e.toString().replace("italic",""),style:e.toString().includes("italic")?"italic":"normal"}};return(0,v.useEffect)((function(){if(m){var e,n;if(b(m),null===(e=m.head)||void 0===e?void 0:e.variants){var t=m.head.variants.map((function(e){return{id:e,name:k(e)}}));j((function(e){return(0,s.Z)((0,l.Z)({},e),{head:t})}))}if(null===(n=m.body)||void 0===n?void 0:n.variants){var i=m.body.variants.map((function(e){return{id:e,name:k(e)}}));j((function(e){return(0,s.Z)((0,l.Z)({},e),{body:i})}))}}}),[m]),(0,d.jsxs)("div",{className:"divide-y space-y-6",children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("label",{children:"Headings"}),(0,d.jsxs)("div",{className:(0,p.AK)("select !cursor-pointer",(null===g||void 0===g||null===(n=g.head)||void 0===n?void 0:n.name)&&"defined"),onClick:function(){return h("head")},children:[(0,d.jsx)("div",{className:"flex-1 truncate",children:null===g||void 0===g||null===(t=g.head)||void 0===t?void 0:t.name}),(0,d.jsx)(G.Z,{icon:"ChevronRightIcon",className:"flex-shrink-0 w-5 h-5 select-indicator"})]}),(0,d.jsx)(ie.Z,{placeholder:"Select",values:y.head,value:y.head.find((function(e){return e.id===Z(null===g||void 0===g?void 0:g.head)})),onChange:function(e){return N((0,s.Z)((0,l.Z)({},g),{head:(0,l.Z)({},g.head,C(e.id))}))}}),(0,d.jsxs)("div",{className:"flex items-center gap-3 py-2",children:[(0,d.jsx)("label",{className:"w-20",children:"Size"}),(0,d.jsx)(Ke.Z,{value:(null===g||void 0===g||null===(i=g.head)||void 0===i?void 0:i.size)||1,min:.75,max:1.25,step:.01,onChange:function(e){return N((0,s.Z)((0,l.Z)({},g),{head:(0,s.Z)((0,l.Z)({},g.head),{size:e})}))}})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 py-2",children:[(0,d.jsx)("label",{className:"w-20",children:"Line height"}),(0,d.jsx)(Ke.Z,{value:(null===g||void 0===g||null===(o=g.head)||void 0===o?void 0:o.lineHeight)||1,min:.75,max:1.25,step:.01,onChange:function(e){return N((0,s.Z)((0,l.Z)({},g),{head:(0,s.Z)((0,l.Z)({},g.head),{lineHeight:e})}))}})]})]}),(0,d.jsxs)("div",{className:"pt-6 space-y-4",children:[(0,d.jsx)("label",{children:"Body text"}),(0,d.jsxs)("div",{className:(0,p.AK)("select !cursor-pointer",(null===g||void 0===g||null===(a=g.body)||void 0===a?void 0:a.name)&&"defined"),onClick:function(){return h("body")},children:[(0,d.jsx)("div",{className:"flex-1 truncate",children:null===g||void 0===g||null===(r=g.body)||void 0===r?void 0:r.name}),(0,d.jsx)(G.Z,{icon:"ChevronRightIcon",className:"flex-shrink-0 w-5 h-5 select-indicator"})]}),(0,d.jsx)(ie.Z,{placeholder:"Select",values:y.body,value:y.body.find((function(e){return e.id===Z(null===g||void 0===g?void 0:g.body)})),onChange:function(e){return N((0,s.Z)((0,l.Z)({},g),{body:(0,l.Z)({},g.body,C(e.id))}))}}),(0,d.jsxs)("div",{className:"flex items-center gap-3 py-2",children:[(0,d.jsx)("label",{className:"w-20",children:"Size"}),(0,d.jsx)(Ke.Z,{value:(null===g||void 0===g||null===(c=g.body)||void 0===c?void 0:c.size)||1,min:.85,max:1.25,step:.01,onChange:function(e){return N((0,s.Z)((0,l.Z)({},g),{body:(0,s.Z)((0,l.Z)({},g.body),{size:e})}))}})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 py-2",children:[(0,d.jsx)("label",{className:"w-20",children:"Line height"}),(0,d.jsx)(Ke.Z,{value:(null===g||void 0===g||null===(u=g.body)||void 0===u?void 0:u.lineHeight)||1,min:.75,max:1.25,step:.01,onChange:function(e){return N((0,s.Z)((0,l.Z)({},g),{body:(0,s.Z)((0,l.Z)({},g.body),{lineHeight:e})}))}})]})]}),(0,d.jsxs)("div",{className:"pt-6",children:[(0,d.jsx)("label",{className:"mb-2",children:"Preview"}),(0,d.jsx)(Oe.ZP,{className:"bg-black bg-opacity-5",fonts:g,custom:!0})]})]})}function Ve(e){var n,t,i,o=e.value,a=e.onChange,r=e.isWebsite,c=e.onEditCustom;return(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(j.Z,{className:"mb-6",size:"lg",fullWidth:!0,value:(null===o||void 0===o||null===(n=o.fonts)||void 0===n?void 0:n.source)||"pairing",options:[{id:"pairing",name:"Font packs"},{id:"custom",name:"Custom"}],onChange:function(e){var n,t,i,s,c,d,u,v,m,f,h,p,x,g,b,w,y,j,N,k,Z,C,_,S,E,I,T,P,A,B,O,R={source:e};"custom"!==e||!r||(null===o||void 0===o||null===(n=o.fonts)||void 0===n?void 0:n.custom)&&(null===o||void 0===o||null===(t=o.fonts)||void 0===t||null===(i=t.custom)||void 0===i||null===(s=i.head)||void 0===s?void 0:s.name)&&(null===o||void 0===o||null===(c=o.fonts)||void 0===c||null===(d=c.custom)||void 0===d||null===(u=d.body)||void 0===u?void 0:u.name)||(R={source:e,custom:{head:{name:(null===o||void 0===o||null===(v=o.fonts)||void 0===v||null===(m=v.head)||void 0===m?void 0:m.name)||"Inter",family:(null===o||void 0===o||null===(f=o.fonts)||void 0===f||null===(h=f.head)||void 0===h?void 0:h.family)||"Inter",weight:(null===o||void 0===o||null===(p=o.fonts)||void 0===p||null===(x=p.head)||void 0===x?void 0:x.weight)||500,style:(null===o||void 0===o||null===(g=o.fonts)||void 0===g||null===(b=g.head)||void 0===b?void 0:b.style)||"normal",variants:[((null===o||void 0===o||null===(w=o.fonts)||void 0===w||null===(y=w.head)||void 0===y?void 0:y.weight)||500).toString()],source:(null===o||void 0===o||null===(j=o.fonts)||void 0===j||null===(N=j.head)||void 0===N?void 0:N.source)||"google"},body:{name:(null===o||void 0===o||null===(k=o.fonts)||void 0===k||null===(Z=k.body)||void 0===Z?void 0:Z.name)||"Inter",family:(null===o||void 0===o||null===(C=o.fonts)||void 0===C||null===(_=C.body)||void 0===_?void 0:_.family)||"Inter",weight:(null===o||void 0===o||null===(S=o.fonts)||void 0===S||null===(E=S.body)||void 0===E?void 0:E.weight)||500,style:(null===o||void 0===o||null===(I=o.fonts)||void 0===I||null===(T=I.body)||void 0===T?void 0:T.style)||"normal",variants:[((null===o||void 0===o||null===(P=o.fonts)||void 0===P||null===(A=P.body)||void 0===A?void 0:A.weight)||500).toString()],source:(null===o||void 0===o||null===(B=o.fonts)||void 0===B||null===(O=B.body)||void 0===O?void 0:O.source)||"google"}}});a((0,l.Z)({},null===o||void 0===o?void 0:o.fonts,R))}}),"custom"===(null===o||void 0===o||null===(t=o.fonts)||void 0===t?void 0:t.source)?(0,d.jsx)(He,{value:r?null===o||void 0===o||null===(i=o.fonts)||void 0===i?void 0:i.custom:null===o||void 0===o?void 0:o.fonts,onEdit:c,onChange:function(e){a(r?(0,s.Z)((0,l.Z)({},null===o||void 0===o?void 0:o.fonts),{custom:e}):(0,l.Z)({},null===o||void 0===o?void 0:o.fonts,e))}}):(0,d.jsx)(Ge,{value:null===o||void 0===o?void 0:o.fonts,onChange:function(e){return a((0,l.Z)({},o.fonts,e))}})]})}var $e=t(42341),Ue=[{id:"recommended",name:"Recommended"},{id:"light",name:"Light"},{id:"dark",name:"Dark"},{id:"retro",name:"Retro"},{id:"pastel",name:"Pastel"},{id:"cool",name:"Cool"},{id:"warm",name:"Warm"},{id:"nature",name:"Nature"},{id:"energetic",name:"Energetic"},{id:"happy",name:"Happy"}],qe=["Aa","Bb","Cc","Dd"],Xe=function(e){var n,t=e.className,i=e.palette;return(0,d.jsx)("div",{className:(0,p.AK)("grid grid-cols-4 h-18 w-full overflow-hidden rounded-xl",t),children:null===i||void 0===i||null===(n=i.colors)||void 0===n?void 0:n.map((function(e,n){return(0,d.jsxs)("div",{className:"relative flex items-end p-3 transition-all",style:{background:e.color},children:[(0,d.jsx)("div",{className:(0,p.AK)("absolute inset-0 border-t border-b border-r border-black border-opacity-10",0===n&&"border-l rounded-l-xl",3===n&&"rounded-r-xl")}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex-shrink-0 w-3 h-3 rounded-full transition-all",style:{background:e.accent}}),(0,d.jsx)("p",{className:"font-medium transition-all",style:{color:(0,p.$O)(e.color||"#FFFFFF")},children:qe[n]})]})]},"palette-".concat(n))}))})};var Je=function(e){var n=e.idx,t=e.website,i=e.setWebsite,o=(0,v.useState)(null),a=o[0],r=o[1],c=function(e){var o,l=(0,p.p$)(t);(null===l||void 0===l||null===(o=l.colorPalette)||void 0===o?void 0:o.colors)&&!isNaN(n)&&(l.colorPalette.colors[n]={color:e.color,accent:e.accent},i(l))};return(0,v.useEffect)((function(){var e,i;(null===t||void 0===t||null===(e=t.colorPalette)||void 0===e?void 0:e.colors)&&!isNaN(n)&&r(null===t||void 0===t||null===(i=t.colorPalette)||void 0===i?void 0:i.colors[n])}),[t,n]),(0,d.jsxs)("div",{className:"divide-y",children:[(0,d.jsxs)("div",{className:"pb-6 space-y-6",children:[(0,d.jsx)($e.Z,{label:"Background",inline:!0,color:null===a||void 0===a?void 0:a.color,onChange:function(e){return c((0,s.Z)((0,l.Z)({},a),{color:e.hex}))}}),(0,d.jsx)($e.Z,{label:"Accent",inline:!0,color:null===a||void 0===a?void 0:a.accent,onChange:function(e){return c((0,s.Z)((0,l.Z)({},a),{accent:e.hex}))}})]}),(0,d.jsxs)("div",{className:"pt-6",children:[(0,d.jsx)("label",{className:"mb-2",children:"Preview"}),(0,d.jsxs)("div",{className:"relative flex items-end p-3 h-18 rounded-xl transition-all",style:{background:null===a||void 0===a?void 0:a.color},children:[(0,d.jsx)("div",{className:"absolute inset-0 border border-black border-opacity-10 rounded-xl"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex-shrink-0 w-4 h-4 rounded-full transition-all",style:{background:null===a||void 0===a?void 0:a.accent}}),(0,d.jsx)("p",{className:"font-medium transition-all",style:{color:(0,p.$O)((null===a||void 0===a?void 0:a.color)||"#000000")},children:qe[n]})]})]})]})]})},Ye=function(e){var n,t,o=e.settings,a=e.migrate,r=e.setMigrate,u=e.onEditColorSet,m=e.onChange,f=(0,v.useState)([]),h=f[0],g=f[1],b=(0,v.useState)(null),w=b[0],y=b[1],N=(0,v.useState)("recommended"),k=N[0],Z=N[1],C=(0,v.useState)(null)[1],_=(0,x.Z)().get,S=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,_("/website/get-palettes")];case 1:return(null===(e=n.sent())||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&g(e.content),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,v.useEffect)((function(){w&&"empty"!==w.Palette&&m(w)}),[w]),(0,v.useEffect)((function(){if(o){var e,n,t;if(!w)if(null===(e=o.Palette)||void 0===e||null===(n=e.themes)||void 0===n?void 0:n.includes("recommended"))Z("recommended");else Z((null===(t=o.Palette)||void 0===t?void 0:t.themes[0])||"recommended");y(o)}}),[o]),(0,v.useEffect)((function(){S()}),[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(j.Z,{className:"mb-6",size:"lg",fullWidth:!0,value:(null===w||void 0===w?void 0:w.Palette)||a?"theme":"custom",options:[{id:"theme",name:"Palette"},{id:"custom",name:"Custom"}],onChange:function(e){C((function(n){var t,i=h.find((function(e){return e._id===n}));return i?y((function(n){var t;return(0,s.Z)((0,l.Z)({},n),{Palette:"theme"===e?i:null,colors:"theme"===e?null:(null===o||void 0===o||null===(t=o.Palette)||void 0===t?void 0:t.colors)||(null===o||void 0===o?void 0:o.colors)||i.colors})})):(a||r(!0),"theme"!==e&&y((function(e){var n;return(0,s.Z)((0,l.Z)({},e),{Palette:null,colors:(null===o||void 0===o||null===(n=o.Palette)||void 0===n?void 0:n.colors)||(null===o||void 0===o?void 0:o.colors)})})),"theme"!==e||a||y((function(e){var n;return(0,s.Z)((0,l.Z)({},e),{Palette:"empty",colors:(null===o||void 0===o||null===(n=o.Palette)||void 0===n?void 0:n.colors)||(null===o||void 0===o?void 0:o.colors)})}))),null===w||void 0===w||null===(t=w.Palette)||void 0===t?void 0:t._id}))}}),((null===w||void 0===w?void 0:w.Palette)||a)&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(ie.Z,{placeholder:"Select",values:Ue,value:Ue.find((function(e){return e.id===(k||"recommended")})),onChange:function(e){return Z(e.id)}}),(0,d.jsx)(Pe.E,{className:"space-y-3",value:null===w||void 0===w||null===(n=w.Palette)||void 0===n?void 0:n._id,onChange:function(e){return y((function(n){return(0,s.Z)((0,l.Z)({},n),{Palette:h.find((function(n){return n._id===e}))})}))},children:null===h||void 0===h?void 0:h.filter((function(e){return e.themes.includes(k)})).map((function(e,n){return(0,d.jsx)(Pe.E.Option,{value:e._id,className:"cursor-pointer",children:function(n){var t=n.checked;return(0,d.jsx)(Xe,{palette:e,className:t&&"ring-1 ring-offset-1 ring-black ring-opacity-80 shadow-md"})}},"palette-".concat(e._id,"-color-").concat(n))}))})]}),!(null===w||void 0===w?void 0:w.Palette)&&!a&&(0,d.jsx)("div",{className:"space-y-6",children:null===w||void 0===w||null===(t=w.colors)||void 0===t?void 0:t.map((function(e,n){return(0,d.jsxs)("div",{className:"relative flex items-center justify-between gap-3 p-3.5 rounded-2.5 cursor-pointer",style:{background:e.color},onClick:function(){return u(n)},children:[(0,d.jsx)("div",{className:"absolute inset-0 border border-black border-opacity-10 rounded-2.5"}),(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:"flex-shrink-0 w-4 h-4 rounded-full",style:{background:e.accent}}),(0,d.jsx)("p",{className:"font-medium",style:{color:(0,p.$O)(e.color)},children:qe[n]})]}),(0,d.jsx)("button",{className:"relative z-5 flex-shrink-0",style:{color:(0,p.$O)(e.color)},children:(0,d.jsx)(G.Z,{icon:"PencilIcon",from:"heroicons",className:"w-5 h-5"})})]},"palette-color-set-".concat(n))}))})]})})};var Qe=t(992);function en(e){var n,t,i,a,r,c,u,m=e.website,h=e.open,x=e.setOpen,g=e.rtl,b=e.setRtl,w=e.disableTemplates,y=e.initialTab,j=void 0===y?0:y,N=e.tryPalette,k=e.onChange,C=e.onPreviewMigration,_=e.onExternalAction,S=(0,v.useState)(null),I=S[0],T=S[1],P=(0,v.useState)(j),A=P[0],B=P[1],O=(0,v.useState)(0),R=O[0],D=O[1],F=(0,v.useState)(null),W=F[0],L=F[1],z=(0,v.useState)(null),K=z[0],V=z[1],q=(0,v.useState)(!1),X=q[0],J=q[1],Y=(0,$.Z)().track;(0,U.m)(K);var Q=[{id:0,key:"customize",title:"Customize",parent:!1},{id:1,key:"palette",title:"Color palette",parent:"customize"},{id:2,key:"color-set",title:"Color ".concat(["A","B","C","D"][R||0]),parent:"palette"},{id:3,key:"buttons",title:"Button styles",parent:"customize"},{id:4,key:"fonts",title:"Fonts",parent:"customize"},{id:5,key:"google-search",title:[{field:"head",label:"Headings"},{field:"body",label:"Body text"}].find((function(e){return e.field===(W||"head")})).label,parent:"fonts"},{id:6,key:"corners",title:"Corners",parent:"customize"},{id:7,key:"animations",title:"Animations",parent:"customize"},{id:8,key:"favicon",title:"Browser icon",parent:"customize"},{id:9,key:"media-selector",title:"Media selector",parent:"favicon"}],ee=["PNG","ICO"],ne=(0,p.Jj)(),te=function(){x(!1)},ie=function(e){return Q.find((function(n){return n.id===e}))},oe=function(e){return!!ie(e).parent},le=function(){var e=ie(A);e.parent&&se(e.parent),X&&J(!1)},se=function(e){var n=Q.find((function(n){return n.key===e}));B(n.id),"color-set"!==n.key&&D(0),"google-search"!==n.key&&L(null)};return(0,v.useEffect)((function(){h?(T((0,p.p$)(m)),N&&setTimeout((function(){J(!0),se("palette")}),500)):setTimeout((function(){B(0)}),400)}),[h]),(0,v.useEffect)((function(){I&&k(I)}),[I]),(0,v.useEffect)((function(){if("undefined"!==typeof ne)return ne.addEventListener("dropdown-open",te),function(){ne.removeEventListener("dropdown-open",te)}}),[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(M.u,{show:h,appear:!0,children:(0,d.jsx)("div",{className:(0,p.AK)("builder-panel z-110",g?"left-0":"right-0"),children:(0,d.jsx)("div",{className:"relative w-full h-full md:max-w-90 md:p-2 z-100",children:(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"transform transition transition-all ease-in-out duration-500",enterFrom:g?"-translate-x-full":"translate-x-full",enterTo:"translate-x-0",leave:"transform transition transition-all ease-in-out duration-500",leaveFrom:"translate-x-0",leaveTo:g?"-translate-x-full":"translate-x-full",children:(0,d.jsxs)("div",{className:"relative flex flex-col bg-white shadow-xl md:rounded-2xl h-full md:h-auto w-screen max-w-full",children:[(0,d.jsxs)("div",{className:"sticky top-0 z-10 flex items-center justify-between max-w-full bg-white px-4 py-3 md:rounded-t-2xl",children:[(0,d.jsxs)("div",{className:"relative flex items-center z-5",children:[(0,d.jsx)(M.u,{as:v.Fragment,show:oe(A),enter:"transition-all duration-300",enterFrom:"opacity-0 -translate-x-3",enterTo:"opacity-100 translate-x-0",leave:"transition-all duration-300",leaveFrom:"opacity-100 translate-x-0",leaveTo:"opacity-0 -translate-x-3",children:(0,d.jsxs)("button",{type:"button",className:"absolute top-1/2 left-0 -translate-y-1/2 button ghost sm icon",onClick:le,children:[(0,d.jsx)("span",{className:"sr-only",children:"Exit editing"}),(0,d.jsx)(G.Z,{icon:"ChevronLeftIcon",className:"h-5 w-5"})]})}),(0,d.jsx)("p",{className:(0,p.AK)("text-sm font-bold text-black text-opacity-80 ml-0 transition-all",oe(A)&&"ml-8"),children:ie(A).title})]}),(0,d.jsx)(M.u,{as:v.Fragment,show:!0,enter:"transition-opacity duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("div",{className:"hidden md:flex items-center",title:"Move to ".concat(g?"right":"left"),children:(0,d.jsxs)("button",{className:"button ghost sm icon",onClick:function(){return b((function(e){return!e}))},children:[(0,d.jsx)("span",{className:"sr-only",children:"Move panel"}),(0,d.jsx)(G.Z,{icon:g?"PositionRightIcon":"PositionLeftIcon",from:"v2",variant:"large",className:"h-5 w-5","aria-hidden":"true"})]})}),(0,d.jsx)("button",{className:(0,p.AK)("button ghost sm",!oe(A)&&"icon"),onClick:te,children:oe(A)?(0,d.jsx)("span",{children:"Done"}):(0,d.jsx)(G.Z,{icon:"XMarkIcon",from:"v2",variant:"large",className:"w-5 h-5"})})]})})]}),(0,d.jsxs)(f.O.Group,{as:"div",className:"flex flex-col h-full md:h-auto",selectedIndex:A||0,children:[(0,d.jsx)(f.O.List,{className:"hidden",children:Q.map((function(e,n){return(0,d.jsx)(f.O,{className:"hidden",children:e.name},"".concat(e.name,"-").concat(n))}))}),(0,d.jsxs)(f.O.Panels,{ref:function(e){return V(e?{current:e}:null)},className:(0,p.AK)("tab-panels h-full",!oe(A)&&"!p-0"),style:{maxHeight:"calc(100vh - 194px)"},children:[(0,d.jsxs)(f.O.Panel,{className:"outline-none p-1",unmount:!1,children:[!w&&(function(){var e=!0;try{"false"===localStorage.getItem("showChangeTemplateIllustration")&&(e=!1)}catch(n){console.log(n)}return e}()?(0,d.jsx)(nn,{open:h,onClick:function(){return _("change-template")}}):(0,d.jsx)("div",{className:"menu-item",onClick:function(){return _("change-template")},children:(0,d.jsxs)("div",{className:"menu-item-group !gap-3",children:[(0,d.jsx)(G.Z,{icon:"ReplaceIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Change template"})]})})),(0,d.jsxs)("div",{className:"menu-item",onClick:function(){Y("editor:colors"),se("palette")},children:[(0,d.jsxs)("div",{className:"menu-item-group !gap-3",children:[(0,d.jsx)(G.Z,{icon:"PaletteIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Colors"})]}),(0,d.jsx)(G.Z,{icon:"ChevronRightIcon",from:"v2",className:"w-5 h-5"})]}),(0,d.jsxs)("div",{className:"menu-item",onClick:function(){Y("editor:fonts"),se("fonts")},children:[(0,d.jsxs)("div",{className:"menu-item-group !gap-3",children:[(0,d.jsx)(G.Z,{icon:"TypeIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Fonts"})]}),(0,d.jsx)(G.Z,{icon:"ChevronRightIcon",from:"v2",className:"w-5 h-5"})]}),(0,d.jsxs)("div",{className:"menu-item",onClick:function(){Y("editor:buttons"),se("buttons")},children:[(0,d.jsxs)("div",{className:"menu-item-group !gap-3",children:[(0,d.jsx)(G.Z,{icon:"ButtonIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Buttons"})]}),(0,d.jsx)(G.Z,{icon:"ChevronRightIcon",from:"v2",className:"w-5 h-5"})]}),(0,d.jsxs)("div",{className:"menu-item",onClick:function(){return se("corners")},children:[(0,d.jsxs)("div",{className:"menu-item-group !gap-3",children:[(0,d.jsx)(G.Z,{icon:"AngleDottedIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Corners"})]}),(0,d.jsx)(G.Z,{icon:"ChevronRightIcon",from:"v2",className:"w-5 h-5"})]}),(0,d.jsxs)("div",{className:"menu-item",onClick:function(){return se("animations")},children:[(0,d.jsxs)("div",{className:"menu-item-group !gap-3",children:[(0,d.jsx)(G.Z,{icon:"AnimationIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Animations"})]}),(0,d.jsx)(G.Z,{icon:"ChevronRightIcon",from:"v2",className:"w-5 h-5"})]}),(0,d.jsxs)("div",{className:"menu-item",onClick:function(){return se("favicon")},children:[(0,d.jsxs)("div",{className:"menu-item-group !gap-3",children:[(0,d.jsx)(G.Z,{icon:"TabIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Browser icon"})]}),(0,d.jsx)(G.Z,{icon:"ChevronRightIcon",from:"v2",className:"w-5 h-5"})]}),(0,d.jsx)("div",{className:"menu-item",onClick:function(){Y("editor:widgets"),_("widgets")},children:(0,d.jsxs)("div",{className:"menu-item-group !gap-3",children:[(0,d.jsx)(G.Z,{icon:"ApplicationIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Manage widgets"})]})}),(0,d.jsx)("div",{className:"menu-item",onClick:function(){return _("regenerate-text")},children:(0,d.jsxs)("div",{className:"menu-item-group !gap-3",children:[(0,d.jsx)(G.Z,{icon:"PenSparkleIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Regenerate text"})]})}),(0,d.jsx)("div",{className:"menu-item",onClick:function(){return _("regenerate")},children:(0,d.jsxs)("div",{className:"menu-item-group !gap-3",children:[(0,d.jsx)(G.Z,{icon:"SparkleIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Regenerate entire website"})]})}),(0,d.jsx)("div",{className:"menu-item",onClick:function(){return _("keywords")},children:(0,d.jsxs)("div",{className:"menu-item-group !gap-3",children:[(0,d.jsx)(G.Z,{icon:"DocumentMagnifyingGlassIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Keywords"})]})})]}),(0,d.jsx)(f.O.Panel,{className:"outline-none",unmount:!1,children:(0,d.jsx)(Ye,{settings:null===I||void 0===I?void 0:I.colorPalette,migrate:X,setMigrate:function(){return(null===I||void 0===I?void 0:I.noPaletteSupport)&&J(!0)},onEditColorSet:function(e){se("color-set"),D(e)},onChange:function(e){X?(T((function(n){return(0,s.Z)((0,l.Z)({},n),{colorPalette:e,noPaletteSupport:!1,migratePalette:!0})})),C(!0),J(!1)):T((function(n){return(0,s.Z)((0,l.Z)({},n),{colorPalette:e})}))}})}),(0,d.jsx)(f.O.Panel,{className:"outline-none",unmount:!1,children:(0,d.jsx)(Je,{idx:R,website:I,setWebsite:T})}),(0,d.jsx)(f.O.Panel,{className:"outline-none",unmount:!1,children:(0,d.jsx)(Qe.jn,{website:I,setWebsite:T,onTryPalette:function(){return B(1)}})}),(0,d.jsx)(f.O.Panel,{className:"divide-y outline-none",unmount:!1,children:4===A&&(0,d.jsx)(Ve,{isWebsite:!0,value:I,onChange:function(e){T((function(n){return(0,s.Z)((0,l.Z)({},n),{fonts:{source:e.source,head:e.head,body:e.body,custom:e.custom}})}))},onEditCustom:function(e){se("google-search"),L(e)}})}),(0,d.jsx)(f.O.Panel,{className:"divide-y outline-none",unmount:!1,children:W&&(0,d.jsx)(Fe,{scrollRef:K,field:W,value:null===I||void 0===I||null===(n=I.fonts)||void 0===n?void 0:n.custom,onChange:function(e){return T((function(n){return(0,s.Z)((0,l.Z)({},n),{fonts:(0,s.Z)((0,l.Z)({},n.fonts),{custom:(0,s.Z)((0,l.Z)({},n.fonts.custom),(0,o.Z)({},W,e))})})}))}})}),(0,d.jsx)(f.O.Panel,{className:"outline-none",unmount:!1,children:(0,d.jsx)(E.li,{website:I,setWebsite:T})}),(0,d.jsx)(f.O.Panel,{className:"outline-none",unmount:!1,children:(0,d.jsx)(Z.VV,{website:I,setWebsite:T})}),(0,d.jsxs)(f.O.Panel,{className:"outline-none",unmount:!1,children:[(0,d.jsx)("label",{className:"mb-1",children:"Browser icon"}),(0,d.jsx)("p",{className:"label helper",children:"Add an icon to display on browser tabs"}),(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg my-4",children:[(0,d.jsx)("div",{className:(0,p.AK)("flex-shrink-0 relative flex items-center justify-center h-4 w-4 overflow-hidden rounded-sm",!(null===I||void 0===I||null===(t=I.favicon)||void 0===t?void 0:t._id)&&"bg-gray-300"),children:(null===I||void 0===I||null===(i=I.favicon)||void 0===i?void 0:i._id)&&(null===I||void 0===I||null===(a=I.favicon)||void 0===a?void 0:a.url)&&(0,d.jsx)(H(),{unoptimized:!0,className:"",src:null===I||void 0===I||null===(r=I.favicon)||void 0===r?void 0:r.url,objectFit:"cover",layout:"fill",alt:"favicon"})}),(0,d.jsx)(ze.Z,{libraries:["icons","library","upload"],upload:{location:"logos",allowedExtensions:ee,allowedFileSize:"1MB",maxWidth:"480",maxHeight:"480"},onChange:function(e){return T((0,s.Z)((0,l.Z)({},I),{favicon:e}))},onSelector:function(){return se("media-selector")},children:(0,d.jsxs)("button",{className:"button ghost sm",children:[(0,d.jsx)("span",{className:"px-1",children:(null===I||void 0===I||null===(c=I.favicon)||void 0===c?void 0:c._id)?"Change":"Add icon"}),!(null===I||void 0===I||null===(u=I.favicon)||void 0===u?void 0:u._id)&&(0,d.jsx)(G.Z,{icon:"PlusSolidIcon",className:"w-4 h-4"})]})})]}),(0,d.jsxs)("p",{className:"text-xs text-gray-500",children:[(0,p.RF)(ee)," image up to ","1MB",". At least 48x48px."]})]}),(0,d.jsx)(f.O.Panel,{children:(0,d.jsx)(Le.Z,{onBack:le})})]})]})]})})})})})})}var nn=function(e){var n=e.open,t=e.onClick,i=(0,v.useState)(!1),o=i[0],l=i[1];return(0,v.useEffect)((function(){var e=setTimeout((function(){l(!0)}),800);return function(){return clearTimeout(e)}}),[n]),(0,d.jsxs)("div",{className:"group bg-gradient-to-r from-indigo-50 to-pink-50 border border-gray-200 rounded-xl cursor-pointer",onClick:function(){try{localStorage.setItem("showChangeTemplateIllustration","false"),t()}catch(e){console.log(e)}},children:[(0,d.jsx)("div",{className:"relative h-50 max-w-90 mx-auto p-3",children:(0,d.jsxs)(M.u,{show:o,children:[(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"transition-all duration-300 delay-500",enterFrom:"opacity-0 scale-75",enterTo:"opacity-100 scale-100",children:(0,d.jsx)("div",{className:"absolute top-4 right-1/3 w-16 h-11 bg-indigo-100 rounded-md rotate-[-17deg] transition-all duration-600 group-hover:rotate-[-3deg]"})}),(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"transition-all duration-300 delay-500",enterFrom:"opacity-0 scale-75",enterTo:"opacity-100 scale-100",children:(0,d.jsx)("div",{className:"absolute bottom-8 left-10 w-22 h-15 bg-indigo-100 rounded-md rotate-[-10deg] transition-all duration-600 group-hover:bottom-6"})}),(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"transition-all duration-300 delay-500",enterFrom:"opacity-0 scale-75",enterTo:"opacity-100 scale-100",children:(0,d.jsx)("div",{className:"absolute bottom-8 right-14 w-18 h-13 bg-indigo-100 rounded-md rotate-[10deg] transition-all duration-600 group-hover:bottom-6"})}),(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"transition-all duration-300 delay-500",enterFrom:"opacity-0 scale-75",enterTo:"opacity-100 scale-100",children:(0,d.jsx)("div",{className:"absolute top-10 left-6 w-40 h-22 bg-white border-3 border-white rounded-lg rotate-[-4deg] shadow-xl transition-all duration-600 group-hover:rotate-[7deg]",children:(0,d.jsx)(H(),{className:"rounded-md",unoptimized:!0,src:(0,p.sd)("change-template/photographers08.png"),layout:"fill",objectFit:"cover",objectPosition:"top",alt:"Change template illustration"})})}),(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"transition-all duration-300 delay-500",enterFrom:"opacity-0 scale-75",enterTo:"opacity-100 scale-100",children:(0,d.jsx)("div",{className:"absolute top-8 right-8 w-32 h-20 bg-white border-3 border-white rounded-lg rotate-[7deg] shadow-xl transition-all duration-600 group-hover:rotate-[15deg]",children:(0,d.jsx)(H(),{className:"rounded-md",unoptimized:!0,src:(0,p.sd)("change-template/travelagency02.png"),layout:"fill",objectFit:"cover",objectPosition:"top",alt:"Change template illustration"})})}),(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"transition-all duration-300",enterFrom:"opacity-0 scale-75",enterTo:"opacity-100 scale-100",children:(0,d.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2 w-50 h-30 bg-white border-3 border-white rounded-lg rotate-[3deg] shadow-xl transition-all duration-600 group-hover:rotate-[-3deg]",children:(0,d.jsx)(H(),{className:"rounded-md",unoptimized:!0,src:(0,p.sd)("change-template/travelagency01.png"),layout:"fill",objectFit:"cover",objectPosition:"top",alt:"Change template illustration"})})})]})}),(0,d.jsxs)("div",{className:"px-6 pb-6 max-w-90 mx-auto",children:[(0,d.jsx)("label",{className:"mb-1",children:"Template"}),(0,d.jsx)("p",{className:"label helper mb-3",children:"Give your site a whole new look"}),(0,d.jsxs)("button",{className:"button default icon-left w-full",children:[(0,d.jsx)(G.Z,{icon:"ReplaceIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Switch template"})]})]})]})};function tn(e){var n=e.device,t=void 0===n?"desktop":n,i=e.onChange,o=(0,v.useState)(t),l=o[0],s=o[1],a=[{id:"desktop",device:"desktop",icon:"DesktopIcon",label:"Desktop",canView:(0,p.ac)("(min-width: 1024px)")},{id:"tablet",device:"tablet",icon:"TabletIcon",label:"Tablet",canView:(0,p.ac)("(min-width: 860px)")},{id:"mobile",device:"mobile",icon:"MobileIcon",label:"Phone",canView:!0}].filter((function(e){return e.canView}));return(0,v.useEffect)((function(){s(t)}),[t]),(0,d.jsx)(j.Z,{className:"-my-1",size:"lg",value:l,options:a,onChange:function(e){i(e),window.dispatchEvent(new CustomEvent("website-builder-simulate-device",{detail:{device:e}}))}})}var on=t(60776),ln=t(89130),sn=t(72565);function an(e){var n,t=e.track,i=e.website,o=e.loading,l=e.disabled,s=e.generating,a=e.generatingPost,r=e.dirty,c=e.blogMode,u=e.postMode,m=e.selectedPage,f=e.selectedPost,h=e.handleOpenManage,g=e.handleOpenPostAssistant,b=e.handleViewWebsite,w=e.openSupport,y=e.handleOpenManagePages,j=e.handleOpenManagePage,N=e.handleOpenCreatePage,k=e.openManagePages,Z=e.onExit,C=e.onDiscard,_=e.onSave,S=e.openChangeTemplate,E=e.previewMode,I=e.setPreviewMode,T=(0,v.useState)(!1),P=T[0],A=T[1],B=(0,v.useState)(null),O=B[0],R=B[1],D=(0,v.useState)(!1),F=D[0],W=D[1],L=(0,V.useSession)().data,z=(0,x.Z)().get;return(0,v.useEffect)((function(){(0,he.Q5)(z).then((function(e){R(e)}))}),[]),(0,d.jsxs)("div",{className:(0,p.AK)("sticky left-0 top-0 z-50 flex md:grid grid-cols-4 md:grid-cols-5 items-center justify-between gap-4 p-4 bg-white border-b md:border-0 md:shadow md:transition-all duration-750 transform-gpu",(c||u)&&"md:flex",k&&"pointer-events-none",S&&"opacity-0 -translate-y-full pointer-events-none"),children:[(0,d.jsx)(sn.Z,{open:P,setOpen:A}),O&&(0,d.jsx)(pe.Z,{showModal:F,showModalHandler:function(){return W(!F)},scheduleData:O,setScheduleData:R}),(0,d.jsx)("div",{className:"col-span-2 flex items-center gap-1.5 md:hidden",children:(0,d.jsx)(hn,{postMode:u,selectedPage:m,onClick:j,track:t})}),(0,d.jsxs)("div",{className:"col-span-2 hidden md:flex items-center gap-4",children:[(0,d.jsx)(cn,{blogMode:c,postMode:u,disabled:o||r,onExit:Z}),(0,d.jsxs)(M.u,{as:"div",className:"flex items-center gap-4",show:!(null===E||void 0===E?void 0:E.active),enter:"transition-all duration-300",enterFrom:"opacity-0 -translate-x-3",enterTo:"opacity-100 translate-x-0",leave:"transition-all duration-300",leaveFrom:"opacity-100 translate-x-0",leaveTo:"opacity-0 -translate-x-3",children:[(0,d.jsx)(fn,{}),c&&("assistant"!==(null===f||void 0===f?void 0:f.status)?(0,d.jsxs)("button",{className:"button ghost sm icon-left",disabled:o||s||a,onClick:function(){u?(t("editor:blog_top_nav",{nav_item:"settings"}),window.settingsPost()):window.editBlock("blog")},children:[(0,d.jsx)(G.Z,{icon:"Cog8ToothIcon",className:"w-4 h-4","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Settings"})]}):null),c&&!u&&(0,d.jsx)(pn,{disabled:r||o||s,onClick:function(){t("editor:blog_top_nav",{nav_item:"add_post"}),g()}}),c&&(0,d.jsx)(ln.Z,{disabled:r||o||s,active:null===O||void 0===O||null===(n=O.existingScheduleData)||void 0===n?void 0:n.isEnabled,onClick:function(){var e,n;t("editor:blog_top_nav",{nav_item:"automate"}),(null===L||void 0===L||null===(e=L.user)||void 0===e||null===(n=e.plan)||void 0===n?void 0:n.level)>0?W(!0):A(!0)}}),!c&&!u&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("button",{dataTour:"theme",className:"button ghost sm icon-left",disabled:o||s,onClick:function(){t("editor:customize"),h(null,"style")},children:[(0,d.jsx)(G.Z,{icon:"PaintbrushIcon",from:"v2",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Customize"})]}),(0,d.jsxs)("button",{dataTour:"pages",className:"button ghost sm icon-left",disabled:o||s||a,onClick:function(){t("editor:pages"),y()},children:[(0,d.jsx)(G.Z,{icon:"FileIcon",from:"v2",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Pages"})]}),(0,d.jsxs)("button",{className:"button ghost sm icon-left",disabled:o||s||a,onClick:function(){t("editor:add_clicked"),N()},children:[(0,d.jsx)(G.Z,{icon:"PlusIcon",from:"v2",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Add"})]}),(0,d.jsxs)("button",{className:"button ghost sm icon-left",disabled:o,onClick:function(){w(),t("editor:help_clicked")},children:[(0,d.jsx)(G.Z,{icon:"QuestionIcon",from:"v2",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Help"})]})]})]})]}),(0,d.jsxs)("div",{className:"col-span-1 hidden md:flex items-center md:justify-center gap-3",children:[u&&(0,d.jsx)(mn,{selectedPost:f,loading:a}),(0,d.jsx)(rn,{selectedPage:m,postMode:u,previewMode:E,setPreviewMode:I,disabled:o||s||a,onManagePage:j,track:t})]}),(0,d.jsx)("div",{className:"col-span-2 flex items-center justify-end gap-4",children:r?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(dn,{postMode:u,disabled:o||a,onDiscard:function(){C(),c||u||t("website:discard")}}),(0,d.jsx)(un,{postMode:u,loading:o,disabled:!r||l||o||s||a,onSave:function(){_(),c||u||(t("editor:save "),function(){try{(0,on.b)(null===i||void 0===i?void 0:i.createdAt)>1&&(0,on.o)("survicate-website-edited-days-1",window)}catch(e){}}())}})]}):(0,d.jsx)(d.Fragment,{children:(null===f||void 0===f?void 0:f._id)&&u?(0,d.jsxs)("div",{class:"flex items-center gap-4",children:[(0,d.jsx)(vn,{disabled:o,loading:o,selectedPost:f}),(null===f||void 0===f?void 0:f.published)&&(0,d.jsx)(Ee(),{href:function(e){var n,t,o=(0,p.lz)(i),l=o.includes(":7000")?"http://":"https://",s="".concat(l).concat("active"===(null===i||void 0===i||null===(n=i.cloudflare)||void 0===n||null===(t=n.ssl)||void 0===t?void 0:t.status)&&(null===i||void 0===i?void 0:i.domain)?i.domain:o);return"".concat(s,"/blog/").concat(e)}(null===f||void 0===f?void 0:f.slug),passHref:!0,children:(0,d.jsxs)("a",{target:"_blank",className:"button ghost sm icon-left",disabled:l,children:[(0,d.jsx)(G.Z,{icon:"ExternalLinkIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{children:"View post"})]})})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(xn,{track:t,previewMode:E,setPreviewMode:I,disabled:o||(null===E||void 0===E?void 0:E.loading)}),(0,d.jsx)(fn,{className:"hidden lg:flex"}),"public"===(null===i||void 0===i?void 0:i.status)?(0,d.jsxs)("button",{"data-tour":"preview",className:"button default sm icon",disabled:o||s,onClick:function(){return b()},children:[(0,d.jsx)(G.Z,{icon:"ArrowTopRightOnSquareIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{className:"hidden md:block px-1",children:"View website"})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("button",{className:"md:!hidden button ghost icon sm",disabled:o||s,onClick:b,children:(0,d.jsx)(G.Z,{icon:"ArrowTopRightOnSquareIcon",className:"w-4 h-4","aria-hidden":"true"})}),(0,d.jsxs)("button",{"data-tour":"preview",className:"button default sm",disabled:o||s,onClick:function(){t("editor:publish_clicked"),b(!0,!1)},children:[(0,d.jsx)(G.Z,{icon:"RocketIcon",from:"v2",variant:"large",className:"hidden md:block w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{className:"md:pl-1",children:"Publish"})]})]})]})})})]})}var rn=function(e){var n=e.previewMode,t=e.setPreviewMode,i=e.selectedPage,o=e.postMode,a=e.disabled,r=e.onManagePage,c=e.track,u=(0,v.useState)(!0),m=u[0],f=u[1],h=(0,v.useState)(!1),p=h[0],x=h[1];return(0,v.useEffect)((function(){(null===n||void 0===n?void 0:n.active)?f(!1):(x(!1),setTimeout((function(){return f(!0)}),400))}),[n]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(M.u,{as:"div",show:m,enter:"transition-all duration-300",enterFrom:"opacity-0 -translate-y-3",enterTo:"opacity-100 translate-y-0",leave:"transition-all duration-300",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-3",afterLeave:function(){return x(!0)},children:(0,d.jsx)(hn,{selectedPage:i,postMode:o,disabled:a,onClick:r,track:c})}),(0,d.jsx)(M.u,{as:"div",show:p,enter:"transition-all duration-300",enterFrom:"opacity-0 -translate-y-3",enterTo:"opacity-100 translate-y-0",leave:"transition-all duration-300",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-3",children:(0,d.jsx)(tn,{device:null===n||void 0===n?void 0:n.device,onChange:function(e){return t((0,s.Z)((0,l.Z)({},n),{device:e}))}})})]})},cn=function(e){var n=e.className,t=e.disabled,i=e.blogMode,o=e.postMode,l=e.onExit;return(0,d.jsxs)("button",{className:(0,p.AK)("button ghost icon sm",n),disabled:t,onClick:function(){o?window.dispatchEvent(new CustomEvent("website-builder-post-exit")):l()},children:[(0,d.jsx)(G.Z,{icon:i||o?"ChevronLeftIcon":"HouseIcon",from:"v2",variant:"large",className:"w-5 h-5","aria-hidden":"true"}),i&&(0,d.jsx)("span",{className:"text-label hidden xl:block",children:o?"Blog":"Website"})]})},dn=function(e){var n=e.postMode,t=e.disabled,i=e.onDiscard;return(0,d.jsx)("button",{className:"button auxiliary sm",disabled:t,onClick:function(){n?window.dispatchEvent(new CustomEvent("website-builder-post-discard")):i()},children:"Discard"})},un=function(e){var n=e.postMode,t=e.disabled,i=e.loading,o=e.onSave;return(0,d.jsx)(g.Z,{className:"button default sm",disabled:t,loading:i,onClick:function(){n?window.dispatchEvent(new CustomEvent("website-builder-post-save")):o()},children:"Save"})},vn=function(e){var n=e.selectedPost,t=e.disabled,i=e.loading;return(0,d.jsx)("div",{className:(0,p.AK)((null===n||void 0===n?void 0:n.published)?"hidden md:inline-flex":"inline-flex"),children:(0,d.jsxs)(g.Z,{className:(0,p.AK)("button sm icon-left",(null===n||void 0===n?void 0:n.published)?"auxiliary":"default"),disabled:t,loading:i,onClick:function(){window.dispatchEvent(new CustomEvent("website-builder-post-toggle-published"))},children:[(0,d.jsx)(G.Z,{icon:(null===n||void 0===n?void 0:n.published)?"EyeSlashIcon":"DocumentTextSolidIcon",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{children:(null===n||void 0===n?void 0:n.published)?"Unpublish post":"Publish post"})]})})},mn=function(e){var n=e.selectedPost,t=e.loading;return(null===n||void 0===n?void 0:n._id)||"assistant"===(null===n||void 0===n?void 0:n.status)||(null===n||void 0===n?void 0:n.fromScratch)?null:(0,d.jsxs)(g.Z,{className:"button ghost sm icon-left",loading:t,force:t,onClick:function(){window.dispatchEvent(new CustomEvent("website-builder-post-regenerate"))},children:[(0,d.jsx)(G.Z,{icon:"SparkleIcon",from:"v2",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Regenerate"})]})},fn=function(e){var n=e.className;return(0,d.jsx)("div",{className:(0,p.AK)("flex-shrink-0 mx-0 w-px h-4 bg-black bg-opacity-10",n)})},hn=function(e){var n=e.selectedPage,t=e.postMode,i=e.disabled,o=e.onClick,l=e.track;return t?(0,d.jsx)("div",{className:"button ghost sm",children:"Post"}):(0,d.jsxs)("button",{className:"button ghost sm",disabled:i,onClick:function(){var e,t;"blog"!==(null===n||void 0===n||null===(e=n.name)||void 0===e?void 0:e.toLowerCase())&&"blog"!==(null===n||void 0===n||null===(t=n.label)||void 0===t?void 0:t.toLowerCase())||l("editor:blog_top_nav",{nav_item:"blog_settings"}),o()},children:[(0,d.jsx)("div",{className:"pr-1 md:pl-1 max-w-30 xl:max-w-60 whitespace-nowrap overflow-hidden overflow-ellipsis",children:(null===n||void 0===n?void 0:n.name)||(null===n||void 0===n?void 0:n.label)||"Page"}),(0,d.jsx)(G.Z,{icon:"SlidersIcon",from:"v2",className:"w-5 h-5","aria-hidden":"true"})]})},pn=function(e){var n=e.disabled,t=e.onClick;return(0,d.jsxs)("button",{className:"button ghost sm icon-left",disabled:n,onClick:t,children:[(0,d.jsx)(G.Z,{icon:"PlusIcon",from:"v2",className:"w-5 h-5","aria-hidden":"true"}),(0,d.jsx)("span",{children:"Add post"})]})},xn=function(e){var n=e.track,t=e.previewMode,i=e.setPreviewMode,o=e.disabled,a=(0,v.useState)(!1),r=a[0],c=a[1];return(0,v.useEffect)((function(){var e=function(){return c(!1)};return window.addEventListener("website-builder-preview-loaded",e),function(){window.removeEventListener("website-builder-preview-loaded",e)}}),[]),(0,d.jsxs)("div",{className:"hidden lg:flex items-center gap-2",children:[(0,d.jsx)("p",{className:"label helper",children:"Preview"}),(0,d.jsx)(b.Z,{icon:"PlayIcon",enabled:null===t||void 0===t?void 0:t.active,disabled:r||o,onChange:function(){r||o||(i((0,s.Z)((0,l.Z)({},t),{active:!(null===t||void 0===t?void 0:t.active)})),c(!0),setTimeout((function(){return c(!1)}),1e4),(null===t||void 0===t?void 0:t.active)||n("editor:preview"))}})]})},gn=t(61437),bn=t(27507);var wn=function(){var e=(0,v.useState)(!1),n=e[0],t=(e[1],(0,v.useState)({open:!1,title:"",content:"",success:function(){},cancel:function(){},confirmPhrase:"confirm"})),o=t[0],a=t[1],r=(0,v.useState)(""),u=r[0],m=r[1],f=(0,v.useState)(!1),h=f[0],x=f[1],b=(0,v.useState)(!1),y=b[0],j=b[1],N=(0,p.ac)("(max-width: 767px)"),k=function(){var e=(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return u.toLowerCase()!==o.confirmPhrase?x(!0):(x(!1),o.success()),[2]}))}));return function(){return e.apply(this,arguments)}}(),Z=function(e){m(e),e.toLocaleLowerCase()===o.confirmPhrase?x(!1):x(!0)},C=function(e){"Enter"===e.key&&k()};return(0,v.useEffect)((function(){o.open&&m("")}),[o.open]),{confirm:function(e,n,t,r,d,u){var v=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"confirm";a((0,s.Z)((0,l.Z)({},o),{open:!0,title:e,content:n,warnText:t,actionText:r,confirmPhrase:v,success:(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return"function"!==typeof d?[3,2]:(j(!0),[4,d()]);case 1:return e.sent(),a((0,s.Z)((0,l.Z)({},o),{open:!1})),j(!1),[3,3];case 2:a((0,s.Z)((0,l.Z)({},o),{open:!1})),e.label=3;case 3:return[2]}}))})),cancel:function(){a((0,s.Z)((0,l.Z)({},o),{open:!1})),"function"===typeof u&&setTimeout((function(){u()}),200)}}))},ConfirmDialog:function(e){var t=e.confirmText,i=e.cancelText,l=e.attention;return(0,d.jsx)(M.u.Root,{show:o.open&&!n,as:v.Fragment,children:(0,d.jsx)(bn.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",initialFocus:null,onClose:function(){return!1},static:!0,children:(0,d.jsxs)("div",{className:"flex items-end lg:items-center justify-center h-full lg:pt-4 lg:px-4 lg:pb-20 text-center",style:{maxHeight:"-webkit-fill-available"},onClick:function(e){e.stopPropagation(),e.preventDefault()},children:[(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(bn.V.Overlay,{className:"fixed inset-0 transition-opacity bg-black bg-opacity-40 backdrop-blur-2xs"})}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,d.jsxs)("div",{className:"relative z-90 inline-block align-bottom md:align-middle w-full bg-white text-left overflow-visible shadow-xl transform transition-all md:my-8 rounded-t-lg md:rounded-lg md:max-w-md",children:[(0,d.jsx)("div",{className:"px-4 py-5 md:p-6 border-b border-gray-200",children:(0,d.jsx)(bn.V.Title,{className:"text-body text-gray-900 font-bold",children:o.title})}),(0,d.jsxs)("div",{className:"flex flex-col gap-4 px-4 py-6 md:px-6",children:[(0,d.jsx)("div",{className:"text-body text-black",children:o.content}),o.warnText&&(0,d.jsxs)("div",{className:"alert danger",children:[(0,d.jsx)(G.Z,{icon:"ExclamationIcon"}),(0,d.jsx)("div",{children:o.warnText})]}),(0,d.jsxs)("p",{className:"text-body text-black",children:["Type ",(0,d.jsxs)("span",{className:"font-medium",children:['"',o.confirmPhrase,'"']})," ",o.actionText||"to delete","."]}),(0,d.jsx)(w.Z,{value:u,error:""!==u&&h?'Please type "'.concat(o.confirmPhrase,'"'):"",onChange:Z,onKeyUp:C})]}),(0,d.jsxs)("div",{className:"flex justify-end gap-2 p-4 md:px-6 md:py-4 border-t border-gray-200",children:[(0,d.jsx)("button",{type:"button",className:(0,p.AK)("w-full light md:w-auto",N?"xl":""),onClick:function(){return o.cancel()},children:i||"Cancel"}),(0,d.jsx)(g.Z,{type:"button",className:(0,p.AK)("w-full md:w-auto",l?"danger":"primary",N?"xl":""),disabled:h||u.toLowerCase()!==o.confirmPhrase,loading:y,force:!0,onClick:k,children:t||"Delete"})]})]})})]})})})}}},yn=t(60031),jn=t(51523);function Nn(e){var n=e.website,t=e.open,o=e.setOpen,l=e.newDomain,s=(0,v.useState)(!1),a=s[0],r=s[1],u=(0,v.useState)(!1),m=u[0],f=u[1],h=(0,v.useState)(""),g=h[0],w=h[1],y=(0,v.useState)(!1),j=y[0],N=y[1],k=(0,x.Z)().post,Z=(0,v.useRef)(null),C=(0,jn.Z)(g),_=C.copied,S=C.copy,E=C.reset,I=function(){var e=(0,i.Z)((function(e){return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return f(e),r(!0),[4,k("/website/save-search-indexing",{searchIndexing:e})];case 1:return n.sent(),r(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,v.useEffect)((function(){var e=setTimeout((function(){E()}),2e3);return function(){clearTimeout(e)}}),[_]),(0,v.useEffect)((function(){var e,t;n&&(w("".concat((null===n||void 0===n?void 0:n.sslCertificate)||"active"===(null===(e=n.cloudflare)||void 0===e||null===(t=e.ssl)||void 0===t?void 0:t.status)?"https://".concat(null===n||void 0===n?void 0:n.domain):"http://".concat((0,p.lz)(n)))),f(null===n||void 0===n?void 0:n.searchIndexing))}),[n]),(0,v.useEffect)((function(){t?setTimeout((function(){N(!0)}),200):N(!1)}),[t]),(0,d.jsx)(M.u.Root,{show:t,as:v.Fragment,children:(0,d.jsx)(bn.V,{as:"div",className:"fixed z-100 inset-0 overflow-y-auto",initialFocus:Z,onClose:function(){return o(!1)},children:(0,d.jsxs)("div",{className:"flex items-end lg:items-center justify-center h-dyn lg:pt-4 lg:px-4 lg:pb-20 text-center",children:[(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(bn.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsxs)("div",{className:"inline-block align-bottom w-full bg-white rounded-t-xl md:rounded-xl text-left overflow-visible shadow-xl transform transition-all md:my-8 md:align-middle md:max-w-lg",children:[(0,d.jsxs)("div",{className:"relative w-full h-45 rounded-t-3xl lg:rounded-2xl overflow-hidden",children:[(0,d.jsx)("div",{className:"absolute top-0 right-0 z-30 p-3",children:(0,d.jsx)("button",{className:"button auxiliary icon sm rounded-full",onClick:function(){return o(!1)},children:(0,d.jsx)(G.Z,{icon:"XMarkIcon",from:"v2",className:"w-5 h-5"})})}),(0,d.jsx)("div",{className:"absolute inset-0 z-20",style:{background:"radial-gradient(transparent 50%, #FFFFFF 90%), linear-gradient(transparent 70%, #FFFFFF 90%)"}}),(0,d.jsx)("div",{className:"absolute inset-0 z-5 w-full h-90 bg-indigo-50 animate-translate-blocks duration-500",children:(0,d.jsx)(H(),{src:(0,p.sd)("mars/blocks.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Blocks"})}),(0,d.jsx)("div",{className:(0,p.AK)("absolute top-4 left-1/2 z-10 w-56 h-80 opacity-0 -translate-x-1/2 transition-all translate-y-16 duration-300",j&&"!translate-y-0 !opacity-100"),children:(0,d.jsx)(H(),{src:(0,p.sd)("mars/browser.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Browser"})}),(0,d.jsx)("div",{className:(0,p.AK)("absolute top-6 left-1/2 z-10 w-32 h-36 opacity-0 -translate-x-1/2 translate-y-16 transition-all duration-500",j&&"z-10 !translate-y-0 !opacity-100"),children:(0,d.jsx)(H(),{src:(0,p.sd)("mars/trophy.svg"),unoptimized:!0,layout:"fill",objectFit:"cover",alt:"Trophy"})})]}),(0,d.jsxs)("div",{ref:Z,className:"px-12",children:[l?(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h5",{className:"text-h5 font-semibold text-gray-700 mb-1",children:"Your website is ready!"}),(0,d.jsx)("p",{className:"text-body md:text-sm text-gray-500",children:"The process is complete. If your website is not yet live, please be assured that it will be activated shortly."})]}):(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("h5",{className:"text-h5 font-semibold text-gray-700 mb-1",children:"Your website is live!"}),(0,d.jsx)("p",{className:"text-body md:text-sm text-gray-500",children:"Congratulations, you\u2019re officially in business."})]}),(0,d.jsxs)("div",{className:"flex items-center gap-3 pt-6",children:[(0,d.jsx)("div",{className:"hidden md:block w-10 h-10 p-2 rounded-full bg-gray-50",children:(0,d.jsx)(G.Z,{icon:"GlobeSolidIcon",className:"w-6 h-6"})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsxs)("div",{className:"flex flex-col-reverse md:flex-row items-start md:items-center gap-2 mb-1",children:[(0,d.jsx)("p",{className:"text-body md:text-sm font-semibold",children:"Search indexing"}),(0,d.jsxs)("p",{className:(0,p.AK)("badge",m?"green":"yellow"),children:[(0,d.jsx)("span",{className:(0,p.AK)("w-1.5 h-1.5 rounded-full mr-1.5",m?"bg-green-400":"bg-yellow-400")}),(0,d.jsx)("span",{children:m?"Enabled":"Disabled"})]})]}),(0,d.jsx)("p",{className:"text-body md:text-sm text-gray-500",children:"Allow search engines to crawl your site."})]}),(0,d.jsx)(b.Z,{enabled:m,disabled:a,onChange:I})]})]}),(0,d.jsxs)("div",{className:"flex flex-col-reverse md:flex-row items-center gap-3 px-12 pb-12 pt-6",children:[(0,d.jsxs)("button",{className:(0,p.AK)("button auxiliary icon-right w-full",_&&"!text-green-600"),onClick:function(){return S()},children:[(0,d.jsx)("span",{children:_?"Copied!":"Copy link"}),(0,d.jsx)(G.Z,{icon:_?"CheckIcon":"LinkIcon",className:"w-5 h-5"})]}),(0,d.jsxs)("button",{className:"button default icon-right w-full",onClick:function(){window.open(g,"_blank","noopener,noreferrer"),o(!1)},children:[(0,d.jsx)("span",{children:"View website"}),(0,d.jsx)(G.Z,{icon:"ExternalLinkIcon",className:"w-5 h-5"})]})]})]})})]})})})}var kn=t(72521),Zn=t(52699);function Cn(e){var n=e.sourceWebsite,t=e.sourcePage,o=(0,v.useState)(n),a=o[0],d=o[1],m=(0,v.useState)(t),f=m[0],h=m[1],g=(0,v.useState)(!1),b=g[0],w=g[1],y=(0,yn.Z)(a,[],null,!0),j=y.chooseTemplate,N=y.generateBlock,k=function(e){var n=(0,p.Jj)();n&&n.postMessage(e)},Z=function(e,n){k({type:"simulated-website-changed",payload:{page:e,website:n}}),w(!e.blocks.find((function(e){return null===e||void 0===e?void 0:e.generating})))},C=(0,x.Z)().get;function _(e,n,t,i){return S.apply(this,arguments)}function S(){return S=(0,i.Z)((function(e,n,t,i){var o,a;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return"durable"!==(null===e||void 0===e||null===(o=e.WebsiteBlock)||void 0===o?void 0:o.source)?[3,2]:[4,N((0,p.p$)(e),n?(0,p.p$)(n):null,!1,null,t?(0,p.p$)(t):null)];case 1:(a=c.sent())&&h((function(e){var n=(0,p.p$)(e),t=(0,r.Z)((null===n||void 0===n?void 0:n.blocks)||[]),o=t.findIndex((function(e){return e.idx===a.idx}));return delete a.generating,delete a.regenerating,t[o]=a,n=(0,s.Z)((0,l.Z)({},e),{blocks:t}),Z(n,i),n})),c.label=2;case 2:return[2]}}))})),S.apply(this,arguments)}var E=function(){var e=(0,i.Z)((function(e,n,t,i,o){var a;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return"durable"===(null===n||void 0===n||null===(a=n.WebsiteBlock)||void 0===a?void 0:a.source)&&(n.generating="block",n.regenerating=!0),h((function(t){var i=(0,r.Z)((null===t||void 0===t?void 0:t.blocks)||[]);i[e]=n;var a=(0,s.Z)((0,l.Z)({},t),{blocks:i});return Z(a,o),a})),[4,_(n,t,i,o)];case 1:return c.sent(),[2]}}))}));return function(n,t,i,o,l){return e.apply(this,arguments)}}(),I=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,C("/website/get-blocks").catch(console.log)];case 1:return(e=n.sent())&&!0===e.status&&e.content?[2,e.content]:[2,[]]}}))}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=(0,i.Z)((function(e){var i,o,a,v,m,f,x,g,b,w,y,N,Z,C,_,S,T,P,A,B,O,R,D,F,W,L,z,M;return(0,c.__generator)(this,(function(G){switch(G.label){case 0:return i=function(e){var n,t;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return n=A[e],t=function(e,n){var t,i=-1;switch(null===n||void 0===n?void 0:n.type){case"service":case"team":i=e.findIndex((function(e){return e.type===(null===n||void 0===n?void 0:n.type)}));break;case"service-list":case"services":var o={type:"service-list",WebsiteBlock:{type:"service-list"},showHeading:!1,showButton:!1,items:[]},a=e.filter((function(e){return"services"===e.type||"service-list"===e.type}));if((null===a||void 0===a?void 0:a.length)>1){for(var c=function(n){var t,i=(0,p.p$)(a[n]);e.splice(e.findIndex((function(e){return("services"===e.type||"service-list"===e.type)&&e.idx===i.idx})),1),(t=o.items).push.apply(t,(0,r.Z)(i.items||[]))},d=0;d<a.length;d++)c(d);return o}if(-1===(i=e.findIndex((function(e){return"services"===e.type||"service-list"===e.type})))){var v=e.filter((function(e){return"service"===e.type}));if(null===v||void 0===v?void 0:v.length)for(var m=function(n){var t=(0,p.p$)(v[n]);e.splice(e.findIndex((function(e){return"service"===e.type&&e.idx===t.idx})),1);var i=(0,u.qZ)(t.content);o.items.push((0,s.Z)((0,l.Z)({},i),{idx:n,button:{label:"View more",type:"url",link:"#"}}))},f=0;f<v.length;f++)m(f);return o}break;case"team-list":if(-1===(i=e.findIndex((function(e){return"team-list"===e.type})))){var h=e.filter((function(e){return"team"===e.type})),x={type:"team-list",WebsiteBlock:{type:"team-list"},showHeading:!1,showButton:!1,items:[]};if(null===h||void 0===h?void 0:h.length)for(var g=function(n){var t,i=(0,p.p$)(h[n]);e.splice(e.findIndex((function(e){return"service"===e.type&&e.idx===i.idx})),1);var o=(0,u.qZ)(i.content);x.items.push((0,s.Z)((0,l.Z)({},o),{idx:n,image:null===(t=i.image)||void 0===t?void 0:t.media}))},b=0;b<h.length;b++)g(b);return x}break;default:i=-1}if(-1===i)switch(null===n||void 0===n||null===(t=n.WebsiteBlock)||void 0===t?void 0:t.type){case"banner":case"banner-grid":case"banner-carousel":i=e.findIndex((function(e){var t,i;return(null===(t=e.WebsiteBlock)||void 0===t?void 0:t.type)===(null===n||void 0===n||null===(i=n.WebsiteBlock)||void 0===i?void 0:i.type)&&("banner"===e.type||"banner-grid"===e.type||"banner-carousel"===e.type)})),-1===i&&(i=e.findIndex((function(e){var n;return"banner"===e.type||"banner-grid"===e.type||"banner-carousel"===e.type||"banner"===(null===(n=e.WebsiteBlock)||void 0===n?void 0:n.type)&&"default"===e.type})));break;default:i=e.findIndex((function(e){var t,i;return(null===(t=e.WebsiteBlock)||void 0===t?void 0:t.type)===(null===n||void 0===n||null===(i=n.WebsiteBlock)||void 0===i?void 0:i.type)&&e.type===(null===n||void 0===n?void 0:n.type)})),-1===i&&(i=e.findIndex((function(e){var t,i;return(null===(t=e.WebsiteBlock)||void 0===t?void 0:t.type)===(null===n||void 0===n||null===(i=n.WebsiteBlock)||void 0===i?void 0:i.type)})))}if(-1!==i){var w=(0,p.p$)(e[i]);return e.splice(i,1),w}return null}(R,n),[4,E(e,{type:n.type,WebsiteBlock:C.find((function(e){return e.type===n.WebsiteBlock.type})),idx:e+1},n,t,T)];case 1:return i.sent(),[2]}}))},console.log("Start changing template"),window.marsUsedPictures=[],[4,j(e,!0)];case 1:return Z=G.sent(),[4,I()];case 2:C=G.sent(),_=(0,p.p$)(n),T=(0,s.Z)((0,l.Z)({},_),{colorPalette:(null===Z||void 0===Z?void 0:Z.colorPalette)||(null===_||void 0===_?void 0:_.colorPalette),cornerRadius:(null===Z||void 0===Z?void 0:Z.cornerRadius)||"no-rounded",fonts:null===Z||void 0===Z?void 0:Z.fonts,buttons:(0,l.Z)({},null===_||void 0===_?void 0:_.buttons,null===Z||void 0===Z?void 0:Z.buttons),header:(0,s.Z)((0,l.Z)({},null===_||void 0===_?void 0:_.header),{WebsiteBlock:C.find((function(e){return"header"===e.type})),fullWidth:!!(null===Z||void 0===Z||null===(o=Z.header)||void 0===o?void 0:o.fullWidth),sticky:!!(null===Z||void 0===Z||null===(a=Z.header)||void 0===a?void 0:a.sticky),style:(null===Z||void 0===Z||null===(v=Z.header)||void 0===v?void 0:v.style)||"left",spacing:(null===Z||void 0===Z||null===(m=Z.header)||void 0===m?void 0:m.spacing)||(null===_||void 0===_||null===(f=_.header)||void 0===f?void 0:f.spacing),navStyle:(null===Z||void 0===Z||null===(x=Z.header)||void 0===x?void 0:x.navStyle)||"default"}),footer:(0,s.Z)((0,l.Z)({},null===_||void 0===_?void 0:_.footer),{WebsiteBlock:C.find((function(e){return"footer"===e.type})),style:null!==(S=null===Z||void 0===Z||null===(g=Z.footer)||void 0===g?void 0:g.style)&&void 0!==S?S:"split-right",spacing:(null===Z||void 0===Z||null===(b=Z.footer)||void 0===b?void 0:b.spacing)||(null===_||void 0===_||null===(w=_.footer)||void 0===w?void 0:w.spacing),layers:(null===Z||void 0===Z||null===(y=Z.footer)||void 0===y?void 0:y.layers)||(null===_||void 0===_||null===(N=_.footer)||void 0===N?void 0:N.layers)})}),d(T),P=(0,p.p$)(Z),A=P.blocks,B=A.findIndex((function(e){var n;return"header"===(null===(n=e.WebsiteBlock)||void 0===n?void 0:n.type)})),-1!==B&&A.splice(B,1),O=A.findIndex((function(e){var n;return"footer"===(null===(n=e.WebsiteBlock)||void 0===n?void 0:n.type)})),-1!==O&&A.splice(O,1),R=(0,p.p$)((null===t||void 0===t?void 0:t.blocks)||[]),D=R.findIndex((function(e){var n;return"header"===(null===(n=e.WebsiteBlock)||void 0===n?void 0:n.type)})),-1!==D&&R.splice(D,1),F=R.findIndex((function(e){var n;return"footer"===(null===(n=e.WebsiteBlock)||void 0===n?void 0:n.type)})),-1!==F&&R.splice(F,1),h((function(){var e=null===A||void 0===A?void 0:A.map((function(e,n){return(0,s.Z)((0,l.Z)({},e),{idx:n+1,generating:"block"})})),n=(0,s.Z)((0,l.Z)({},(0,p.p$)(t)),{blocks:(0,p.p$)(e)});return k({type:"simulated-website-changed",payload:{page:n,website:T}}),n})),W=0,G.label=3;case 3:return W<A.length?[5,(0,c.__values)(i(W))]:[3,6];case 4:G.sent(),G.label=5;case 5:return W++,[3,3];case 6:if(!(null===R||void 0===R?void 0:R.length))return[3,10];h((function(e){var n=null===R||void 0===R?void 0:R.map((function(e){return(0,s.Z)((0,l.Z)({},e),{generating:"block"})})),t=(0,r.Z)(e.blocks).concat((0,r.Z)((0,p.p$)(n))),i=(0,s.Z)((0,l.Z)({},(0,p.p$)(e)),{blocks:t.map((function(e,n){return(0,s.Z)((0,l.Z)({},e),{idx:n+1})}))});return k({type:"simulated-website-changed",payload:{page:i,website:T}}),i})),L=0,G.label=7;case 7:return L<R.length?(z=A.length+L,(M=R[L]).idx=z+1,M.generating="block",M.added=!0,[4,E(z,M,M,M,T)]):[3,10];case 8:G.sent(),G.label=9;case 9:return L++,[3,7];case 10:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,v.useEffect)((function(){k({type:"simulated-website-changed",payload:{website:a}})}),[a]),{website:a,page:f,changeTemplate:T,isReady:b}}var _n=t(78228),Sn=function(e){var n=e.website,t=e.page,i=e.selected,o=e.onGenerate,l=(0,a.Z)((0,gn.Z)("website:inline-edit-disabled",!1),2)[1],s=Cn({sourceWebsite:n,sourcePage:t}),r=s.changeTemplate,c=s.website,u=s.page,m=s.isReady,f=function(e){l(e);var n=(0,p.Jj)();"undefined"!==typeof n&&n.dispatchEvent(new CustomEvent("website-builder-actions-toggle",{detail:e}))};return(0,v.useEffect)((function(){m&&o(i,c,u),f((0,p.$K)(i))}),[m]),(0,v.useEffect)((function(){f((0,p.$K)(i))}),[i]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:(0,p.AK)("flex-shrink-0 overflow-hidden transition-all duration-500 absolute inset-0",i?"translate-y-0 opacity-100 delay-400 z-40":"translate-y-10 opacity-0 pointer-events-none z-20"),children:(0,d.jsxs)("div",{className:"relative w-full h-full flex-shrink-0",children:[i&&(0,d.jsx)("iframe",{name:"preview",src:"/website/preview?blank=true",className:(0,p.AK)("bg-white mx-auto duration-200 w-full h-full flex-shrink-0 use-gpu"),onLoad:function(){i&&(r(i),setTimeout((function(){f(!!i)}),1e3))}}),(0,d.jsx)(_n.m,{show:!m,action:"CHANGING_TEMPLATE"})]})})})},En=t(78704),In=t(2740);function Tn(e){var n=e.track,t=e.generatingPost,o=e.setOpenChangeTemplate,r=e.openChangeTemplate,u=e.onApply,m=e.website,f=e.page,h=e.previewMode,b=e.previewUrl,w=e.blockActions,j=(0,v.useState)(null),N=j[0],k=j[1],Z=(0,v.useState)(!1),C=Z[0],_=Z[1],S=(0,v.useState)(!1),E=S[0],I=S[1],T=(0,v.useState)({}),P=T[0],A=T[1],B=(0,a.Z)((0,gn.Z)("website:open-change-template"),2)[1],O=(0,a.Z)((0,gn.Z)("website:inline-edit-disabled",!1),2)[1],R=(0,v.useState)(!1),D=R[0],F=R[1],W=(0,v.useState)({left:!1,right:!0}),L=W[0],z=W[1],M=(0,v.useState)(),K=M[0],V=M[1],$=(0,v.useState)(),U=$[0],q=$[1],X=(0,v.useState)((0,p.tl)("website:templates")||[]),J=X[0],Y=X[1],Q=(0,v.useState)(1),ee=Q[0],ne=Q[1],te=(0,p.ac)("(min-width: 768px)"),ie=(0,v.useRef)(),oe=(0,v.useRef)(),le=(0,x.Z)().get,se=function(e){ie.current.scrollTo({left:ie.current.scrollLeft+("left"===e?-400:400),behavior:"smooth"})},ae=function(){var e=(0,i.Z)((function(){var e,n,t,i,o;return(0,c.__generator)(this,(function(l){switch(l.label){case 0:return[4,le("/website/get-templates",{categories:null===m||void 0===m||null===(e=m.business)||void 0===e?void 0:e.categories,vertical:null===m||void 0===m||null===(n=m.business)||void 0===n?void 0:n.vertical})];case 1:return!0===(null===(t=l.sent())||void 0===t?void 0:t.status)&&(null===t||void 0===t?void 0:t.content)?(i=t.content.filter((function(e){var n;return e._id!==(null===m||void 0===m||null===(n=m.template)||void 0===n?void 0:n.Website)})),o=t.content.find((function(e){var n;return e._id===(null===m||void 0===m||null===(n=m.template)||void 0===n?void 0:n.Website)})),o&&i.push(o),Y(i),(0,p.Fs)("website:templates",i)):Y([]),[2]}}))}));return function(){return e.apply(this,arguments)}}(),re=function(e){O(e),window.dispatchEvent(new CustomEvent("website-builder-actions-toggle",{detail:e}))};return(0,v.useEffect)((function(){var e={};if(!r||C)e={transformOrigin:"top left",transform:"scale(1) translateX(0)"};else{var n,t=(te?400:300)/window.innerWidth,i=t>1?1:t,o=null===(n=oe.current)||void 0===n?void 0:n.clientHeight;o=o?"".concat(o/i,"px"):"".concat(100/i,"%"),e={transformOrigin:"top left",transform:"scale(".concat(i,")"),width:"100vw",height:o};var l=document.getElementById("iframe-builder-preview");if(l){var s=l.contentWindow.document.getElementById("main-preview");s&&s.scrollTo(0,0)}}A(e),z((function(e){var n,t,i;return{left:!N&&(null===(n=ie.current)||void 0===n?void 0:n.scrollLeft)>300,right:!N&&(null===(t=ie.current)||void 0===t?void 0:t.scrollLeft)<(null===(i=ie.current)||void 0===i?void 0:i.scrollWidth)-window.innerWidth}}))}),[r,N,te,C,ie,oe]),(0,v.useEffect)((function(){if(ie.current&&ie.current.scrollTo(0,0),B(r&&!N),r){var e=setTimeout((function(){return I(!0)}),250);return function(){return clearTimeout(e)}}I(!1)}),[r,N,ie]),(0,v.useEffect)((function(){r&&(ae().catch(console.error),V(m))}),[m,r]),(0,v.useEffect)((function(){q(f)}),[f]),(0,v.useEffect)((function(){h.active?"mobile"===h.device?A((function(e){return(0,s.Z)((0,l.Z)({},e),{maxWidth:406,maxHeight:860})})):"tablet"===h.device?A((function(e){return(0,s.Z)((0,l.Z)({},e),{maxWidth:876,maxHeight:1040})})):A((function(e){return(0,s.Z)((0,l.Z)({},e),{maxWidth:"100%",maxHeight:"100%"})})):A((function(e){return(0,s.Z)((0,l.Z)({},e),{maxWidth:"100%",maxHeight:"100%"})}))}),[h]),(0,d.jsxs)("div",{id:"builder-wrapper",className:(0,p.AK)("bg-white w-full h-full relative mx-auto flex flex-col items-start mt-0",!r&&(D||t)&&"pointer-events-none","overflow-hidden"),children:[(0,d.jsxs)("div",{className:(0,p.AK)("bg-white fixed top-0 w-full flex justify-between items-center z-50 transition-all duration-500 border-b border-gray-300 px-6 py-3",N&&r?"opacity-100 translate-y-0":"opacity-80 -translate-y-full"),children:[(0,d.jsx)("h2",{className:(0,p.AK)("font-semibold text-black transition-all text-base md:text-xl"),children:"Change template"}),(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("button",{disabled:C,className:"button auxiliary",onClick:function(){k(null),F(!1),re(!1)},children:"Revert"}),(0,d.jsxs)("button",{className:"button default",onClick:function(){_(!0),setTimeout((function(){var e=J.find((function(e){return e.subdomain===N})),t=(0,s.Z)((0,l.Z)({},K),{template:(0,s.Z)((0,l.Z)({},K.template||{}),{Website:null===e||void 0===e?void 0:e._id})});u(t,U).then((function(){re(!1),setTimeout((function(){o(!1),_(!1),k(null),n("editor:template-applied")}),2e3)}))}),1e3)},disabled:D||C,children:[(C||D)&&(0,d.jsx)(y.Z,{variant:"icon"}),(0,d.jsx)("span",{className:(0,p.AK)((C||D)&&"hidden md:block px-1"),children:C?"Applying...":D?"Generating...":"Apply"})]})]})]}),(0,d.jsxs)("div",{className:(0,p.AK)("fixed z-30 bg-white top-0 transition-all duration-500 overflow-hidden pl-8 flex justify-between w-full items-start gap-8 h-24 ",r?N?"-translate-y-full delay-400":"translate-y-0 delay-400":"-translate-y-full"),children:[(0,d.jsxs)("div",{className:"mb-8 w-full mt-6",children:[(0,d.jsx)("h2",{className:(0,p.AK)("font-semibold text-black transition-all text-2xl"),children:"Change template"}),(0,d.jsxs)("p",{className:"text-gray-500 w-full flex items-center ",children:[(0,d.jsx)("span",{className:" text-sm lg:text-base hidden md:flex pt-2",children:"Your original images and text will be used, but they may be rearranged to fit the new layout."}),J.length>0&&J.length>5&&(0,d.jsxs)(g.Z,{className:"button ghost icon-left md:ml-auto mt-2 md:mt-0",onClick:function(){ne((function(e){return e===Math.ceil(J.length/5)?1:e+1})),ie.current&&ie.current.scrollTo(0,0),n("editor:template-regenerate")},disabled:D,children:[(0,d.jsx)(G.Z,{icon:"SparkleIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Regenerate"})]})]})]}),(0,d.jsx)("button",{className:"button auxiliary icon sm rounded-full mt-6 mr-6",onClick:function(){o(!1),k(null),I(!1)},children:(0,d.jsx)(G.Z,{icon:"XMarkIcon",from:"v2",className:"h-5 w-5"})})]}),(0,d.jsxs)("div",{id:"builder-content",ref:ie,className:(0,p.AK)("bg-white relative flex gap-4 md:gap-8 transition-all duration-500 delay-200 smooth-scroll no-scrollbar h-full",!C&&r?"z-20 pb-4 pt-20 md:pt-16 ml-4 md:ml-8 h-full overflow-x-auto w-screen pr-28":"z-40 mt-0",!C&&null===N&&r?"opacity-100 translate-y-0":!C&&r?"opacity-0 translate-y-10 pointer-events-none":""),style:{scrollSnapType:"x mandatory"},onScroll:function(e){r&&z({left:!N&&e.target.scrollLeft>300,right:!N&&e.target.scrollLeft<e.target.scrollWidth-window.innerWidth})},children:[r&&(0,d.jsx)(In.h,{children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:(0,p.AK)("fixed z-40 left-16 hidden md:flex items-center justify-center cursor-pointer shadow-lg bg-indigo-700 hover:bg-indigo-500 rounded-full top-1/2 translate-y-1/2 w-12 h-12 transition-all duration-500",r?"opacity-100 translate-x-0":"opacity-0 pointer-events-none -translate-x-full",!(null===L||void 0===L?void 0:L.left)&&"!opacity-0 pointer-events-none",N&&"opacity-0 pointer-events-none"),onClick:function(){return se("left")},children:(0,d.jsx)(G.Z,{icon:"ArrowLeftSolidIcon",className:"text-white w-5 h-5"})}),(0,d.jsx)("div",{className:(0,p.AK)("fixed z-40 right-8 hidden md:flex items-center justify-center cursor-pointer shadow-lg bg-indigo-700 hover:bg-indigo-500 rounded-full top-1/2 translate-y-1/2 w-12 h-12 transition-all duration-500",r?"opacity-100 translate-x-0":"opacity-0 pointer-events-none translate-x-full",!(null===L||void 0===L?void 0:L.right)&&"!opacity-0 pointer-events-none",N&&"opacity-0 pointer-events-none"),onClick:function(){return se("right")},children:(0,d.jsx)(G.Z,{icon:"ArrowRightSolidIcon",className:"text-white w-5 h-5"})})]})}),(0,d.jsxs)("div",{className:(0,p.AK)("relative left-0 duration-750 flex-shrink-0 transition-all group z-20",r?"h-screen border-4 border-l-3 border-black border-opacity-80 rounded-b-xl rounded-tr-xl w-75 md:w-100":"h-full border-0 border-transparent w-screen"),onClick:function(){return k(null)},style:{maxHeight:r?te?"calc(100vh - 144px)":"calc(100vh - 14rem)":"100%",scrollSnapAlign:"start"},children:[(0,d.jsx)("div",{className:(0,p.AK)("absolute z-30 flex items-center -top-8 h-8 -left-1 bg-black bg-opacity-80 text-white py-1.5 px-4 font-medium rounded-t-md text-sm cursor-auto duration-500 delay-200",r?"opacity-100":"opacity-0 pointer-events-none translate-y-1/2 translate-x-1"),children:"Your template"}),(0,d.jsx)("div",{ref:oe,className:(0,p.AK)("relative h-full",r?"overflow-hidden rounded-b-lg rounded-tr-lg bg-black bg-opacity-80":"",h.active&&["mobile","tablet"].includes(h.device)?"py-5":""),children:(0,d.jsx)("iframe",{id:"iframe-builder-preview",name:"preview",src:(null===h||void 0===h?void 0:h.active)&&b?b:"/website/preview",scrolling:r?"no":"yes",className:(0,p.AK)("relative bg-white mx-auto w-screen h-full use-gpu transform-gpu transition-transform duration-750",r?"pointer-events-none no-scrollbar overflow-hidden rounded-b-3xl rounded-tr-3xl ml-px":"pointer-events-auto",h.active&&["mobile","tablet"].includes(h.device)?"border-12 border-white rounded-3xl shadow-xl":""),style:P,onLoad:function(){window.dispatchEvent(new CustomEvent("website-builder-preview-loaded")),(0,p.$K)(w)&&re(w)}})})]}),null===J||void 0===J?void 0:J.slice(5*(ee-1),5*ee).map((function(e,t){var i,o,l,s;return(0,d.jsxs)("div",{id:e.subdomain,className:(0,p.AK)("flex-shrink-0 w-75 md:w-100 h-screen rounded-md border relative z-10 transition-all duration-500 overflow-hidden","cursor-pointer hover:shadow-lg group",E?"opacity-100 scale-100":"opacity-0 scale-120"),onClick:function(){F(!0),k(e.subdomain),n("editor:template_selected",{template:e.subdomain})},style:{maxHeight:r?te?"calc(100vh - 144px)":"calc(100vh - 14rem)":"100%",scrollSnapAlign:"start"},children:[(0,d.jsx)("div",{className:"absolute inset-0 z-10 transition-all opacity-0 group-hover:opacity-100 bg-gray-700 bg-opacity-30 flex items-center justify-center duration-400",children:(0,d.jsx)("button",{className:"button auxiliary !bg-white transition-all delay-100 translate-y-1/2 group-hover:translate-y-0 duration-500",children:"Preview"})}),(null===(i=e.screenshots)||void 0===i?void 0:i.desktop)||(null===(o=e.screenshots)||void 0===o?void 0:o.mobile)?(0,d.jsxs)(d.Fragment,{children:[(null===(l=e.screenshots)||void 0===l?void 0:l.desktop)&&(0,d.jsx)("div",{className:"absolute inset-0 z-0 bg-gray-300 hidden md:block",children:(0,d.jsx)(H(),{src:e.screenshots.desktop.url,alt:"Template preview",layout:"fill",objectFit:"cover",objectPosition:"top"})}),(null===(s=e.screenshots)||void 0===s?void 0:s.mobile)&&(0,d.jsx)("div",{className:"absolute inset-0 z-0 bg-gray-300 md:hidden",children:(0,d.jsx)(H(),{src:e.screenshots.mobile.url,alt:"Template preview",layout:"fill",objectFit:"cover",objectPosition:"top"})})]}):(0,d.jsx)(En.Z,{className:"bg-white absolute inset-0 z-5"})]},"template-".concat(t))}))]}),r&&N&&m&&f&&(0,d.jsx)(Sn,{website:m,page:f,selected:N,onGenerate:function(e,n,t){F(!1),V(n),q(t)}})]})}var Pn=t(65785),An=t(4298),Bn=t.n(An),On=t(11215),Rn=function(e){var n=e.dataUrl,t=(0,v.useState)("700px"),i=t[0],o=t[1],l=(0,v.useState)(!1),s=l[0],a=l[1],r=(0,v.useState)("not-initialized"),c=r[0],u=r[1],m=(0,V.useSession)().data,f=(0,On.Z)().current,h=function(e){var n,t;(function(e){var n;return"https://calendly.com"===(null===e||void 0===e?void 0:e.origin)&&(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.event)&&0===e.data.event.indexOf("calendly.")})(e)&&("calendly.page_height"===e.data.event&&o(null===(n=e.data)||void 0===n||null===(t=n.payload)||void 0===t?void 0:t.height))},p=function(){var e,t,i,o,l=n,s=[];return(null===m||void 0===m||null===(e=m.user)||void 0===e?void 0:e.name)&&s.push("full_name=".concat(encodeURIComponent(m.user.name))),(null===m||void 0===m||null===(t=m.user)||void 0===t?void 0:t.email)&&s.push("email=".concat(encodeURIComponent(m.user.email))),f&&(null===f||void 0===f?void 0:f.domain)&&s.push("a2=".concat(encodeURIComponent(f.domain))),(null===m||void 0===m||null===(i=m.user)||void 0===i||null===(o=i.plan)||void 0===o?void 0:o.name)&&s.push("a3=".concat(encodeURIComponent(m.user.plan.name))),"".concat(l,"?hide_event_type_details=1&").concat(s.join("&"))};return(0,v.useEffect)((function(){"loaded"===c&&(null===m||void 0===m?void 0:m.user)&&n&&(u("finished"),"object"===typeof(null===window||void 0===window?void 0:window.Calendly)&&(a(!0),window.Calendly.initInlineWidget({url:p(),parentElement:document.querySelector(".iframe-support-booking")}),setTimeout((function(){a(!1)}),2e3)))}),[c,m,n]),(0,v.useEffect)((function(){return window.removeEventListener("message",h),window.addEventListener("message",h),function(){window.removeEventListener("message",h)}}),[]),(0,d.jsx)(d.Fragment,{children:!!n&&(0,d.jsxs)("div",{className:"block w-full mx-auto max-h-[90vh] overflow-y-auto",children:[s&&(0,d.jsx)("div",{className:"block w-170 max-w-full mx-auto p-4",children:(0,d.jsx)(y.Z,{variant:"form"})}),(0,d.jsx)("div",{className:"iframe-support-booking mx-auto iframe-no-outline","data-url":n,style:{width:"720px",maxWidth:"100%",height:i}}),(0,d.jsx)(Bn(),{src:"https://assets.calendly.com/assets/external/widget.js",strategy:"lazyOnload",onReady:function(){return u("loaded")}})]})})},Dn=t(95350),Fn=t(30120),Wn="none",Ln="first-call",zn="mogul-call",Mn="in-book",Gn="recurrent",Kn="block",Hn=function(){var e=(0,a.Z)((0,gn.Z)("support.modal",!1),2),n=e[0],t=e[1],o=(0,v.useState)(!1),l=o[0],s=o[1],r=(0,v.useState)([]),u=r[0],m=r[1],f=(0,v.useState)("Hello"),h=f[0],b=f[1],w=(0,v.useState)(Wn),j=w[0],N=w[1],k=(0,v.useState)({}),Z=k[0],C=k[1],_=(0,v.useState)(!1),S=_[0],E=_[1],I=(0,v.useState)(null),T=I[0],P=I[1],A=((0,te.S)().openSupport,(0,ne.Z)()),B=A.confirm,O=A.ConfirmDialog,R=(0,V.useSession)().data,D=(0,x.Z)(),F=D.get,W=D.post,L=(0,v.useRef)(!1),z=function(){var e=document.createElement("a");e.target="_blank",e.href="mailto:support@durable.co",e.click()},K=function(){window.open("https://help.durable.co/en/")},$=function(){E(!0),F("/support/customer-calendar",{}).then((function(e){var n;e&&!0===(null===e||void 0===e?void 0:e.status)?(N(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.status),C(null===e||void 0===e?void 0:e.content)):(N(Kn),C({}))})).catch((function(){N(Kn),C({})})).finally((function(){E(!1)}))},U=function(){t(!1),window.top.postMessage({event:"show-live-chat"},"*")},q=function(){t(!1),s(!0)},X=function(){B("Cancel session?","Are you sure you want to cancel your screen share support session?",(function(){E(!0),W("/support/cancel-schedule",{id:null===Z||void 0===Z?void 0:Z.uri}).then((function(e){e&&!0===(null===e||void 0===e?void 0:e.status)&&(Dn.Z.success("Schedule successfully canceled."),N(Wn),$())})).catch((function(){Dn.Z.error("Unable to cancel event. Contact us by live chat or cancel directly by your calendar provider."),N(Kn)})).finally((function(){E(!1)}))}),(function(){}))},J=function(){var e=(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return E(!0),[4,W("/support/cancel-schedule",{id:null===Z||void 0===Z?void 0:Z.uri}).catch((function(){}))];case 1:return e.sent(),N(Gn),E(!1),q(),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Y=function(){var e="";if(Z&&(null===Z||void 0===Z?void 0:Z.startAt)&&(null===Z||void 0===Z?void 0:Z.endsAt)){var n=Fn.ou.fromISO(Z.startAt),t=Fn.ou.fromISO(Z.endsAt),i="0";n.isValid&&t.isValid&&(i=+Fn.Xp.fromDateTimes(n,t).toDuration("minutes").toObject().minutes.toFixed(0)),e="".concat(n.toFormat("MMMM d yyyy")," at ").concat(n.toFormat("H:mm a")," - ").concat(i," minutes")}return e};return(0,v.useEffect)((function(){var e;R&&(null===R||void 0===R||null===(e=R.user)||void 0===e?void 0:e.name)&&b("Hi ".concat(R.user.name))}),[R]),(0,v.useEffect)((function(){!function(){var e=[{id:"help-center",action:K,actionIcon:"ArrowTopRightOnSquareIcon",title:"Help center",list:[{icon:"BookOpenSolidIcon",content:"Search our knowledge base of how-to articles"}]},{id:"email-us",action:z,actionIcon:"ArrowTopRightOnSquareIcon",title:"Email us",list:[{icon:"MailSolidIcon",content:"Email support@durable.co"}]},{id:"live-chat",action:U,actionIcon:"ChevronRightIcon",title:"Live chat",list:[{icon:"ChatBubbleLeftIcon",content:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:"Get quick answers to common questions"}),(0,d.jsx)("p",{className:"text-gray-500 mt-1",children:"or chat with a person (M\u2013F \xb7 7am\u20134:30pm PST)"})]})}]}];switch(j){case Ln:case zn:e.push({id:"book-a-call",action:q,actionIcon:"ChevronRightIcon",title:"Book an onboarding session",list:[{icon:"ClockSolidIcon",content:j===zn?"45 minutes":"20 minutes"},{icon:"ComputerDesktopIcon",content:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:"Screen share"}),(0,d.jsx)("p",{className:"text-gray-500 mt-1",children:"Share your screen and build your perfect site for business success with one of your team members"})]})}]});break;case Gn:e.push({id:"book-a-call-again",action:q,actionIcon:"ChevronRightIcon",title:"Book a screen share support session",list:[{icon:"ClockSolidIcon",content:"20 minutes"},{icon:"ComputerDesktopIcon",content:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:"Screen share"}),(0,d.jsx)("p",{className:"text-gray-500 mt-1",children:"Collaborate with a team member via screen share to resolve issues and create an outstanding website"})]})}]});break;case Mn:e.push({id:"call-booked",action:function(){},actionIcon:"ChevronRightIcon",title:!0===(null===Z||void 0===Z?void 0:Z.firstBook)?"Onboarding session has been booked":"A screen share support session has been booked",list:[{icon:"ClockSolidIcon",content:"When: ".concat(Y())},{icon:"ComputerDesktopIcon",content:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{children:"Screen share"}),(0,d.jsxs)("p",{className:"text-gray-500 mt-1",children:[!0===(null===Z||void 0===Z?void 0:Z.firstBook)&&(0,d.jsx)(d.Fragment,{children:"Share your screen and build your perfect site for business success with one of our team members"}),!0!==(null===Z||void 0===Z?void 0:Z.firstBook)&&(0,d.jsx)(d.Fragment,{children:"Collaborate with a team member via screen share to resolve issues and create an outstanding website"})]}),(0,d.jsxs)("div",{className:"flex flex-row flex-wrap justify-start sm:flex-nowrap sm:justify-end items-center gap-2 mt-4 -mr-10",children:[(0,d.jsx)(g.Z,{className:"light",onClick:X,children:"Cancel session"}),(0,d.jsx)(g.Z,{className:"light",onClick:J,children:"Reschedule"})]})]})}]})}m(e)}(),P(j===zn?"https://calendly.com/durable-team/durable-meeting-onboarding":"https://calendly.com/durable-team/support-session")}),[j,Z]),(0,v.useEffect)((function(){n&&(N(Wn),$())}),[n]),(0,v.useEffect)((function(){return L.current=!0,function(){L.current=!1}}),[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(In.h,{children:[(0,d.jsx)(Q.u,{open:n||!1,setOpen:t,hasCustomBody:!0,className:"w-full md:w-170 !max-h-[90vh] !md:max-h-[100vh] overflow-y-auto",children:(0,d.jsxs)("div",{className:"block w-full px-8 pb-8",role:"dialog","aria-modal":!0,children:[S&&(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(y.Z,{variant:"small-form"})}),(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(y.Z,{variant:"small-form"})})]}),!S&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"relative block w-full mb-6",children:[(0,d.jsxs)("p",{className:"flex flex-row flex-nowrap justify-start items-center w-full mb-1",children:[(0,d.jsx)("span",{className:"text-gray-500 font-semibold text-h4",children:h}),(0,d.jsx)("span",{className:"text-h4 ml-2",children:"\ud83d\udc4b"})]}),(0,d.jsx)("p",{className:"block w-full text-gray-900 font-semibold text-h4",children:"How can we help?"})]}),(0,d.jsxs)("div",{className:"overflow-y-auto p-1 -ml-1",children:[!!u.length&&u.map((function(e,n){return(0,d.jsx)("div",{id:"support-card-item-".concat(e.id),onClick:e.action,onKeyUp:function(n){return"Enter"!==(null===n||void 0===n?void 0:n.key)||e.action()},className:(0,p.AK)("block w-full rounded-md border-1 border-gray-300 p-5 mb-4 last:mb-0 shadow-sm","transition-all duration-200 hover:bg-gray-50 hover:bg-opacity-50","call-booked"===e.id&&"bg-gray-50","call-booked"!==e.id&&"cursor-pointer"),tabIndex:0,children:(0,d.jsxs)("div",{className:"flex flex-row flex-nowrap justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("span",{className:"relative flex flex-row flex-nowrap justify-start w-full text-gray-900 text-ceramic-medium font-semibold mb-2",children:[e.title,"call-booked"===e.id&&(0,d.jsx)("span",{className:"ml-2",children:(0,d.jsx)(G.Z,{icon:"CheckCircleSolidIcon",className:"text-green-600"})})]}),(0,d.jsx)("ul",{children:e.list.map((function(n,t){return(0,d.jsxs)("li",{className:"w-full flex flex-row flex-nowrap justify-start items-start mb-2 last:mb-0",children:[(0,d.jsx)("span",{className:"min-w-5 w-5 h-5",children:(0,d.jsx)(G.Z,{icon:n.icon,className:"w-5 h-5 text-gray-500"})}),(0,d.jsx)("span",{className:"ml-4 pr-10",children:n.content})]},"support-card-item-".concat(e.id,"-list-item-").concat(t))}))})]}),"call-booked"!==e.id&&(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"w-6 h-6",children:(0,d.jsx)(G.Z,{icon:e.actionIcon||"ChevronRightIcon",className:"text-gray-500 w-6 h-6"})})})]})},"support-card-item-".concat(e.id))})),j===Wn&&(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)(y.Z,{variant:"small-form"})})]}),(0,d.jsx)(O,{cancelText:"Close",confirmText:"Cancel session",attention:!0})]})]})}),l&&(0,d.jsx)(M.u,{show:l,as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:(0,d.jsx)(bn.V,{as:"div",className:"relative z-100",onClose:function(){return!1},onClick:function(e){return e.stopPropagation()},children:(0,d.jsxs)("div",{className:"fixed inset-0 z-100 bg-white",children:[(0,d.jsxs)("div",{className:"flex flex-row flex-nowrap justify-between items-center relative px-4 md:px-18 py-6",children:[(0,d.jsx)("div",{children:(0,d.jsx)(H(),{src:(0,p.sd)("durable-icon-primary.svg"),width:32,height:32,alt:"Durable"})}),(0,d.jsx)("span",{className:"w-10 h-10 flex items-center justify-center cursor-pointer",onClick:function(){return s(!1)},children:(0,d.jsx)(G.Z,{icon:"XSolidIcon",className:"w-5 h-5 text-gray-900"})})]}),(0,d.jsx)(Rn,{dataUrl:T})]})})})]})})},Vn=t(5152),$n=t.n(Vn),Un=t(61367),qn=t(18362),Xn=function(e){var n=e.onAction,t=e.onClose,i=e.visible,o=(0,L.useRouter)();return(0,d.jsx)(qn.Z,{visible:i,context:{context:"publish_website",page:o.pathname},image:(0,p.sd)("paywalls/pw-upgrade-domain-pro-bg.png"),title:"Upgrade to publish your site",description:"Get a free custom domain name when you upgrade your plan .",buttonTitle:"View Plans",buttonAction:n,featTitle:"Upgrade to premium and also get:",features:["More website pages","Premium website features","CRM and agents tools","Invoices and payment tracking"],bgColor:"bg-gray-900",closeColor:"text-white",onClose:function(){t()}})},Jn=t(98427),Yn=t(94211);var Qn,et=t(4980);function nt(e){var n,t,o,l,s,r,u=e.preview,m=(e.status,e.open),f=e.setOpen,h=e.onPublish,b=e.setOpenPaywall,w=e.website,j=e.onOpenLinkDomain,N=e.origin,k=(0,v.useState)(!0),Z=k[0],C=k[1],_=(0,v.useState)(null),S=_[0],E=_[1],I=(0,v.useState)(null),T=I[0],P=I[1],A=(0,v.useState)(!1),B=A[0],O=A[1],R=(0,v.useState)(""),D=R[0],F=(R[1],(0,v.useState)("home")),W=F[0],L=F[1],z=(0,v.useRef)(null),K=(0,v.useRef)(null),H=(0,v.useRef)(null),U=(0,v.useState)(!1),q=U[0],X=U[1],J=(0,a.Z)((0,gn.Z)("websiteBuilder.paywall",""),2),Y=J[0],Q=J[1],ee=(0,v.useState)([]),ne=ee[0],te=ee[1],ie=(0,v.useState)(!1),oe=ie[0],le=ie[1],se=(0,v.useState)(""),ae=(se[0],se[1],(0,a.Z)((0,gn.Z)("support.modal",!1),2)[1],(0,x.Z)()),re=ae.get,ce=ae.post,de=(0,jn.Z)(D),ue=de.copied,ve=(de.copy,de.reset),me=(0,$.Z)().track,fe=(0,p.ac)("(min-width: 768px)"),he=function(){var e=(0,x.Z)().get,n=function(){var n=(0,i.Z)((function(n){var t;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return[4,e("/custom-domain/suggestion",{term:n})];case 1:return(t=i.sent())&&!0===t.status&&t.content?[2,t.content||[]]:[2,[]]}}))}));return function(e){return n.apply(this,arguments)}}(),t=function(){var n=(0,i.Z)((function(n){var t;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return[4,e("/custom-domain/check-domain",{domain:n})];case 1:return(t=i.sent())&&!0===t.status&&t.content&&(0,Yn.h)(n)?[2,t.content]:[2,null]}}))}));return function(e){return n.apply(this,arguments)}}();return{getCustomDomainSuggestions:n,checkDomainAvailability:t}}().checkDomainAvailability,pe=(0,V.useSession)().data,xe=function(e){return(0,d.jsx)("div",{className:"p-3 bg-blue-100 rounded-xl",children:(0,d.jsx)("p",{className:"text-sm break-all",children:e})})},ge=function(){var e=(0,i.Z)((function(){var e,n,t,i;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return O(!0),[4,re("/website/get-subdomain-details")];case 1:return(null===(e=o.sent())||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&(n=e.content,t=n.subdomain,i=n.durableDomain,E(t),P(i)),O(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),be=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return O(!0),[4,re("/website/verify-subdomain",{subdomain:S})];case 1:return(e=n.sent())&&!0===e.status&&!0===e.content?C(!0):C(!1),O(!1),[2,e.content]}}))}));return function(){return e.apply(this,arguments)}}(),we=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return O(!0),[4,ce("/website/save-subdomain",{subdomain:S})];case 1:return(null===(e=n.sent())||void 0===e?void 0:e.status)?[4,h(!0,!0)]:[3,3];case 2:return n.sent(),f(!1),[3,4];case 3:Dn.Z.error(e.message),n.label=4;case 4:return O(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return clearTimeout(Qn),Qn=setTimeout((0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return[2,be()]}))})),500),[2]}))}));return function(){return e.apply(this,arguments)}}(),je=function(){var e=(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return"free"!==(null===pe||void 0===pe||null===(e=pe.user)||void 0===e||null===(n=e.plan)||void 0===n?void 0:n.priceId)?[3,1]:(X(!0),[3,3]);case 1:return[4,we()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=(0,i.Z)((function(){var e,n,t,i,o,l;return(0,c.__generator)(this,(function(s){switch(s.label){case 0:return te([]),e=null,(0,Yn.h)(sessionStorage.getItem("domain_to_claim"))?[4,he(sessionStorage.getItem("domain_to_claim"))]:[3,2];case 1:"available"===(null===(t=s.sent())||void 0===t||null===(n=t.status)||void 0===n?void 0:n.toLowerCase())&&(e=t),s.label=2;case 2:return e?(te([e]),[3,5]):[3,3];case 3:return[4,re("/custom-domain/suggestion",{term:null!==(o=sessionStorage.getItem("domain_to_claim"))&&void 0!==o?o:null===pe||void 0===pe||null===(i=pe.business)||void 0===i?void 0:i.name})];case 4:(l=s.sent())&&!0===l.status&&l.content&&te(l.content),s.label=5;case 5:return[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,v.useEffect)((function(){var e=setTimeout((function(){ve()}),2e3);return function(){clearTimeout(e)}}),[ue]),(0,v.useEffect)((function(){m&&(ge(),Ne())}),[m]),(0,d.jsx)(M.u.Root,{show:m,as:v.Fragment,children:(0,d.jsx)(bn.V,{static:!0,open:m&&!Y,as:"div",className:"fixed z-100 inset-0 overflow-y-auto",initialFocus:z,onClose:function(){},children:(0,d.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(bn.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsxs)("div",{className:"inline-block align-bottom w-full bg-white rounded-t-2xl md:rounded-2xl text-left shadow-xl transform transition-all md:my-8 md:align-middle",style:{width:oe?"720px":"640px"},children:[(0,d.jsx)("div",{className:"flex justify-end p-4",children:(0,d.jsx)("button",{className:"button auxiliary icon sm rounded-full",onClick:function(){return f(!1)},children:(0,d.jsx)(G.Z,{icon:"XMarkIcon",from:"v2",className:"w-5 h-5"})})}),(0,d.jsxs)("div",{className:"flex items-center gap-4 px-12 pb-6",children:[(0,d.jsx)(G.Z,{icon:"GlobeIcon",from:"v2",variant:"large",className:"w-6 h-6"}),(0,d.jsx)(bn.V.Title,{className:"text-2xl font-semibold text-black text-opacity-80",children:"Get a domain and publish"})]}),(0,d.jsxs)("div",{ref:z,className:"px-12 pb-12",children:["home"===W&&(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:["agency"!==(null===pe||void 0===pe||null===(n=pe.user)||void 0===n||null===(t=n.plan)||void 0===t?void 0:t.priceId)&&"agency"!==(null===pe||void 0===pe||null===(o=pe.user)||void 0===o||null===(l=o.customPlan)||void 0===l?void 0:l.type)&&(0,d.jsxs)("div",{className:"flex justify-between gap-2 p-4 border rounded-xl cursor-pointer items-center",onClick:function(){L("custom"),me("app:get_custom_domain")},children:[(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("label",{children:"Get a custom domain"}),(0,d.jsx)("span",{className:"badge info",children:"Recommended"})]}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Get your free custom domain with any paid plan."}),(null===ne||void 0===ne?void 0:ne.length)>0?(0,d.jsxs)("div",{className:"flex gap-2 items-center",children:[ne.slice(0,1).map((function(e){return xe(e.domain)})),(0,d.jsx)("div",{className:"text-gray-500 text-sm",children:"+ more"})]}):(0,d.jsx)("div",{className:"flex gap-2 ",children:(0,d.jsx)(y.Z,{classNameChild:"h-10 w-40",variant:"skeleton"})})]}),(0,d.jsx)(G.Z,{icon:"ChevronRightIcon",from:"heroicons",className:"h-5 w-5 text-gray-500"})]}),(0,d.jsxs)("div",{className:"flex justify-between gap-2 p-4 border rounded-xl cursor-pointer items-center",onClick:function(){L("durable"),me("app:use_durable_domain")},children:[(0,d.jsxs)("div",{className:"flex flex-col gap-2 ",children:[(0,d.jsx)("div",{className:"flex gap-2",children:(0,d.jsx)("p",{className:"text-sm font-semibold",children:"Use a Durable domain"})}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Start quickly with a free Durable domain."}),(0,d.jsx)("div",{className:"flex gap-2",children:(null===w||void 0===w?void 0:w.subdomain)&&(null===w||void 0===w?void 0:w.durableDomain)&&xe("".concat(null===w||void 0===w?void 0:w.subdomain,".").concat(null===w||void 0===w?void 0:w.durableDomain))})]}),(0,d.jsx)(G.Z,{icon:"ChevronRightIcon",from:"heroicons",className:"h-5 w-5 text-gray-500"})]}),(0,d.jsxs)("div",{className:"flex justify-between gap-2 p-4 border rounded-xl cursor-pointer items-center",onClick:function(){j(),me("app:use_existing_domain")},children:[(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,d.jsx)("div",{className:"flex gap-2",children:(0,d.jsx)("p",{className:"text-sm font-semibold",children:"Use a domain you already own"})}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Connect your existing domain easily with any paid plan."})]}),(0,d.jsx)(G.Z,{icon:"ChevronRightIcon",from:"heroicons",className:"h-5 w-5 text-gray-500"})]})]}),"custom"===W&&(0,d.jsx)(Un.Z,{refresh:function(){f(!1),h(!0,!0)},seeMoreSteps:3,setSelectedDomain:function(){},onAction:function(){},origin:N,fromBuilder:!0,onPaywall:Q}),"external"===W&&(0,d.jsx)("div",{className:(0,p.AK)("overflow-y-auto mt-4"),style:{height:oe&&fe?"600px":"400px",maxHeight:oe&&fe?"600px":"400px"},children:(0,d.jsx)(Jn.Z,{open:m,setOpen:f,isModal:!1,fromBuilder:!0,refreshWebsite:function(){},afterComplete:function(){f(!1),h(!0,!0)},onStepChange:function(e){le("configure-manually"===e)}})}),"durable"===W&&(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,d.jsx)("p",{className:"text-gray-500 text-sm",children:"Your website address"}),(0,d.jsxs)("label",{className:"relative flex items-center gap-2 border border-black border-opacity-30 hover:border-opacity-55 rounded-full py-3 px-4 overflow-hidden",style:{paddingRight:(null===H||void 0===H||null===(s=H.current)||void 0===s?void 0:s.offsetWidth)+16||16},children:[(0,d.jsx)(G.Z,{icon:"LockClosedIcon",from:"heroicons",className:"flex-shrink-0 text-gray-500 h-3 w-3"}),(0,d.jsx)("input",{ref:K,className:"w-full border-0 p-0 font-medium text-body md:text-sm outline-none placeholder-gray-400",value:S,onKeyUp:function(){return ye()},onChange:function(e){return E((0,p.nv)(e.target.value,T))}}),(0,d.jsxs)("div",{className:"absolute inset-0 flex items-center py-3 pl-9 pr-4 font-medium text-body md:text-sm pointer-events-none",children:[(0,d.jsx)("div",{className:"opacity-0",style:{maxWidth:(null===K||void 0===K||null===(r=K.current)||void 0===r?void 0:r.offsetWidth)||"100%"},children:S}),(0,d.jsx)("div",{ref:H,className:"hidden md:block text-gray-400",children:(0,p.lz)({subdomain:S,durableDomain:T},!1)})]}),(0,d.jsx)(Ee(),{href:D,children:(0,d.jsx)("a",{target:"_blank",className:(0,p.AK)("absolute right-0 flex items-center py-3 px-4 bg-white text-black text-opacity-55 cursor-pointer transition-opacity hover:text-opacity-80"),children:(0,d.jsx)(G.Z,{icon:"ExternalLinkIcon",className:"w-5 h-5"})})})]}),B&&(0,d.jsx)(et.Z,{children:(0,d.jsxs)("div",{className:"flex items-center gap-3 text-black/55 p-4 rounded-2xl bg-black/5 w-full",children:[(0,d.jsx)(y.Z,{type:"icon",text:""}),(0,d.jsx)("span",{className:"text-sm font-medium ",children:"This might take a minute as we get everything setup for you"})]})})]}),"home"!==W&&(0,d.jsxs)("div",{className:"flex items-center justify-between gap-3 pt-6",children:[(0,d.jsx)(g.Z,{className:"button auxiliary",tabIndex:1,onClick:function(){return L("home")},disabled:B,loading:B,children:"Back"}),"custom"!==W&&(0,d.jsx)(g.Z,{className:"button default",tabIndex:1,onClick:function(){"durable"===W?je():f(!0)},disabled:B||!S||!Z,loading:B,children:"Publish"})]})]}),(0,d.jsx)(Xn,{visible:q,onAction:function(){me("account:paywall_trigger_clicked",{context:"".concat(u?"preview":"publish","_flow")}),b("".concat(u?"preview":"publish")),X(!1)},onClose:function(){return X(!1)}})]})})]})})})}var tt=t(11502),it=t(22295),ot=t(40318),lt=t(53511),st=t(43443),at=t(28774),rt=t(62748),ct=t(99887),dt=[{id:"top",icon:"ImageTopIcon"},{id:"bottom",icon:"ImageBottomIcon"}],ut=[{id:"top",icon:"ObjectAlignTopSolidIcon"},{id:"middle",icon:"ObjectAlignVCenterSolidIcon"},{id:"bottom",icon:"ObjectAlignBottomSolidIcon"}],vt=[{id:"vertical",icon:"ArrowDownIcon"},{id:"horizontal",icon:"ArrowRightIcon"}],mt=function(e){var n,t=e.className,i=e.block,o=e.setBlock,a=e.imagePlacement,r=void 0===a||a,c=e.verticalAlignment,u=void 0===c||c,v=e.sliderOrientation,m=void 0===v||v;return(0,d.jsxs)("div",{className:(0,p.AK)("space-y-6",t),children:[(0,d.jsx)("label",{children:"Layout"}),r&&(0,d.jsx)(j.Z,{label:"Carousel position",value:(null===i||void 0===i||null===(n=i.image)||void 0===n?void 0:n.align)||"bottom",options:dt,onChange:function(e){return o((0,s.Z)((0,l.Z)({},i),{image:(0,s.Z)((0,l.Z)({},i.image),{align:e})}))}}),u&&(0,d.jsx)(j.Z,{label:"Content alignment",value:i.verticalAlign||"middle",options:ut,onChange:function(e){return o((0,s.Z)((0,l.Z)({},i),{verticalAlign:e}))}}),m&&(0,d.jsx)(j.Z,{label:"Slider orientation",value:(null===i||void 0===i?void 0:i.sliderOrientation)||"vertical",options:vt,onChange:function(e){return o((0,s.Z)((0,l.Z)({},i),{sliderOrientation:e}))}})]})},ft=[{id:22,name:"Slow"},{id:44,name:"Normal"},{id:66,name:"Fast"},{id:88,name:"Very fast"}];function ht(e){var n,t=e.className,i=e.block,o=e.setBlock;return(0,d.jsx)("div",{className:t,children:(0,d.jsx)(ie.Z,{label:"Carousel speed",value:ft.find((function(e){return e.id===(null!==(n=i.speed)&&void 0!==n?n:44)})),values:ft,onChange:function(e){return o((function(n){return(0,s.Z)((0,l.Z)({},n),{speed:e.id})}))}})})}var pt=t(78174),xt=t(88268),gt=t(1421);function bt(e){var n,t,o,a,r,u,h,x,g=e.open,b=e.setOpen,w=e.block,y=e.setBlock,j=e.rtl,N=e.setRtl,k=e.loading,C=e.website,S=e.onValid,P=(0,v.useState)(null),B=P[0],O=P[1],R=(0,v.useState)(null),D=R[0],F=R[1],W=(0,v.useState)(!1),L=W[0],z=W[1],M=(0,v.useState)(null),G=M[0],K=M[1],H=(0,ne.Z)(),V=H.confirm,$=H.ConfirmDialog,U=function(){b(!1)},q=function(e){y((function(n){var t=n.buttons?(0,p.p$)(n.buttons):null;return t||(t={enabled:!0,items:[]}),t.items[D]=e,(0,s.Z)((0,l.Z)({},n),{buttons:t})}))},X=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,c.__generator)(this,(function(o){return n=e.oldIndex,t=e.newIndex,(i=(0,p.p$)(w)).pictures=(0,rt.q)(i.pictures,n,t),i.pictures=i.pictures.map((function(e,n){return(0,s.Z)((0,l.Z)({},e),{idx:n})})),y(i),[2]}))}));return function(n){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(m.Z,{title:"Banner image slider horizontal",open:g,rtl:j,setRtl:N,edit:B,setEdit:O,loading:k,hiddenTabs:["Colors","Button style","Button settings","Image","Media selector"],onClose:U,invalid:L,onSelectItem:function(e,n){if("buttons"===n)F(e);else{var t,i=(null===w||void 0===w||null===(t=w.pictures)||void 0===t?void 0:t[e])||{};K((0,s.Z)((0,l.Z)({},i),{idx:e}))}},children:[(0,d.jsxs)(f.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(pt.Z,{className:"pb-6",block:w,setBlock:y,type:"banner"}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"mb-1",children:"Carousel images"}),(0,d.jsx)("p",{className:"label helper",children:"Select up to 10 images"})]}),(0,d.jsx)("div",{className:"relative mt-6",children:(0,d.jsx)(wt,{distance:10,useDragHandle:!0,helperClass:"list-none bg-white rounded-xl shadow-lg cursor-move",lockAxis:"y",lockOffset:"0%",lockToContainerEdges:!0,items:null===w||void 0===w?void 0:w.pictures,onSortEnd:X,onSelect:function(e){var n,t=(null===w||void 0===w||null===(n=w.pictures)||void 0===n?void 0:n[e])||{};K((0,s.Z)((0,l.Z)({},t),{idx:e})),O("Image")},onRemove:function(e){V("Delete image?","Are you sure you want to delete this image?",(function(){var n=(0,p.p$)(w);n.pictures.splice(e,1),n.pictures=n.pictures.map((function(e,n){return(0,s.Z)((0,l.Z)({},e),{idx:n})})),y(n)}))}})}),(!(null===w||void 0===w?void 0:w.pictures)||(null===w||void 0===w||null===(n=w.pictures)||void 0===n?void 0:n.length)<10)&&(0,d.jsx)(gt.HS,{label:"Add image",onClick:function(){var e;K({idx:(null===w||void 0===w||null===(e=w.pictures)||void 0===e?void 0:e.length)||0}),O("Image")}})]}),(0,d.jsx)(ot.Z,{className:"pt-6",block:w,setBlock:y,onEdit:function(){return O("Button settings")},setSelected:F,text:"Add a button with a link to a page, phone number, email or section"}),(0,d.jsx)(xt.Z,{block:w,setBlock:y,purpose:!0})]}),(0,d.jsxs)(f.O.Panel,{className:"divide-y space-y-6 outline-none",unmount:!1,children:[(0,d.jsx)(_._u,{website:C,block:w,onEdit:function(){return O("Colors")}}),(null===w||void 0===w||null===(t=w.buttons)||void 0===t?void 0:t.enabled)&&(null===w||void 0===w||null===(o=w.buttons)||void 0===o||null===(a=o.items)||void 0===a?void 0:a.length)>0&&(0,d.jsx)(Qe.ZJ,{className:"pt-6",website:C,block:w,onEdit:function(e){F(e),O("Button style")},onTryPalette:U}),(0,d.jsx)(ht,{className:"pt-6",block:w,setBlock:y}),(0,d.jsx)(mt,{className:"pt-6",block:w,setBlock:y,verticalAlignment:!1,sliderOrientation:!1}),(0,d.jsx)(ct.Z,{className:"pt-6",block:w,setBlock:y,horizontalAlign:!0,verticalAlign:!1,rightAlign:!1}),(0,d.jsx)(T.Z,{className:"pt-6",block:w,setBlock:y}),(0,d.jsx)(A.Z,{className:"pt-6",block:w,setBlock:y}),(0,d.jsx)(E.nR,{className:"pt-6",value:null===w||void 0===w?void 0:w.cornerRadius,defaultValue:null===C||void 0===C?void 0:C.cornerRadius,onChange:function(e){return y((0,s.Z)((0,l.Z)({},w),{cornerRadius:e}))}}),(0,d.jsx)(I.ZP,{className:"pt-6",block:w,setBlock:y,horizontalAlign:!1,verticalAlign:!1,minHeight:!1}),(0,d.jsx)(Z.iy,{className:"pt-6",block:w,setBlock:y,website:C}),(0,d.jsx)(lt.Z,{className:"pt-6",block:w,setBlock:y})]}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(_.px,{website:C,block:w,setBlock:y,onTryPalette:U})}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(Qe.AF,{website:C,button:null===(r=w.buttons)||void 0===r||null===(u=r.items)||void 0===u?void 0:u[D],onChange:q})}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(Qe.jR,{switchable:!1,button:null===(h=w.buttons)||void 0===h||null===(x=h.items)||void 0===x?void 0:x[D],onChange:q,onValid:function(e){S(e),z(!e)}})}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(at.Z,{item:G,onChange:function(e){var n=(0,p.p$)(w);n.pictures||(n.pictures=[]),void 0!==e.idx?n.pictures[e.idx]=e:n.pictures.push(e),y(n)}})}),(0,d.jsx)(f.O.Panel,{children:(0,d.jsx)(Le.Z,{})})]}),(0,d.jsx)($,{attention:!0})]})}var wt=(0,st.JN)((function(e){var n=e.items,t=e.onSelect,i=e.onRemove;return(0,d.jsx)("ul",{className:"prevent-select",children:null===n||void 0===n?void 0:n.map((function(e,n){return(0,d.jsx)(yt,{index:n,idx:n,item:e,onSelect:t,onRemove:i},"banner-carousel-item-".concat(n))}))})})),yt=(0,st.W8)((function(e){var n,t,i,o,l=e.idx,s=e.item,a=e.onSelect,r=e.onRemove;return(0,d.jsxs)("li",{className:"relative z-100 list-item",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(gt.DU,{}),(0,d.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[s.media?(0,d.jsx)("div",{className:"relative overflow-hidden w-10 h-10 rounded",children:(0,d.jsx)(H(),{unoptimized:!0,src:(null===(n=s.media)||void 0===n?void 0:n.preview)||(null===(t=s.media)||void 0===t?void 0:t.url),layout:"fill",objectFit:"cover",alt:s.altText||(null===(i=s.media)||void 0===i?void 0:i.alt)||(null===(o=s.media)||void 0===o?void 0:o.author),className:"w-full h-full object-center object-cover"})}):(0,d.jsx)("div",{className:"w-9 h-9 rounded bg-gray-200"}),(0,d.jsx)("div",{className:"truncate max-w-[180px] text-sm font-medium",children:s.altText})]})]}),(0,d.jsx)(gt.EY,{onSelect:function(){return a(l,s)},onRemove:function(){return r(l,s)}})]})}));function jt(e){var n,t,o,a,r,u,h,x,g=e.open,b=e.setOpen,w=e.block,y=e.setBlock,j=e.rtl,N=e.setRtl,k=e.loading,C=e.website,S=e.onValid,P=(0,v.useState)(null),B=P[0],O=P[1],R=(0,v.useState)(null),D=R[0],F=R[1],W=(0,v.useState)(!1),L=W[0],z=W[1],M=(0,v.useState)(null),G=M[0],K=M[1],H=(0,ne.Z)(),V=H.confirm,$=H.ConfirmDialog,U=function(){b(!1)},q=function(e){y((function(n){var t=n.buttons?(0,p.p$)(n.buttons):null;return t||(t={enabled:!0,items:[]}),t.items[D]=e,(0,s.Z)((0,l.Z)({},n),{buttons:t})}))},X=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,c.__generator)(this,(function(o){return n=e.oldIndex,t=e.newIndex,(i=(0,p.p$)(w)).pictures=(0,rt.q)(i.pictures,n,t),i.pictures=i.pictures.map((function(e,n){return(0,s.Z)((0,l.Z)({},e),{idx:n})})),y(i),[2]}))}));return function(n){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(m.Z,{title:"Banner double image slider",open:g,rtl:j,setRtl:N,edit:B,setEdit:O,loading:k,hiddenTabs:["Colors","Button style","Button settings","Image","Media selector"],onClose:U,invalid:L,onSelectItem:function(e,n){if("buttons"===n)F(e);else{var t,i=(null===w||void 0===w||null===(t=w.pictures)||void 0===t?void 0:t[e])||{};K((0,s.Z)((0,l.Z)({},i),{idx:e}))}},children:[(0,d.jsxs)(f.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(pt.Z,{className:"pb-6",block:w,setBlock:y,type:"banner"}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"mb-1",children:"Carousel images"}),(0,d.jsx)("p",{className:"label helper",children:"Select up to 10 images"})]}),(0,d.jsx)("div",{className:"relative mt-6",children:(0,d.jsx)(Nt,{distance:10,useDragHandle:!0,helperClass:"list-none bg-white rounded-xl shadow-lg cursor-move",lockAxis:"y",lockOffset:"0%",lockToContainerEdges:!0,items:null===w||void 0===w?void 0:w.pictures,onSortEnd:X,onSelect:function(e){var n,t=(null===w||void 0===w||null===(n=w.pictures)||void 0===n?void 0:n[e])||{};K((0,s.Z)((0,l.Z)({},t),{idx:e})),O("Image")},onRemove:function(e){V("Delete image?","Are you sure you want to delete this image?",(function(){var n=(0,p.p$)(w);n.pictures.splice(e,1),n.pictures=n.pictures.map((function(e,n){return(0,s.Z)((0,l.Z)({},e),{idx:n})})),y(n)}))}})}),(!(null===w||void 0===w?void 0:w.pictures)||(null===w||void 0===w||null===(n=w.pictures)||void 0===n?void 0:n.length)<10)&&(0,d.jsx)(gt.HS,{label:"Add image",onClick:function(){var e;K({idx:(null===w||void 0===w||null===(e=w.pictures)||void 0===e?void 0:e.length)||0}),O("Image")}})]}),(0,d.jsx)(ot.Z,{className:"pt-6",block:w,setBlock:y,onEdit:function(){return O("Button settings")},setSelected:F,text:"Add a button with a link to a page, phone number, email or section"}),(0,d.jsx)(xt.Z,{block:w,setBlock:y,purpose:!0})]}),(0,d.jsxs)(f.O.Panel,{className:"divide-y space-y-6 outline-none",unmount:!1,children:[(0,d.jsx)(_._u,{website:C,block:w,onEdit:function(){return O("Colors")}}),(null===w||void 0===w||null===(t=w.buttons)||void 0===t?void 0:t.enabled)&&(null===w||void 0===w||null===(o=w.buttons)||void 0===o||null===(a=o.items)||void 0===a?void 0:a.length)>0&&(0,d.jsx)(Qe.ZJ,{className:"pt-6",website:C,block:w,onEdit:function(e){F(e),O("Button style")},onTryPalette:U}),(0,d.jsx)(ht,{className:"pt-6",block:w,setBlock:y}),(0,d.jsx)(mt,{className:"pt-6",block:w,setBlock:y,imagePlacement:!1}),(0,d.jsx)(T.Z,{className:"pt-6",block:w,setBlock:y}),(0,d.jsx)(A.Z,{className:"pt-6",block:w,setBlock:y}),(0,d.jsx)(E.nR,{className:"pt-6",value:null===w||void 0===w?void 0:w.cornerRadius,defaultValue:null===C||void 0===C?void 0:C.cornerRadius,onChange:function(e){return y((0,s.Z)((0,l.Z)({},w),{cornerRadius:e}))}}),(0,d.jsx)(I.ZP,{className:"pt-6",block:w,setBlock:y,horizontalAlign:!1,verticalAlign:!1,minHeight:!1}),(0,d.jsx)(Z.iy,{className:"pt-6",block:w,setBlock:y,website:C}),(0,d.jsx)(lt.Z,{className:"pt-6",block:w,setBlock:y})]}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(_.px,{website:C,block:w,setBlock:y,onTryPalette:U})}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(Qe.AF,{website:C,button:null===(r=w.buttons)||void 0===r||null===(u=r.items)||void 0===u?void 0:u[D],onChange:q})}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(Qe.jR,{switchable:!1,button:null===(h=w.buttons)||void 0===h||null===(x=h.items)||void 0===x?void 0:x[D],onChange:q,onValid:function(e){S(e),z(!e)}})}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(at.Z,{item:G,onChange:function(e){var n=(0,p.p$)(w);n.pictures||(n.pictures=[]),void 0!==e.idx?n.pictures[e.idx]=e:n.pictures.push(e),y(n)}})}),(0,d.jsx)(f.O.Panel,{children:(0,d.jsx)(Le.Z,{})})]}),(0,d.jsx)($,{attention:!0})]})}var Nt=(0,st.JN)((function(e){var n=e.items,t=e.onSelect,i=e.onRemove;return(0,d.jsx)("ul",{className:"prevent-select",children:null===n||void 0===n?void 0:n.map((function(e,n){return(0,d.jsx)(kt,{index:n,idx:n,item:e,onSelect:t,onRemove:i},"banner-carousel-item-".concat(n))}))})})),kt=(0,st.W8)((function(e){var n,t,i,o,l=e.idx,s=e.item,a=e.onSelect,r=e.onRemove;return(0,d.jsxs)("li",{className:"relative z-100 list-item",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(gt.DU,{}),(0,d.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[s.media?(0,d.jsx)("div",{className:"relative overflow-hidden w-10 h-10 rounded",children:(0,d.jsx)(H(),{unoptimized:!0,src:(null===(n=s.media)||void 0===n?void 0:n.preview)||(null===(t=s.media)||void 0===t?void 0:t.url),layout:"fill",objectFit:"cover",alt:s.altText||(null===(i=s.media)||void 0===i?void 0:i.alt)||(null===(o=s.media)||void 0===o?void 0:o.author),className:"w-full h-full object-center object-cover"})}):(0,d.jsx)("div",{className:"w-9 h-9 rounded bg-gray-200"}),(0,d.jsx)("div",{className:"truncate max-w-[180px] text-sm font-medium",children:s.altText})]})]}),(0,d.jsx)(gt.EY,{onSelect:function(){return a(l,s)},onRemove:function(){return r(l,s)}})]})}));function Zt(e){var n,t,o,a,r,u,h,x,g=e.open,b=e.setOpen,w=e.block,y=e.setBlock,j=e.rtl,N=e.setRtl,k=e.loading,C=e.website,S=e.onValid,P=(0,v.useState)(null),B=P[0],O=P[1],R=(0,v.useState)(null),D=R[0],F=R[1],W=(0,v.useState)(!1),L=W[0],z=W[1],M=(0,v.useState)(null),G=M[0],K=M[1],H=(0,ne.Z)(),V=H.confirm,$=H.ConfirmDialog,U=function(){b(!1)},q=function(e){y((function(n){var t=n.buttons?(0,p.p$)(n.buttons):null;return t||(t={enabled:!0,items:[]}),t.items[D]=e,(0,s.Z)((0,l.Z)({},n),{buttons:t})}))},X=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,c.__generator)(this,(function(o){return n=e.oldIndex,t=e.newIndex,(i=(0,p.p$)(w)).pictures=(0,rt.q)(i.pictures,n,t),i.pictures=i.pictures.map((function(e,n){return(0,s.Z)((0,l.Z)({},e),{idx:n})})),y(i),[2]}))}));return function(n){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(m.Z,{title:"Banner carousel",open:g,rtl:j,setRtl:N,edit:B,setEdit:O,loading:k,hiddenTabs:["Colors","Button style","Button settings","Image","Media selector"],onClose:U,invalid:L,onSelectItem:function(e,n){if("buttons"===n)F(e);else{var t,i=(null===w||void 0===w||null===(t=w.pictures)||void 0===t?void 0:t[e])||{};K((0,s.Z)((0,l.Z)({},i),{idx:e}))}},children:[(0,d.jsxs)(f.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(pt.Z,{className:"pb-6",block:w,setBlock:y,type:"banner"}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"mb-1",children:"Carousel images"}),(0,d.jsx)("p",{className:"label helper",children:"Select up to 10 images"})]}),(0,d.jsx)("div",{className:"relative mt-6",children:(0,d.jsx)(Ct,{distance:10,useDragHandle:!0,helperClass:"list-none bg-white rounded-xl shadow-lg cursor-move",lockAxis:"y",lockOffset:"0%",lockToContainerEdges:!0,items:null===w||void 0===w?void 0:w.pictures,onSortEnd:X,onSelect:function(e){var n,t=(null===w||void 0===w||null===(n=w.pictures)||void 0===n?void 0:n[e])||{};K((0,s.Z)((0,l.Z)({},t),{idx:e})),O("Image")},onRemove:function(e){V("Delete image?","Are you sure you want to delete this image?",(function(){var n=(0,p.p$)(w);n.pictures.splice(e,1),n.pictures=n.pictures.map((function(e,n){return(0,s.Z)((0,l.Z)({},e),{idx:n})})),y(n)}))}})}),(!(null===w||void 0===w?void 0:w.pictures)||(null===w||void 0===w||null===(n=w.pictures)||void 0===n?void 0:n.length)<10)&&(0,d.jsx)(gt.HS,{label:"Add image",onClick:function(){var e;K({idx:(null===w||void 0===w||null===(e=w.pictures)||void 0===e?void 0:e.length)||0}),O("Image")}})]}),(0,d.jsx)(ot.Z,{className:"pt-6",block:w,setBlock:y,onEdit:function(){return O("Button settings")},setSelected:F,text:"Add a button with a link to a page, phone number, email or section"}),(0,d.jsx)(xt.Z,{block:w,setBlock:y,purpose:!0})]}),(0,d.jsxs)(f.O.Panel,{className:"divide-y space-y-6 outline-none",unmount:!1,children:[(0,d.jsx)(_._u,{website:C,block:w,onEdit:function(){return O("Colors")}}),(null===w||void 0===w||null===(t=w.buttons)||void 0===t?void 0:t.enabled)&&(null===w||void 0===w||null===(o=w.buttons)||void 0===o||null===(a=o.items)||void 0===a?void 0:a.length)>0&&(0,d.jsx)(Qe.ZJ,{className:"pt-6",website:C,block:w,onEdit:function(e){F(e),O("Button style")},onTryPalette:U}),(0,d.jsx)(mt,{className:"pt-6",block:w,setBlock:y,imagePlacement:!1,sliderOrientation:!1}),(0,d.jsx)(T.Z,{className:"pt-6",block:w,setBlock:y}),(0,d.jsx)(A.Z,{className:"pt-6",block:w,setBlock:y}),(0,d.jsx)(E.nR,{className:"pt-6",value:null===w||void 0===w?void 0:w.cornerRadius,defaultValue:null===C||void 0===C?void 0:C.cornerRadius,onChange:function(e){return y((0,s.Z)((0,l.Z)({},w),{cornerRadius:e}))}}),(0,d.jsx)(I.ZP,{className:"pt-6",block:w,setBlock:y,horizontalAlign:!1,verticalAlign:!1,minHeight:!1}),(0,d.jsx)(Z.iy,{className:"pt-6",block:w,setBlock:y,website:C}),(0,d.jsx)(lt.Z,{className:"pt-6",block:w,setBlock:y})]}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(_.px,{website:C,block:w,setBlock:y,onTryPalette:U})}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(Qe.AF,{website:C,button:null===(r=w.buttons)||void 0===r||null===(u=r.items)||void 0===u?void 0:u[D],onChange:q})}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(Qe.jR,{switchable:!1,button:null===(h=w.buttons)||void 0===h||null===(x=h.items)||void 0===x?void 0:x[D],onChange:q,onValid:function(e){S(e),z(!e)}})}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(at.Z,{item:G,onChange:function(e){var n=(0,p.p$)(w);n.pictures||(n.pictures=[]),void 0!==e.idx?n.pictures[e.idx]=e:n.pictures.push(e),y(n)}})}),(0,d.jsx)(f.O.Panel,{children:(0,d.jsx)(Le.Z,{})})]}),(0,d.jsx)($,{attention:!0})]})}var Ct=(0,st.JN)((function(e){var n=e.items,t=e.onSelect,i=e.onRemove;return(0,d.jsx)("ul",{className:"prevent-select",children:null===n||void 0===n?void 0:n.map((function(e,n){return(0,d.jsx)(_t,{index:n,idx:n,item:e,onSelect:t,onRemove:i},"banner-carousel-item-".concat(n))}))})})),_t=(0,st.W8)((function(e){var n,t,i,o,l=e.idx,s=e.item,a=e.onSelect,r=e.onRemove;return(0,d.jsxs)("li",{className:"relative z-100 list-item",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(gt.DU,{}),(0,d.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[s.media?(0,d.jsx)("div",{className:"relative overflow-hidden w-10 h-10 rounded",children:(0,d.jsx)(H(),{unoptimized:!0,src:(null===(n=s.media)||void 0===n?void 0:n.preview)||(null===(t=s.media)||void 0===t?void 0:t.url),layout:"fill",objectFit:"cover",alt:s.altText||(null===(i=s.media)||void 0===i?void 0:i.alt)||(null===(o=s.media)||void 0===o?void 0:o.author),className:"w-full h-full object-center object-cover"})}):(0,d.jsx)("div",{className:"w-9 h-9 rounded bg-gray-200"}),(0,d.jsx)("div",{className:"truncate max-w-[180px] text-sm font-medium",children:s.altText})]})]}),(0,d.jsx)(gt.EY,{onSelect:function(){return a(l,s)},onRemove:function(){return r(l,s)}})]})}));function St(e){var n,t,o,a,r,u,h,x,g=e.open,b=e.setOpen,w=e.block,y=e.setBlock,j=e.rtl,N=e.setRtl,k=e.loading,C=e.website,S=e.onValid,P=(0,v.useState)(null),B=P[0],O=P[1],R=(0,v.useState)(null),D=R[0],F=R[1],W=(0,v.useState)(!1),L=W[0],z=W[1],M=(0,v.useState)(null),G=M[0],K=M[1],H=(0,ne.Z)(),V=H.confirm,$=H.ConfirmDialog,U=function(){b(!1)},q=function(e){y((function(n){var t=n.buttons?(0,p.p$)(n.buttons):null;return t||(t={enabled:!0,items:[]}),t.items[D]=e,(0,s.Z)((0,l.Z)({},n),{buttons:t})}))},X=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,c.__generator)(this,(function(o){return n=e.oldIndex,t=e.newIndex,(i=(0,p.p$)(w)).pictures=(0,rt.q)(i.pictures,n,t),i.pictures=i.pictures.map((function(e,n){return(0,s.Z)((0,l.Z)({},e),{idx:n})})),y(i),[2]}))}));return function(n){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(m.Z,{title:"Banner bento grid",open:g,rtl:j,setRtl:N,edit:B,setEdit:O,loading:k,hiddenTabs:["Colors","Button style","Button settings","Image","Media selector"],onClose:U,invalid:L,onSelectItem:function(e,n){if("buttons"===n)F(e);else{var t,i=(null===w||void 0===w||null===(t=w.pictures)||void 0===t?void 0:t[e])||{};K((0,s.Z)((0,l.Z)({},i),{idx:e}))}},children:[(0,d.jsxs)(f.O.Panel,{className:"divide-y outline-none",unmount:!1,children:[(0,d.jsx)(pt.Z,{className:"pb-6",block:w,setBlock:y,type:"banner"}),(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"mb-1",children:"Images"}),(0,d.jsx)("p",{className:"label helper",children:"Select up to 3 images"})]}),(0,d.jsx)("div",{className:"relative mt-6",children:(0,d.jsx)(Et,{distance:10,useDragHandle:!0,helperClass:"list-none bg-white rounded-xl shadow-lg cursor-move",lockAxis:"y",lockOffset:"0%",lockToContainerEdges:!0,items:null===w||void 0===w?void 0:w.pictures,onSortEnd:X,onSelect:function(e){var n,t=(null===w||void 0===w||null===(n=w.pictures)||void 0===n?void 0:n[e])||{};K((0,s.Z)((0,l.Z)({},t),{idx:e})),O("Image")},onRemove:function(e){V("Delete image?","Are you sure you want to delete this image?",(function(){var n=(0,p.p$)(w);n.pictures.splice(e,1),n.pictures=n.pictures.map((function(e,n){return(0,s.Z)((0,l.Z)({},e),{idx:n})})),y(n)}))}})}),(!(null===w||void 0===w?void 0:w.pictures)||(null===w||void 0===w||null===(n=w.pictures)||void 0===n?void 0:n.length)<3)&&(0,d.jsx)(gt.HS,{label:"Add image",onClick:function(){var e;K({idx:(null===w||void 0===w||null===(e=w.pictures)||void 0===e?void 0:e.length)||0}),O("Image")}})]}),(0,d.jsx)(ot.Z,{className:"pt-6",block:w,setBlock:y,onEdit:function(){return O("Button settings")},setSelected:F,text:"Add a button with a link to a page, phone number, email or section"}),(0,d.jsx)(xt.Z,{block:w,setBlock:y,purpose:!0})]}),(0,d.jsxs)(f.O.Panel,{className:"divide-y space-y-6 outline-none",unmount:!1,children:[(0,d.jsx)(_._u,{website:C,block:w,onEdit:function(){return O("Colors")}}),(null===w||void 0===w||null===(t=w.buttons)||void 0===t?void 0:t.enabled)&&(null===w||void 0===w||null===(o=w.buttons)||void 0===o||null===(a=o.items)||void 0===a?void 0:a.length)>0&&(0,d.jsx)(Qe.ZJ,{className:"pt-6",website:C,block:w,onEdit:function(e){F(e),O("Button style")},onTryPalette:U}),(0,d.jsx)(T.Z,{className:"pt-6",block:w,setBlock:y}),(0,d.jsx)(A.Z,{className:"pt-6",block:w,setBlock:y}),(0,d.jsx)(E.nR,{className:"pt-6",value:null===w||void 0===w?void 0:w.cornerRadius,defaultValue:null===C||void 0===C?void 0:C.cornerRadius,onChange:function(e){return y((0,s.Z)((0,l.Z)({},w),{cornerRadius:e}))}}),(0,d.jsx)(I.ZP,{className:"pt-6",block:w,setBlock:y,horizontalAlign:!1,verticalAlign:!1,minHeight:!1}),(0,d.jsx)(Z.iy,{className:"pt-6",block:w,setBlock:y,website:C}),(0,d.jsx)(lt.Z,{className:"pt-6",block:w,setBlock:y})]}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(_.px,{website:C,block:w,setBlock:y,onTryPalette:U})}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(Qe.AF,{website:C,button:null===(r=w.buttons)||void 0===r||null===(u=r.items)||void 0===u?void 0:u[D],onChange:q})}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(Qe.jR,{switchable:!1,button:null===(h=w.buttons)||void 0===h||null===(x=h.items)||void 0===x?void 0:x[D],onChange:q,onValid:function(e){S(e),z(!e)}})}),(0,d.jsx)(f.O.Panel,{unmount:!1,children:(0,d.jsx)(at.Z,{item:G,onChange:function(e){var n=(0,p.p$)(w);n.pictures||(n.pictures=[]),void 0!==e.idx?n.pictures[e.idx]=e:n.pictures.push(e),y(n)}})}),(0,d.jsx)(f.O.Panel,{children:(0,d.jsx)(Le.Z,{})})]}),(0,d.jsx)($,{attention:!0})]})}var Et=(0,st.JN)((function(e){var n=e.items,t=e.onSelect,i=e.onRemove;return(0,d.jsx)("ul",{className:"prevent-select",children:null===n||void 0===n?void 0:n.map((function(e,n){return(0,d.jsx)(It,{index:n,idx:n,item:e,onSelect:t,onRemove:i},"banner-carousel-item-".concat(n))}))})})),It=(0,st.W8)((function(e){var n,t,i,o,l=e.idx,s=e.item,a=e.onSelect,r=e.onRemove;return(0,d.jsxs)("li",{className:"relative z-100 list-item",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)(gt.DU,{}),(0,d.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[s.media?(0,d.jsx)("div",{className:"relative overflow-hidden w-10 h-10 rounded",children:(0,d.jsx)(H(),{unoptimized:!0,src:(null===(n=s.media)||void 0===n?void 0:n.preview)||(null===(t=s.media)||void 0===t?void 0:t.url),layout:"fill",objectFit:"cover",alt:s.altText||(null===(i=s.media)||void 0===i?void 0:i.alt)||(null===(o=s.media)||void 0===o?void 0:o.author),className:"w-full h-full object-center object-cover"})}):(0,d.jsx)("div",{className:"w-9 h-9 rounded bg-gray-200"}),(0,d.jsx)("div",{className:"truncate max-w-[180px] text-sm font-medium",children:s.altText})]})]}),(0,d.jsx)(gt.EY,{onSelect:function(){return a(l,s)},onRemove:function(){return r(l,s)}})]})})),Tt=t(92265),Pt=t(20682);function At(e){var n=e.open,t=e.setOpen,o=e.onRegenerate,a=e.setWebsiteToRegenerate,r=(0,v.useState)(),u=r[0],m=r[1],f=(0,Tt.Z)(),h=f.aiSettings,x=f.setAiSettings,b=f.saveAiSettings,w=(0,v.useRef)(null),y=function(){t(!1)},j=function(){var e=(0,i.Z)((function(e){return(0,c.__generator)(this,(function(n){return x((function(n){return(0,s.Z)((0,l.Z)({},n),{voiceAndTone:e})})),a((function(n){return(0,s.Z)((0,l.Z)({},n),{business:(0,s.Z)((0,l.Z)({},n.business),{voiceAndTone:e})})})),[2]}))}));return function(n){return e.apply(this,arguments)}}(),N=function(){var e=(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return y(),setTimeout((function(){o()}),200),b(!1),[2]}))}));return function(){return e.apply(this,arguments)}}();return(0,v.useEffect)((function(){n&&m(null===h||void 0===h?void 0:h.voiceAndTone)}),[n,h]),(0,d.jsx)(M.u,{show:n,as:v.Fragment,children:(0,d.jsx)(bn.V,{as:"div",className:"fixed inset-0 z-100 overflow-hidden",initialFocus:w,onClose:y,children:(0,d.jsxs)("div",{className:"flex items-end md:items-center justify-center h-full",children:[(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(bn.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,d.jsx)(M.u.Child,{as:v.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsxs)("div",{className:"relative flex flex-col h-full md:h-auto w-full md:max-w-132 bg-white md:rounded-2xl",children:[(0,d.jsx)("div",{className:"flex justify-end p-4",children:(0,d.jsx)("button",{className:"button auxiliary icon sm rounded-full",onClick:y,children:(0,d.jsx)(G.Z,{icon:"XMarkIcon",from:"v2",className:"w-5 h-5"})})}),(0,d.jsxs)("div",{className:"flex items-center gap-4 px-12 pb-6",children:[(0,d.jsx)(G.Z,{icon:"SparkleIcon",from:"v2",variant:"large",className:"w-6 h-6"}),(0,d.jsx)(bn.V.Title,{className:"text-2xl font-semibold text-black text-opacity-80",children:"Regenerate text"})]}),(0,d.jsx)("div",{ref:w,className:"flex-1 px-12 overflow-y-auto max-h-[calc(100dvh-136px)]",children:(0,d.jsx)("div",{className:"block w-full mb-6",children:(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"flex py-2.5 font-semibold text-base cursor-pointer sticky top-0 bg-white",children:"Tone of voice"})}),Pt.i4.filter((function(e){return"tone"===e.type})).map((function(e,n){return(0,d.jsx)("div",{onClick:function(){m(e.id),j(e.id)},children:(0,d.jsxs)("div",{className:"flex items-center gap-1.5 pr-4 py-2.5 hover:bg-gray-100 cursor-pointer rounded-md",children:[(0,d.jsx)(G.Z,{icon:"CheckCircleSolidIcon",className:(0,p.AK)("w-5 h-5 transition-all ml-2 flex-shrink-0",e.id===u?"opacity-100":"opacity-0")}),(0,d.jsx)("span",{className:"text-sm font-medium whitespace-nowrap text-gray-700",children:e.name})]})},"tone-".concat(n))}))]}),(0,d.jsxs)("div",{className:" flex-1 flex-shrink",children:[(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:"flex py-2.5 font-semibold text-base cursor-pointer sticky top-0 bg-white mt-4 md:mt-0",children:"Personalities"})}),Pt.i4.filter((function(e){return"personality"===e.type})).map((function(e,n){return(0,d.jsx)("div",{onClick:function(){m(e.id),j(e.id)},children:(0,d.jsxs)("div",{className:"flex items-center gap-1.5 pr-4 py-2.5 hover:bg-gray-100 cursor-pointer rounded-md",children:[(0,d.jsx)(G.Z,{icon:"CheckCircleSolidIcon",className:(0,p.AK)("w-5 h-5 text-indigo-700 transition-all ml-2 flex-shrink-0",e.id===u?"opacity-100":"opacity-0")}),(0,d.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.name})]})},"tone-".concat(n))}))]})]})})}),(0,d.jsxs)("div",{className:"flex items-center gap-3 px-12 pt-5 pb-12",children:[(0,d.jsx)("button",{className:"button auxiliary w-full",onClick:y,children:"Cancel"}),(0,d.jsx)(g.Z,{className:"button default w-full",onClick:N,children:"Regenerate"})]})]})})]})})})}var Bt,Ot=t(42394),Rt=t(70686),Dt=t(83454),Ft=$n()((function(){return t.e(7786).then(t.bind(t,67040))}),{loadableGenerated:{webpack:function(){return[67040]}},loading:function(){return""},ssr:!0}),Wt=$n()((function(){return t.e(4969).then(t.bind(t,54969))}),{loadableGenerated:{webpack:function(){return[54969]}},loading:function(){return""},ssr:!0}),Lt=$n()((function(){return t.e(2426).then(t.bind(t,42426))}),{loadableGenerated:{webpack:function(){return[42426]}},loading:function(){return""},ssr:!0}),zt=$n()((function(){return t.e(2659).then(t.bind(t,12659))}),{loadableGenerated:{webpack:function(){return[12659]}},loading:function(){return""},ssr:!0}),Mt=$n()((function(){return Promise.all([t.e(6235),t.e(9413)]).then(t.bind(t,59413))}),{loadableGenerated:{webpack:function(){return[59413]}},loading:function(){return""},ssr:!0}),Gt=$n()((function(){return t.e(1443).then(t.bind(t,31443))}),{loadableGenerated:{webpack:function(){return[31443]}},loading:function(){return""},ssr:!0}),Kt=$n()((function(){return t.e(6388).then(t.bind(t,96388))}),{loadableGenerated:{webpack:function(){return[96388]}},loading:function(){return""},ssr:!0}),Ht=$n()((function(){return Promise.all([t.e(6235),t.e(9455)]).then(t.bind(t,9455))}),{loadableGenerated:{webpack:function(){return[9455]}},loading:function(){return""},ssr:!0}),Vt=$n()((function(){return Promise.all([t.e(6235),t.e(932)]).then(t.bind(t,90932))}),{loadableGenerated:{webpack:function(){return[90932]}},loading:function(){return""},ssr:!0}),$t=$n()((function(){return t.e(7647).then(t.bind(t,27647))}),{loadableGenerated:{webpack:function(){return[27647]}},loading:function(){return""},ssr:!0}),Ut=$n()((function(){return Promise.resolve().then(t.bind(t,66572))}),{loadableGenerated:{webpack:function(){return[66572]}},loading:function(){return""},ssr:!0}),qt=$n()((function(){return t.e(378).then(t.bind(t,90378))}),{loadableGenerated:{webpack:function(){return[90378]}},loading:function(){return""},ssr:!0}),Xt=$n()((function(){return Promise.all([t.e(6235),t.e(8007)]).then(t.bind(t,68007))}),{loadableGenerated:{webpack:function(){return[68007]}},loading:function(){return""},ssr:!0}),Jt=$n()((function(){return t.e(5965).then(t.bind(t,45965))}),{loadableGenerated:{webpack:function(){return[45965]}},loading:function(){return""},ssr:!0}),Yt=$n()((function(){return Promise.all([t.e(6235),t.e(6289)]).then(t.bind(t,76289))}),{loadableGenerated:{webpack:function(){return[76289]}},loading:function(){return""},ssr:!0}),Qt=$n()((function(){return t.e(5558).then(t.bind(t,65558))}),{loadableGenerated:{webpack:function(){return[65558]}},loading:function(){return""},ssr:!0}),ei=$n()((function(){return Promise.all([t.e(6235),t.e(1025)]).then(t.bind(t,41025))}),{loadableGenerated:{webpack:function(){return[41025]}},loading:function(){return""},ssr:!0}),ni=$n()((function(){return Promise.all([t.e(696),t.e(9874),t.e(3306),t.e(4743)]).then(t.bind(t,24743))}),{loadableGenerated:{webpack:function(){return[24743]}},loading:function(){return""},ssr:!0}),ti=$n()((function(){return Promise.all([t.e(696),t.e(9874),t.e(9081)]).then(t.bind(t,79081))}),{loadableGenerated:{webpack:function(){return[79081]}},loading:function(){return""},ssr:!0}),ii=$n()((function(){return Promise.all([t.e(3306),t.e(6616)]).then(t.bind(t,56616))}),{loadableGenerated:{webpack:function(){return[56616]}},loading:function(){return""},ssr:!0}),oi=$n()((function(){return Promise.all([t.e(696),t.e(4544),t.e(4533)]).then(t.bind(t,4533))}),{loadableGenerated:{webpack:function(){return[4533]}},loading:function(){return""},ssr:!0}),li=$n()((function(){return t.e(3143).then(t.bind(t,3143))}),{loadableGenerated:{webpack:function(){return[3143]}},loading:function(){return""},ssr:!0}),si=$n()((function(){return t.e(3521).then(t.bind(t,13521))}),{loadableGenerated:{webpack:function(){return[13521]}},loading:function(){return""},ssr:!0}),ai=$n()((function(){return t.e(4417).then(t.bind(t,14417))}),{loadableGenerated:{webpack:function(){return[14417]}},loading:function(){return""},ssr:!0}),ri=$n()((function(){return t.e(6855).then(t.bind(t,66855))}),{loadableGenerated:{webpack:function(){return[66855]}},loading:function(){return""},ssr:!0}),ci=$n()((function(){return Promise.all([t.e(6235),t.e(5973)]).then(t.bind(t,85973))}),{loadableGenerated:{webpack:function(){return[85973]}},loading:function(){return""},ssr:!0}),di=$n()((function(){return t.e(2825).then(t.bind(t,92825))}),{loadableGenerated:{webpack:function(){return[92825]}},loading:function(){return""},ssr:!0}),ui=$n()((function(){return Promise.all([t.e(6235),t.e(646)]).then(t.bind(t,40646))}),{loadableGenerated:{webpack:function(){return[40646]}},loading:function(){return""},ssr:!0}),vi=$n()((function(){return t.e(3755).then(t.bind(t,13755))}),{loadableGenerated:{webpack:function(){return[13755]}},loading:function(){return""},ssr:!0}),mi=$n()((function(){return t.e(4216).then(t.bind(t,64216))}),{loadableGenerated:{webpack:function(){return[64216]}},loading:function(){return""},ssr:!0}),fi=$n()((function(){return t.e(9164).then(t.bind(t,39164))}),{loadableGenerated:{webpack:function(){return[39164]}},loading:function(){return""},ssr:!0}),hi=$n()((function(){return t.e(6492).then(t.bind(t,66492))}),{loadableGenerated:{webpack:function(){return[66492]}},loading:function(){return""},ssr:!0}),pi=$n()((function(){return t.e(1644).then(t.bind(t,11644))}),{loadableGenerated:{webpack:function(){return[11644]}},loading:function(){return""},ssr:!0}),xi=$n()((function(){return t.e(2194).then(t.bind(t,32194))}),{loadableGenerated:{webpack:function(){return[32194]}},loading:function(){return""},ssr:!0}),gi=$n()((function(){return t.e(187).then(t.bind(t,10187))}),{loadableGenerated:{webpack:function(){return[10187]}},loading:function(){return""},ssr:!0}),bi=$n()((function(){return t.e(4745).then(t.bind(t,24745))}),{loadableGenerated:{webpack:function(){return[24745]}},loading:function(){return""},ssr:!0}),wi=$n()((function(){return t.e(1427).then(t.bind(t,61427))}),{loadableGenerated:{webpack:function(){return[61427]}},loading:function(){return""},ssr:!0}),yi=!0;function ji(){var e,n,t,m,f,h,g,b,w=function(e,n){n||(n=we.find((function(e){return e.id===fe.id})));var t=n&&(null===n||void 0===n?void 0:n.blocks)?(0,p.p$)(n.blocks):null;if(t){var o=t.shift(),l=t.pop();e.push((0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,qi("/website/save-header-and-footer-blocks",{idPage:n.id,header:o,footer:l,wipeCache:!1})];case 1:if(null===(e=t.sent())||void 0===e?void 0:e.status)return[2,!0];throw e.message}}))}))),e.push((0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,qi("/website/save-social",{social:re,wipeCache:!1})];case 1:if(null===(e=n.sent())||void 0===e?void 0:e.status)return[2,!0];throw e.message}}))})));var s=t;e.push((0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,qi("/website/save-blocks",{idPage:n.id,blocks:s,wipeCache:!1})];case 1:if(null===(e=t.sent())||void 0===e?void 0:e.status)return[2,!0];throw e.message}}))})))}return n},y=(0,p.ac)("(min-width: 1024px)"),j=(0,v.useState)(!1),N=j[0],k=j[1],Z=(0,v.useState)(!1),C=Z[0],S=Z[1],E=(0,v.useState)(!1),I=E[0],T=E[1],P=(0,v.useState)(!1),A=P[0],B=P[1],R=(0,v.useState)((0,p.tl)("business.config")),M=R[0],G=R[1],K=(0,v.useState)(null),H=K[0],U=K[1],q=(0,v.useState)((0,p.tl)("pages")),ie=q[0],oe=q[1],le=(0,a.Z)((0,gn.Z)("website-social",{}),2),re=le[0],ce=le[1],de=(0,v.useState)(!0),ue=de[0],ve=de[1],me=(0,v.useState)(ie?ie[0]:null),fe=me[0],he=me[1],pe=(0,v.useState)("desktop"),ge=(pe[0],pe[1]),be=(0,v.useState)([]),we=be[0],ke=be[1],Ce=(0,v.useState)(null),Se=Ce[0],Te=Ce[1],Pe=(0,v.useState)(!1),Ae=Pe[0],Be=Pe[1],Oe=(0,v.useState)(!1),Re=Oe[0],De=Oe[1],Fe=(0,v.useState)(!1),We=Fe[0],Le=Fe[1],ze=(0,v.useState)(!1),Me=ze[0],Ge=ze[1],Ke=(0,v.useState)(!1),He=Ke[0],Ve=Ke[1],$e=(0,v.useState)(!1),Ue=$e[0],qe=$e[1],Xe=(0,v.useState)(!1),Je=Xe[0],Ye=Xe[1],Qe=(0,v.useState)(!1),nn=Qe[0],tn=Qe[1],ln=(0,v.useState)(!1),sn=ln[0],rn=ln[1],cn=(0,v.useState)(!1),dn=cn[0],un=cn[1],vn=(0,v.useState)(!1),mn=(vn[0],vn[1]),fn=(0,v.useState)(0),hn=fn[0],pn=fn[1],xn=(0,a.Z)((0,gn.Z)("websiteBuilder.paywall",""),2),bn=xn[0],jn=xn[1],Cn=(0,v.useState)(!1),Sn=Cn[0],En=Cn[1],In=(0,v.useState)(!1),An=In[0],Bn=In[1],On=(0,v.useState)(!1),Rn=On[0],Dn=On[1],Fn=(0,v.useState)(!1),Wn=Fn[0],Ln=Fn[1],zn=(0,v.useState)(!1),Mn=(zn[0],zn[1]),Gn=(0,v.useState)(!1),Kn=Gn[0],Vn=Gn[1],$n=(0,v.useState)(null),Un=$n[0],qn=$n[1],Xn=(0,v.useState)(!1),Yn=Xn[0],Qn=Xn[1],et=(0,v.useState)(!1),ot=et[0],lt=et[1],st=(0,v.useState)(!1),at=st[0],rt=st[1],ct=(0,v.useState)(!1),dt=ct[0],ut=ct[1],vt=(0,v.useState)(null),mt=vt[0],ft=vt[1],ht=(0,v.useState)(0),pt=(ht[0],ht[1]),xt=(0,v.useState)(0),gt=(xt[0],xt[1]),wt=(0,v.useState)(!1),yt=wt[0],Nt=wt[1],kt=(0,v.useState)(!1),Ct=kt[0],_t=kt[1],Et=(0,v.useState)(!1),It=(Et[0],Et[1]),Tt=(0,v.useState)([]),Pt=Tt[0],yi=Tt[1],ji=(0,a.Z)((0,gn.Z)("website:edit-blog-post-id",null),2),Ni=(ji[0],ji[1]),ki=(0,v.useState)(!1),Zi=ki[0],Ci=ki[1],_i=(0,v.useState)([]),Si=_i[0],Ei=_i[1],Ii=(0,v.useState)(null),Ti=Ii[0],Pi=Ii[1],Ai=(0,v.useState)([]),Bi=Ai[0],Oi=Ai[1],Ri=(0,v.useState)({active:!1,device:"desktop"}),Di=Ri[0],Fi=Ri[1],Wi=(0,v.useState)(null),Li=Wi[0],zi=Wi[1],Mi=(0,V.useSession)().data,Gi=(0,yn.Z)(mt),Ki=Gi.generateBlock,Hi=Gi.chooseTemplate,Vi=(Gi.generateLoadingLabel,(0,L.useRouter)()),$i=(0,x.Z)(),Ui=$i.get,qi=$i.post,Xi=($i.remove,(0,ae.Z)().post),Ji=(0,ne.Z)(),Yi=Ji.confirm,Qi=Ji.ConfirmDialog,eo=(0,ne.Z)(),no=eo.confirm,to=eo.ConfirmDialog,io=(0,ne.Z)(),oo=io.confirm,lo=io.ConfirmDialog,so=(0,ne.Z)(),ao=so.confirm,ro=so.ConfirmDialog,co=(0,ne.Z)(),uo=co.confirm,vo=co.ConfirmDialog,mo=wn(),fo=mo.confirm,ho=mo.ConfirmDialog,po=(0,ne.Z)(),xo=po.confirm,go=po.ConfirmDialog,bo=(0,v.useRef)(null),wo=(0,v.useState)(""),yo=wo[0],jo=wo[1],No=(0,v.useState)(0),ko=No[0],Zo=No[1],Co=(0,v.useState)(!1),_o=Co[0],So=Co[1],Eo=(0,v.useState)(!1),Io=Eo[0],To=Eo[1],Po=(0,v.useState)(!1),Ao=Po[0],Bo=Po[1],Oo=(0,v.useState)(!1),Ro=Oo[0],Do=Oo[1],Fo=(0,v.useState)(!1),Wo=Fo[0],Lo=Fo[1],zo=(0,v.useState)(null===(e=Vi.query)||void 0===e?void 0:e.routerAction),Mo=zo[0],Go=zo[1],Ko=(0,v.useState)(!1),Ho=Ko[0],Vo=Ko[1],$o=(0,v.useState)({website:{},page:{},selectedPageId:null}),Uo=$o[0],qo=$o[1],Xo=(0,a.Z)((0,gn.Z)("month-posts-count",0),2),Jo=(Xo[0],Xo[1]),Yo=(0,v.useState)(!1),Qo=Yo[0],el=Yo[1],nl=(0,v.useState)(!1),tl=nl[0],il=nl[1],ol=(0,te.S)(),ll=ol.openSupport,sl=ol.closeSupport,al=ol.isOpenSupport;!function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).shouldWarn,n=(0,L.useRouter)();(0,v.useEffect)((function(){var t=function(n){if(e){var t="You have unsaved changes. Are you sure you want to leave?";return n.returnValue=t,t}},i=function(){if(e&&!confirm("You have unsaved changes. Are you sure you want to leave?"))throw n.events.emit("routeChangeError"),"routeChange aborted."};return window.addEventListener("beforeunload",t),n.events.on("routeChangeStart",i),function(){window.removeEventListener("beforeunload",t),n.events.off("routeChangeStart",i)}}),[e,n.events])}({shouldWarn:C&&!bn});var rl=(0,v.useState)([]),cl=(rl[0],rl[1]),dl=(0,v.useState)(null),ul=dl[0],vl=dl[1],ml=(0,a.Z)((0,gn.Z)("website:inline-edit",null,!1),2),fl=(ml[0],ml[1]),hl=(0,a.Z)((0,gn.Z)("support.modal",!1),2)[1],pl=(0,a.Z)((0,gn.Z)("afterUpgrade"),2),xl=pl[0],gl=pl[1],bl=(0,v.useState)(null),wl=bl[0],yl=bl[1],jl=(0,v.useState)(!1),Nl=(jl[0],jl[1]),kl=(0,v.useState)(!1),Zl=kl[0],Cl=kl[1],_l=(0,v.useState)(!1),Sl=_l[0],El=_l[1],Il=(0,v.useState)(!1),Tl=Il[0],Pl=Il[1],Al=(0,v.useState)(null),Bl=(Al[0],Al[1],(0,v.useState)(!1)),Ol=Bl[0],Rl=Bl[1],Dl=(0,a.Z)((0,gn.Z)("website:inline-edit-disabled",!1),2)[1],Fl=(0,a.Z)((0,gn.Z)("seo-keywords-modal",!1),2),Wl=Fl[0],Ll=Fl[1],zl="blog"===(null===fe||void 0===fe?void 0:fe.type),Ml=null===we||void 0===we?void 0:we.find((function(e){return e.id===(null===fe||void 0===fe?void 0:fe.id)})),Gl=(0,$.Z)().track,Kl=function(){var e=(0,i.Z)((function(e){var n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return[4,Ui("/business/get-config")];case 1:return(n=t.sent())&&!0===n.status&&n.content&&((0,p.Fs)("business.config",n.content),G(n.content),e&&e(n.content)),e&&e(M),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Hl=function(){var e=(0,i.Z)((function(){var e,n,t,i,o,a,r,d,v,m,f,h,x,g,b,w,y,j,N,k;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return[4,Ui("/website/get",{populate:!0,withOfficeLocation:!0})];case 1:return(e=c.sent())&&!0===e.status&&e.content?(b=null===(n=e.content)||void 0===n||null===(t=n.Business)||void 0===t||null===(i=t.settings)||void 0===i?void 0:i.ai,(null===(w=(0,s.Z)((0,l.Z)({},e.content),{business:{name:null===(o=e.content)||void 0===o||null===(a=o.Business)||void 0===a?void 0:a.name,vertical:(0,kn.xk)(null===(r=e.content)||void 0===r?void 0:r.Business),location:(0,Zn.P)({office:{address:null===(d=e.content)||void 0===d?void 0:d.completeLocation}}),language:(0,u.YJ)(null===(v=e.content)||void 0===v?void 0:v.Business),categories:null===(m=e.content)||void 0===m||null===(f=m.Business)||void 0===f?void 0:f.categories,description:null===b||void 0===b?void 0:b.description,services:null===b||void 0===b?void 0:b.services,imageQuery:null===b||void 0===b?void 0:b.imageQuery,llmQuery:null===b||void 0===b?void 0:b.llmQuery}}))||void 0===w||null===(h=w.business)||void 0===h?void 0:h.categories)?[3,3]:(y=w.business,[4,(0,kn.RS)(Ui,w.business.vertical)])):[3,9];case 2:y.categories=c.sent(),qi("/business/save-categories",{categories:w.business.categories}),c.label=3;case 3:return(null===w||void 0===w||null===(x=w.business)||void 0===x?void 0:x.imageQuery)||(null===w||void 0===w||null===(g=w.business)||void 0===g?void 0:g.llmQuery)?[3,5]:[4,(0,kn.m2)(Ui,w.business.vertical)];case 4:j=c.sent(),N=j.imageQuery,k=j.llmQuery,w.business.imageQuery=N,w.business.llmQuery=k,b&&(b.imageQuery=N,b.llmQuery=k,qi("/business/save-settings",{path:"ai",value:b})),c.label=5;case 5:return ft((0,p.p$)(w)),"disabled"!==w.status?[3,7]:[4,Vi.push("/website/settings")];case 6:return c.sent(),[3,8];case 7:w&&!w.generatedAt&&w.generate&&(console.log("Website not generated yet. Generating..."),Mn(!0)),c.label=8;case 8:return(0,p.Fs)("website",w),U((0,p.p$)(w)),qo((function(e){return(0,s.Z)((0,l.Z)({},e),{website:w})})),[2,w];case 9:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),Vl=function(){var e=(0,i.Z)((function(e){var n,t,i,o,a;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return k(!0),[4,(0,Rt.K)(Ui).catch(console.log)];case 1:return(n=r.sent())&&!0===n.status&&n.content?(t=n.content.map((function(e){return(0,s.Z)((0,l.Z)({},e),{id:e._id,name:e.label,fromTemplate:(null===e||void 0===e?void 0:e.fromTemplate)||null})})),(0,p.Fs)("pages",t),oe(t),i=n.content.map((function(e){return{id:e._id,slug:e.slug,blocks:F(e.blocks),type:e.type,label:e.label}})),ke(i),(o=n.content.find((function(e){return"blog"===e.type})))&&(0,p.Fs)("website.blog",{id:o._id,hasPosts:o.hasPosts,block:o.blocks.find((function(e){return"blog"===e.WebsiteBlock.type})),label:o.label}),e?(he(t.find((function(n){return n.id===e}))),os(i.find((function(n){return n.id===e})))):((a=n.content.find((function(e){return e.default&&null===e.slug})))||(a=n.content.find((function(e){return"parent"!==e.type}))),he(t.find((function(e){return e.id===a._id}))),os(i.find((function(e){return e.id===a._id})))),k(!1),[2,{pagesMapped:i,pages:t}]):[2]}}))}));return function(n){return e.apply(this,arguments)}}(),$l=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,Ui("/website/count-blog-posts-this-month").catch(console.log)];case 1:return(e=n.sent())&&!0===e.status&&e.content&&Jo(e.content),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Ul=function(){var e=(0,i.Z)((function(e){var n,t,i,o,l,s,a,r=arguments;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],[4,qi("/website/add-external-block",{block:e,websiteId:H._id})];case 1:return(t=c.sent())&&!0===(null===t||void 0===t?void 0:t.status)&&(null===t||void 0===t?void 0:t.content)&&((null===(i=t.content)||void 0===i?void 0:i.externalId)?(e.editorUrl=null===(o=t.content)||void 0===o?void 0:o.editorUrl,e.embedCode=null===(l=t.content)||void 0===l?void 0:l.embedCode,e.externalId=null===(s=t.content)||void 0===s?void 0:s.externalId,"common-ninja"===(null===(a=t.content)||void 0===a?void 0:a.source)&&n&&(Do(!0),Te(e))):p.Z9.error("Error while adding your block! Try again later.")),[2,e]}}))}));return function(n){return e.apply(this,arguments)}}(),ql=function(){var e=(0,i.Z)((function(e){var n,t,i,o=arguments;return(0,c.__generator)(this,(function(l){switch(l.label){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],t=o.length>2&&void 0!==o[2]?o[2]:"builder_publish_cta",n&&tn(!0),e?[4,qi("/website/toggle-status",{status:"public",location:t})]:[3,2];case 1:if(!(null===(i=l.sent())||void 0===i?void 0:i.status))return p.Z9.error("Error while publishing your website! Try again later."),It(!1),[2];(0,on.o)("survicate-website-published",window),l.label=2;case 2:return[4,Hl()];case 3:return l.sent(),setTimeout((function(){Ye(!0)}),2e3),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Xl=function(){var e,n,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&C?xo("Save changes?","Save your changes to ".concat(o?"preview":"publish"," your website"),(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return[4,es()];case 1:return e.sent(),[4,(0,p._v)(1500)];case 2:return e.sent(),Xl(!1,o),[2]}}))})),(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return[2]}))}))):"free"===(null===Mi||void 0===Mi||null===(e=Mi.user)||void 0===e||null===(n=e.plan)||void 0===n?void 0:n.priceId)?o?(Gl("website:previewed",{}),el(o),De(!0)):(""===(null===H||void 0===H?void 0:H.customDomain)&&(null===H||void 0===H||H.externalDomain),Gl("account:paywall_trigger_clicked",{context:"publish_flow_top_nav"}),jn("publish")):o?(Yl(),Gl("website:previewed",{})):""===(null===H||void 0===H?void 0:H.customDomain)&&""===(null===H||void 0===H?void 0:H.externalDomain)?(zi("builder_publish_cta"),Pl(!0)):ql(!0)},Jl=function(){var e,n="active"!==(null===Mi||void 0===Mi||null===(e=Mi.user)||void 0===e?void 0:e.subscriptionStatus)||"private"===(null===H||void 0===H?void 0:H.status)?"?pt=".concat((0,u.lQ)(null===H||void 0===H?void 0:H._id)):"",t=(0,p.lz)(H),i=t.includes(":7000")?"http://":"https://",o="".concat(i).concat(t),l=null===ie||void 0===ie?void 0:ie.find((function(e){return e.id===(null===fe||void 0===fe?void 0:fe.id)})),s="";if("nested"===(null===l||void 0===l?void 0:l.type)){var a=null===ie||void 0===ie?void 0:ie.find((function(e){return e.id===(null===l||void 0===l?void 0:l.Parent)}));(null===a||void 0===a?void 0:a.slug)&&(s="/".concat(a.slug))}var r=(null===l||void 0===l?void 0:l.slug)?"/".concat(l.slug):"",c=(null===Un||void 0===Un?void 0:Un.published)&&(null===Un||void 0===Un?void 0:Un.slug)?"/".concat(Un.slug):"";return"".concat(o).concat(s).concat(r).concat(c).concat(n)},Yl=function(){H&&window.open(Jl(),"_blank")},Ql=(function(){var e=(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return[4,Hl().then((function(e){"public"===(null===e||void 0===e?void 0:e.status)&&((null===e||void 0===e?void 0:e.externalDomain)||(null===e||void 0===e?void 0:e.customDomain))&&Yi("Website published!",(0,d.jsxs)(d.Fragment,{children:[(null===e||void 0===e?void 0:e.externalDomain)&&(0,d.jsxs)("div",{children:["Your custom domain name ",(0,d.jsx)("span",{className:"font-bold",children:null===e||void 0===e?void 0:e.externalDomain})," will be ready soon. This process usually takes around 15 minutes but can take up to a few hours."]}),(null===e||void 0===e?void 0:e.customDomain)&&(0,d.jsxs)("div",{children:["Your linked domain ",(0,d.jsx)("span",{className:"font-bold",children:null===e||void 0===e?void 0:e.customDomain})," will be ready soon. You'll need to change your DNS records with your registrar to complete this process. ",(0,d.jsx)(Ee(),{href:"https://help.durable.co/en/articles/8482657-connect-an-existing-domain-with-entri",children:(0,d.jsx)("a",{className:"link",target:"_blank",children:"Learn more"})})]})]}))}))];case 1:return e.sent(),[2]}}))}))}(),function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return w(e=[]),k(!0),[4,Ql(e)];case 1:return n.sent()&&(p.Z9.success("Website is live!"),k(!1),S(!1),Be(!1)),[2]}}))}))}(),function(){var e=(0,i.Z)((function(e){var n,t,i,o,l,s,a,r;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:n=!0,t=!1,i=void 0,c.label=1;case 1:c.trys.push([1,9,10,11]),o=e[Symbol.iterator](),c.label=2;case 2:if(n=(l=o.next()).done)return[3,8];s=l.value,c.label=3;case 3:return c.trys.push([3,6,,7]),[4,s()];case 4:return c.sent(),[4,(0,p._v)(250)];case 5:return c.sent(),[3,7];case 6:return a=c.sent(),p.Z9.error("Error while saving your website! Try again later.".concat(a)),k(!1),[2,!1];case 7:return n=!0,[3,2];case 8:return[3,11];case 9:return r=c.sent(),t=!0,i=r,[3,11];case 10:try{n||null==o.return||o.return()}finally{if(t)throw i}return[7];case 11:return[2,!0]}}))}));return function(n){return e.apply(this,arguments)}}()),es=function(){var e=(0,i.Z)((function(e){var n,t,o,l;return(0,c.__generator)(this,(function(s){switch(s.label){case 0:return e=w(t=[],e),o={favicon:H.favicon,fonts:H.fonts,button:H.button,idWebsite:null===(n=H.template)||void 0===n?void 0:n.Website,widgets:H.widgets,animation:H.animation,cornerRadius:H.cornerRadius},H.noPaletteSupport||(o.buttons=H.buttons,o.palette=H.colorPalette),H.generatedAt&&!H.generate&&function(e){e&&Uo.website&&((0,p.wE)(e.palette,Uo.website.colorPalette)&&Gl("editor:colors_applied"),(0,p.wE)(e.fonts,Uo.website.fonts)&&Gl("editor:fonts_applied"),(0,p.wE)(e.buttons,Uo.website.buttons)&&Gl("editor:buttons_applied"),(0,p.wE)(e.cornerRadius,Uo.website.cornerRadius)&&Gl("editor:other_styles_corners_applied"),(0,p.wE)(e.animation,Uo.website.animation)&&Gl("editor:other_styles_animation_applied"),(0,p.wE)(e.favicon,Uo.website.favicon)&&Gl("editor:other_styles_favicon_applied"))}(o),t.push((0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,qi("/website/save",o)];case 1:if(null===(e=n.sent())||void 0===e?void 0:e.status)return[2,!0];throw e.message}}))}))),k(!0),[4,Ql(t)];case 1:return s.sent()?("public"===H.status?p.Z9.success("Website is live!"):p.Z9.success("Website saved!"),delete e.addBlockPosition,delete e.clearGenerating,De(!1),k(!1),Fs(!1),Le(!1),Bo(!1),Be(!1),qo({website:(0,p.p$)(H),page:(0,p.p$)(e),selectedPageId:null===e||void 0===e?void 0:e.id}),[4,Vl(e.id)]):[3,3];case 2:l=s.sent().pagesMapped,Rs(e.id,l),s.label=3;case 3:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),ns=function(e){Gl("editor:home"),window.self!==window.top?window.top.postMessage({event:"builder-exit"},"*"):Vi.push(e||"/website/dashboard")},ts=function(e){zl?_s(ul):C?ao("Discard changes and exit?","Are you sure you want to exit the editor without saving? Any unsaved changes will be discarded.",(0,i.Z)((function(){return(0,c.__generator)(this,(function(n){return ns(e),[2]}))}))):ns(e)},is=function(e){B(!e)},os=function(){var e=(0,i.Z)((function(e){return(0,c.__generator)(this,(function(n){return window.websitePage=(0,p.p$)(e),window.dispatchEvent(new CustomEvent("website-builder-page-changed")),[2]}))}));return function(n){return e.apply(this,arguments)}}(),ls=function(e){for(var n,t=0;t<(null===e||void 0===e||null===(n=e.blocks)||void 0===n?void 0:n.length);t++)e.blocks[t].idx=t;var i=(0,p.p$)(we),o=i.findIndex((function(n){return n.id===e.id}));-1!==o&&JSON.stringify(i[o])!==JSON.stringify(e)&&(i[o]=(0,p.p$)(e),ke(i)),os(e).catch(console.log)},ss=function(){var e=(0,i.Z)((function(e){return(0,c.__generator)(this,(function(n){return window.social=e.items,window.socialSettings=e.settings,U((function(n){return(0,s.Z)((0,l.Z)({},n),{social:e.items,socialSettings:e.settings})})),window.dispatchEvent(new CustomEvent("website-builder-social-changed")),[2]}))}));return function(n){return e.apply(this,arguments)}}(),as=function(){var e=(0,i.Z)((function(e){var n;return(0,c.__generator)(this,(function(t){return n={favicon:e.favicon,fonts:e.fonts,button:e.button,buttons:e.buttons,colorPalette:e.colorPalette,animation:e.animation,cornerRadius:e.cornerRadius},window.styles=n,e.migratePalette&&(n.noPaletteSupport=!1,n.migratePalette=!0),U((function(e){return(0,l.Z)({},e,n)})),window.dispatchEvent(new CustomEvent("website-builder-styles-changed")),[2]}))}));return function(n){return e.apply(this,arguments)}}(),rs=function(){var e=(0,i.Z)((function(e){return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,Vl(e)];case 1:return n.sent(),window.dispatchEvent(new CustomEvent("website-builder-changed")),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),cs=function(){var e=(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return[4,Ui("/website/get-blocks").catch(console.log)];case 1:return(e=n.sent())&&!0===e.status&&e.content&&yi(e.content),[2]}}))}));return function(){return e.apply(this,arguments)}}(),ds=function(){var e=(0,i.Z)((function(e,n){var t,i,o;return(0,c.__generator)(this,(function(l){switch(l.label){case 0:return Dn(!0),i=null!==n&&void 0!==n?n:ko,So(!1),void 0===(o=(0,p.p$)(window.websitePage)).blocks&&(o.blocks=[]),e={type:e.type,idx:i,WebsiteBlock:e,generating:"block"},o.blocks.splice(i,0,e),o.addBlockPosition=i,window.scrollToBlock=e.idx,window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block")),"durable"!==(null===e||void 0===e||null===(t=e.WebsiteBlock)||void 0===t?void 0:t.source)?[3,2]:(ls(o),[4,Ki(e,void 0,void 0,wl)]);case 1:return e=l.sent(),e=(0,u.$z)(e,o),[3,4];case 2:return[4,Ul(e)];case 3:l.sent(),l.label=4;case 4:return delete e.generating,o.blocks[e.idx]=e,o.clearGenerating=!0,ls(o),window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block")),Dn(!1),(0,u.n2)(e)&&(Te(e),Be(!0)),[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),us=function(){var e=(0,i.Z)((function(e){return(0,c.__generator)(this,(function(n){return window.updatedWidgets=e,window.dispatchEvent(new CustomEvent("handle-widgets-change")),[2]}))}));return function(n){return e.apply(this,arguments)}}(),vs=function(){var e=(0,i.Z)((function(e){var n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return k(!0),To(!1),"durable"!==(null===(e={type:e.type,idx:ko,WebsiteBlock:e,generating:"block"})||void 0===e||null===(n=e.WebsiteBlock)||void 0===n?void 0:n.source)?[3,2]:[4,Ki(e,void 0,void 0,wl)];case 1:return t.sent(),il(!0),Te(e),Lo(!0),[3,4];case 2:return[4,Ul(e)];case 3:t.sent(),U((function(n){var t=(null===n||void 0===n?void 0:n.widgets)?(0,r.Z)(n.widgets).concat([e]):[e];return us(t),(0,s.Z)((0,l.Z)({},n),{widgets:t})})),t.label=4;case 4:return k(!1),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),ms=function(){var e=(0,i.Z)((function(e,n,t,i,o){var l,s;return(0,c.__generator)(this,(function(a){switch(a.label){case 0:return"durable"!==(null===n||void 0===n||null===(l=n.WebsiteBlock)||void 0===l?void 0:l.source)?[3,2]:[4,Ki(n,t,o,wl,i)];case 1:return n=a.sent(),[3,3];case 2:n=t,a.label=3;case 3:return n.idx===e.blocks.length&&(s=e.blocks[n.idx],e.blocks[n.idx+1]=s),e.blocks[n.idx]=n,e.clearGenerating=!0,ls(e),[2]}}))}));return function(n,t,i,o,l){return e.apply(this,arguments)}}(),fs=function(e,n){var t=e.blocks[e.blocks.length-1],i=1,o=!0,a=!1,r=void 0;try{for(var c,d=function(){var n=c.value,t={type:n.type,WebsiteBlock:Pt.find((function(e){var t;return e.type===(null===(t=n.WebsiteBlock)||void 0===t?void 0:t.type)})),idx:i};e.blocks[i]=(0,s.Z)((0,l.Z)({},t),{generating:"block"}),i++},u=n.blocks[Symbol.iterator]();!(o=(c=u.next()).done);o=!0)d()}catch(v){a=!0,r=v}finally{try{o||null==u.return||u.return()}finally{if(a)throw r}}e.blocks.push(t),ls(e)},hs=function(){var e=(0,i.Z)((function(e){var n,t,i,o,a;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return console.log("Generating page..."),(null===e||void 0===e||null===(n=e.blocks)||void 0===n?void 0:n.length)>0&&Fs(!0),window.marsUsedPictures=[],t=we.find((function(e){return null===e.slug})),i=(0,p.p$)(window.websitePage),ls(i),gt(e.blocks.length+1),fs(i,e),o=[],i.blocks.forEach((function(n,a){if(0!==a&&a!==i.blocks.length-1){var r=(0,u.cq)(t,e.blocks[a-1],e.type),c=null;"service"===e.type&&(c=e.label),o.push(ms(i,i.blocks[a],(0,s.Z)((0,l.Z)({},e.blocks[a-1]),{pageType:e.type,serviceName:c}),r).then((function(){pt((function(e){return e+1}))})))}})),[4,Promise.all(o)];case 1:return r.sent(),i.blocks.forEach((function(e,n){var t;"durable"===(null===(t=e.WebsiteBlock)||void 0===t?void 0:t.source)&&(e=(0,u.$z)(e,i)),i.blocks[n]=e})),Nt(!0),Fs(!1),[4,es(i)];case 2:return r.sent(),[4,Vl(i.id)];case 3:return a=r.sent().pagesMapped,Rs(i.id,a),pt((function(e){return e+1})),[4,Vi.replace("/website/builder",null,{shallow:!1})];case 4:return r.sent(),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),ps=function(){var e=(0,i.Z)((function(){var e,n,t,i,o,l,s,a;return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return console.log("Regenerating page..."),Fs(!0),window.marsUsedPictures=[],e=(0,p.p$)(window.websitePage),n=null,e.slug?((n={}).blocks=e.blocks.filter((function(e){return null===e||void 0===e?void 0:e.type})),[3,3]):[3,1];case 1:return i=null===H||void 0===H||null===(t=H.template)||void 0===t?void 0:t.Website,[4,Hi(i)];case 2:n=r.sent(),r.label=3;case 3:return o=e.blocks[0],l=e.blocks[e.blocks.length-1],e.slug?[3,6]:[4,Ki(o,n.header,void 0,wl)];case 4:return o=r.sent(),[4,Ki(l,n.footer,void 0,wl)];case 5:l=r.sent(),(o.socialSettings||l.socialSettings)&&ss({items:null===H||void 0===H?void 0:H.social,settings:o.socialSettings||l.socialSettings}),r.label=6;case 6:return e.blocks=[o,l],gt(n.blocks.length+1),fs(e,n),Ls({generatedAt:new Date,generate:!1}),s=[],e.blocks.forEach((function(t,i){0!==i&&i!==e.blocks.length-1&&s.push(ms(e,e.blocks[i],n.blocks[i-1]).then((function(){pt((function(e){return e+1}))})))})),[4,Promise.all(s)];case 7:return r.sent(),e.blocks.forEach((function(n,t){var i;"durable"===(null===(i=n.WebsiteBlock)||void 0===i?void 0:i.source)&&(n=(0,u.$z)(n,e)),e.blocks[t]=n})),Nt(!0),mt&&!mt.generatedAt&&mt.generate?[4,es(e)]:[3,10];case 8:return r.sent(),[4,Vl(e.id)];case 9:return a=r.sent().pagesMapped,Rs(e.id,a),Nl(!0),Gl("editor:generated"),[3,11];case 10:Gl("editor:page_regenerated",{slug:e.slug,id:e._id}),r.label=11;case 11:return pt((function(e){return e+1})),Fs(!1),[2]}}))}));return function(){return e.apply(this,arguments)}}(),xs=function(){var e=(0,i.Z)((function(){var e,n,t,o,l,s,a,r=arguments;return(0,c.__generator)(this,(function(d){switch(d.label){case 0:for(e=function(e){l.blocks[e].generating=n||"block",s.push(new Promise(function(){var t=(0,i.Z)((function(t,i){var o,s,a;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return"durable"!==(null===(s=l.blocks[e])||void 0===s||null===(o=s.WebsiteBlock)||void 0===o?void 0:o.source)?[3,2]:[4,Ki(s,null,n)];case 1:return a=i.sent(),[3,3];case 2:a=s,i.label=3;case 3:return l.blocks[e]=a,l.blocks[e].generating=null,ls(l),pt((function(e){return e+1})),t(),[2]}}))}));return function(e,n){return t.apply(this,arguments)}}()))},n=r.length>0&&void 0!==r[0]?r[0]:void 0,Fs(!0),l=(0,p.p$)(window.websitePage),console.log("Regenerating all blocks...",l),gt(null===l||void 0===l||null===(t=l.blocks)||void 0===t?void 0:t.length),s=[],a=0;a<(null===l||void 0===l||null===(o=l.blocks)||void 0===o?void 0:o.length);a++)e(a);return ls(l),[4,Promise.all(s)];case 1:return d.sent(),Fs(!1),ls(l),[2]}}))}));return function(){return e.apply(this,arguments)}}(),gs=function(){var e=(0,i.Z)((function(e,n){return(0,c.__generator)(this,(function(t){return U(e),as(e),ss({settings:null===e||void 0===e?void 0:e.socialSettings,items:Array.isArray(e.social)?e.social:[]}),us(e.widgets),n.blocks.forEach((function(e,t){var i;"durable"===(null===(i=e.WebsiteBlock)||void 0===i?void 0:i.source)&&(e=(0,u.$z)(e,n)),n.blocks[t]=e})),ls((0,s.Z)((0,l.Z)({},n),{blocks:[e.header].concat((0,r.Z)(n.blocks),[e.footer])})),[2]}))}));return function(n,t){return e.apply(this,arguments)}}(),bs=function(){To(!1),Lo(!1),De(!1),Le(!1),Bo(!1),Be(!1),Ge(!1),qe(!1),So(!1),Ve(!1),il(!1),Cl(!1),window.closeAllPanels=void 0},ws=function(e){},ys=function(e,n){Ss(e,null,n)},js=function(){bs(),Ge(!0)},Ns=function(){bs(),qe(!0)},ks=function(){var e=(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return Oi((0,r.Z)(Bi).concat([Ti])),Si.length>0?(n=(e=Si).pop(),Ei(e),setTimeout((0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return Pi(n),[2]}))})),1e3),[3,3]):[3,1];case 1:return[4,qi("/ai-workflows/mark-pages-as-created",{createdPages:(0,r.Z)(Bi).concat([Ti])})];case 2:t.sent(),Pi(null),t.label=3;case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),Zs=function(){var e=(0,i.Z)((function(){var e,n,t,i,o,l,s;return(0,c.__generator)(this,(function(a){switch(a.label){case 0:return i=null===M||void 0===M?void 0:M.business,[4,Xi("/ai/generate",{body:{prompt:"website-post-subjects",data:{vertical:(0,kn.xk)(i),quantity:5},output_language:null!==(o=null===M||void 0===M||null===(e=M.business)||void 0===e||null===(n=e.settings)||void 0===n||null===(t=n.ai)||void 0===t?void 0:t.language)&&void 0!==o?o:"en",stream:!1}})];case 1:return(l=a.sent())&&!0===(null===l||void 0===l?void 0:l.status)&&(null===l||void 0===l?void 0:l.content)&&(s=l.content[Math.floor(Math.random()*l.content.length)],setTimeout((function(){window.dispatchEvent(new CustomEvent("website-builder-post-create",{detail:{subject:s}}))}),500)),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Cs=function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return n=e.page,t=e.websitePage,"open-only"!==(i=e.pageTemplate)?[3,4]:(ls(t),he(n),"blog"!==Ti?[3,2]:[4,Zs()]);case 1:o.sent(),o.label=2;case 2:return[4,ks()];case 3:return o.sent(),[2];case 4:return qe(!1),[4,Vl(null===n||void 0===n?void 0:n._id)];case 5:return o.sent(),n&&i?[4,hs(i)]:[3,10];case 6:return o.sent(),"blog"!==Ti?[3,8]:[4,Zs()];case 7:o.sent(),o.label=8;case 8:return[4,ks()];case 9:o.sent(),o.label=10;case 10:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),_s=function(){var e=(0,i.Z)((function(e,n){var t,i;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return"blog"!==(null===fe||void 0===fe?void 0:fe.type)&&vl(null===fe||void 0===fe?void 0:fe.id),e?[3,3]:(t=null===we||void 0===we?void 0:we.find((function(e){return null===e.slug})),he(t),ls(t),(null===t||void 0===t?void 0:t.id)?[4,Vl(null===t||void 0===t?void 0:t.id)]:[3,2]);case 1:o.sent(),o.label=2;case 2:return[3,4];case 3:i=null===ie||void 0===ie?void 0:ie.find((function(n){return n.id===e})),he(i),ls(null===we||void 0===we?void 0:we.find((function(n){return n.id===e}))),n||Ge(!1),"blog"!==(null===i||void 0===i?void 0:i.type)&&(qn(null),lt(!1)),o.label=4;case 4:return[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),Ss=function(){var e=(0,i.Z)((function(e){var n,t,i,o,l,s=arguments;return(0,c.__generator)(this,(function(a){switch(a.label){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:null,t=s.length>2&&void 0!==s[2]&&s[2],zl?[3,6]:(i=null===(n=n||we)||void 0===n?void 0:n.find((function(e){return"blog"===e.type})))?(he(i),ls(null===n||void 0===n?void 0:n.find((function(e){return e.id===(null===i||void 0===i?void 0:i.id)}))),[3,6]):[3,1];case 1:return k(!0),[4,qi("/website/create-page",{slug:"blog",label:"Blog",showOnHeader:!0,type:"blog",seo:{title:"Blog"}}).catch(console.log)];case 2:return(o=a.sent())&&!0===o.status&&o.content?(l=o.content._id,[4,Vl(l)]):[3,4];case 3:return a.sent(),window.dispatchEvent(new CustomEvent("website-builder-page-created")),[3,5];case 4:p.Z9.error("Error creating the blog page, please try again. ".concat(o.message)),a.label=5;case 5:t&&Zs(),k(!1),a.label=6;case 6:return setTimeout((function(){window.dispatchEvent(new CustomEvent("website-builder-post-create",{detail:{subject:e}}))}),500),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Es=function(){var e=(0,i.Z)((function(e){var n;return(0,c.__generator)(this,(function(t){if("common-ninja"===(null===e||void 0===e||null===(n=e.WebsiteBlock)||void 0===n?void 0:n.source))Te(e),Do(!0);return[2]}))}));return function(n){return e.apply(this,arguments)}}(),Is=function(){rt(!0)},Ts=function(){ut(!0)},Ps=function(){Vo(!0),Le(!0)},As=function(){var e=setInterval((function(){(null===window||void 0===window?void 0:window.websitePage)&&(clearInterval(e),jo("social"),window.editBlock("header"))}),300)},Bs=function(){A||(Ae&&Be(!1),We&&Le(!1),Ao&&Bo(!1),Yn&&Qn(!1),Zl&&Cl(!1),Io&&To(!1),_o&&So(!1),Me&&Ge(!1),Ue&&qe(!1),He&&Ve(!1))},Os=function(e,n,t){switch(bs(),n){case"style":Le(!0),Bo(!1);break;case"widget":var i;Le(!1),(null===H||void 0===H?void 0:H.widgets)&&0!==(null===H||void 0===H||null===(i=H.widgets)||void 0===i?void 0:i.length)?(Bo(!0),Lo(!1)):To(!0);break;case"blocks":Cl(!0),Le(!1)}},Rs=function(e,n){var t=n.find((function(n){return n.id===e}));if(t){(0,p.$K)(t.type)||delete t.type;for(var i=0;i<t.blocks.length;i++)t.blocks[i].idx=i;qo((function(n){return(0,s.Z)((0,l.Z)({},n),{page:(0,p.p$)(t),selectedPageId:e})}))}},Ds=function(){ql(!0).catch((function(){}))},Fs=function(e){Ws(e),_t(e),k(e),It(e),Dn(e),gt(5),pt(0),B(e)},Ws=function(e){Dl(e),window.dispatchEvent(new CustomEvent("website-builder-actions-toggle",{detail:e}))},Ls=function(e){window.dispatchEvent(new CustomEvent("website-builder-changed",{detail:{update:e}}))};(0,v.useEffect)((function(){Ti&&function(e){if(Gl("editor:page_added",{type:e}),"website-post"===e)ys();else{if((null===ie||void 0===ie?void 0:ie.map((function(e){return(null===e||void 0===e?void 0:e.fromTemplate)||null}))).includes(e)){var n=null===ie||void 0===ie?void 0:ie.find((function(n){return(null===n||void 0===n?void 0:n.fromTemplate)===e}));if(!n||!(null===n||void 0===n?void 0:n.id))return;var t=null===we||void 0===we?void 0:we.find((function(e){return e.id===(null===n||void 0===n?void 0:n.id)}));return void Cs({page:n,websitePage:t,pageTemplate:"open-only"})}It(!0),qi("/website/create-page-template",{template:e}).then(function(){var e=(0,i.Z)((function(e){var n,t,i;return(0,c.__generator)(this,(function(o){return!0===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&(n=e.content,t=n.page,i=n.pageTemplate,Cs({page:t,pageTemplate:i})),[2]}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){p.Z9.error("Error creating the page, please try again. ".concat(e.message))})).finally((function(){It(!1)}))}}(Ti)}),[Ti]),(0,v.useEffect)((function(){"openPublishFlow"===xl&&(Pl(!0),gl(null))}),[xl]),(0,v.useEffect)((function(){var e;cl((e={},(0,o.Z)(e,z.IN_EDITOR_WEBSITE_PAGE_REGENERATE,[function(){fo("Regenerate page?","Are you sure you want to regenerate this page?","All content, styles, and details for this page will be lost.","to regenerate",(function(){return ps(),!0}))}]),(0,o.Z)(e,z.IN_EDITOR_BLOG_POST_CREATE,[function(){var e=(0,i.Z)((function(e,n){return(0,c.__generator)(this,(function(e){return ys(null===n||void 0===n?void 0:n.blogPostTitle),[2]}))}));return function(n,t){return e.apply(this,arguments)}}(),{dirty:C,save:es}]),(0,o.Z)(e,z.IN_EDITOR_CREATE_NEW_PAGE,[function(e,n){var t=n.createPageInformation,i=n.createPageType;i&&["about","contact","services"].includes(i)?(t&&yl(t),Pi(i)):Ns()},{dirty:C,save:es}]),(0,o.Z)(e,z.IN_EDITOR_PUBLISH_WEBSITE,[function(){!function(){var e;"active"!==(null===Mi||void 0===Mi||null===(e=Mi.user)||void 0===e?void 0:e.subscriptionStatus)&&jn("publish")}()}]),(0,o.Z)(e,z.IN_EDITOR_EDIT_SOCIAL_LINKS,[As]),(0,o.Z)(e,z.IN_EDITOR_EDIT_FONT_PAIRINGS,[function(e){jo(e),Le(!0)},"fonts"]),(0,o.Z)(e,z.IN_EDITOR_EDIT_BUTTON_STYLE,[function(e){jo(e),Le(!0)},"button_style"]),(0,o.Z)(e,z.IN_EDITOR_EDIT_FAVICON,[function(e){jo(e),Le(!0)},"favicon"]),(0,o.Z)(e,z.IN_EDITOR_EDIT_THEME,[function(e){jo(e),Le(!0)},null]),(0,o.Z)(e,z.IN_EDITOR_EDIT_COLOR_PALETTE,[function(e){jo(e),Le(!0)},null]),(0,o.Z)(e,z.IN_EDITOR_EDIT_ANIMATION,[function(e){jo(e),Le(!0)},null]),(0,o.Z)(e,z.IN_EDITOR_EDIT_ROUNDED_CORNERS,[function(e){jo(e),Le(!0)},null]),(0,o.Z)(e,z.IN_EDITOR_ADD_GLOBAL_WIDGET,[function(){Os(null,"widget")}]),(0,o.Z)(e,z.IN_EDITOR_EDIT_HEADER_LOGO,[function(){jo("logo"),window.editBlock("header")}]),(0,o.Z)(e,z.IN_EDITOR_VIEW_WEBSITE_MOBILE,[function(){ge("mobile")}]),(0,o.Z)(e,z.IN_EDITOR_VIEW_WEBSITE_TABLET,[function(){ge("tablet")}]),e))}),[mt,we]),(0,v.useEffect)((function(){al?(ll(),Kn&&Vn(!1)):sl()}),[al]),(0,v.useEffect)((function(){Kn&&al&&sl()}),[Kn]),(0,v.useEffect)((function(){if(clearTimeout(Bt),Se)return Bt=setTimeout((function(){var e;if("section"===(null===Se||void 0===Se||null===(e=Se.WebsiteBlock)||void 0===e?void 0:e.category)||"external"===Se.WebsiteBlock.category){var n,t=window.websitePage;"header"===Se.WebsiteBlock.type?t.blocks[0]=Se:"footer"===Se.WebsiteBlock.type?t.blocks[t.blocks.length-1]=Se:t.blocks[Se.idx]=Se,ls(t);["blog","scheduler"].includes(null===Se||void 0===Se||null===(n=Se.WebsiteBlock)||void 0===n?void 0:n.type)||(window.scrollToBlock=Se.idx,window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block")))}else if("widget"===Se.WebsiteBlock.category&&"durable"===Se.WebsiteBlock.source){var i,o=!1,a=null===(i=H.widgets)||void 0===i?void 0:i.map((function(e){return e.type===Se.type?(o=!0,Se):e}));o||(a=a?(0,r.Z)(a).concat([Se]):[Se]),U((function(e){return(0,s.Z)((0,l.Z)({},e),{widgets:a})})),us(a)}}),200),function(){clearTimeout(Bt)}}),[Se]),(0,v.useEffect)((function(){if(clearTimeout(Bt),Un)return Bt=setTimeout((function(){window.dispatchEvent(new CustomEvent("website-builder-post-changed",{detail:{post:Un}}))}),200),function(){clearTimeout(undefined)}}),[Un]),(0,v.useEffect)((function(){return window.click=function(){Bs()},window.scrolled=function(e){mn(e)},window.scrolledDistance=function(e){pn(e)},window.changePage=function(e){ls(e)},window.reloadPages=function(){Vl(null===fe||void 0===fe?void 0:fe.id)},window.activeBlock=function(e){window.dispatchEvent(new CustomEvent("website-builder-active-block-changed",{detail:{active:e}}))},window.addBlock=function(e){Zo(e),So(!0)},window.editBlock=function(e,n,t){if(window.websitePage){if("header"===e){var i=window.websitePage.blocks.find((function(e){return"header"===e.WebsiteBlock.type}));Te(i)}else if("footer"===e){var o=window.websitePage.blocks.find((function(e){return"footer"===e.WebsiteBlock.type}));Te(o)}else if("blog"===e){var l=window.websitePage.blocks.find((function(e){return"blog"===e.WebsiteBlock.type}));Te(l)}else{var s=window.websitePage.blocks[e];s.idx=e,Te(s)}Be(!n||{item:n,itemIdx:t}),Le(!1),Lo(!1),Bo(!1),So(!1)}},window.closeBlock=function(){Be(!1)},window.deleteBlock=function(e){oo("Delete section?","Are you sure you want to delete this section?",(0,i.Z)((function(){var n;return(0,c.__generator)(this,(function(t){return(n=window.websitePage).blocks.splice(e,1),ls(n),[2]}))})))},window.duplicateBlock=function(){var e=(0,i.Z)((function(e){var n,t;return(0,c.__generator)(this,(function(i){switch(i.label){case 0:return n=window.websitePage,(t=(0,p.p$)(n.blocks[e]))._id=D()().toString(),"common-ninja"!==t.WebsiteBlock.source?[3,2]:(t.WebsiteBlock.externalId=t.externalId,[4,Ul(t,!1)]);case 1:i.sent(),i.label=2;case 2:return n.blocks.splice(e,0,t),ls(n),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),window.moveBlock=function(){var e=(0,i.Z)((function(e,n){var t,i;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:return t=window.websitePage,i=(0,p.p$)(t.blocks[e]),t.blocks.splice(e,1),t.blocks.splice(e+n,0,i),[4,ls(t)];case 1:return o.sent(),window.scrollToBlock=e+n,window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block")),[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),window.regenerateBlock=function(){var e=(0,i.Z)((function(e,n){var t,i,o,l;return(0,c.__generator)(this,(function(s){switch(s.label){case 0:return o=(0,p.p$)(e),l=(0,p.p$)(window.websitePage),[4,Ki(e,null,n,wl)];case 1:return e=s.sent(),l.blocks[e.idx]=e,l.clearGenerating=!0,ls(l),"header"!==e.WebsiteBlock.type&&"footer"!==e.WebsiteBlock.type||!e.socialSettings||ss({items:null===H||void 0===H?void 0:H.social,settings:e.socialSettings}),(null===e||void 0===e||null===(t=e.spacing)||void 0===t?void 0:t.minHeight)!==(null===o||void 0===o||null===(i=o.spacing)||void 0===i?void 0:i.minHeight)&&(window.scrollToBlock=e.idx,window.dispatchEvent(new CustomEvent("website-builder-scroll-to-block"))),[2]}}))}));return function(n,t){return e.apply(this,arguments)}}(),window.createPost=function(){ys()},window.changePost=function(e){qn(e)},window.editPost=function(e){qn(e),lt(!!e)},window.settingsPost=function(){Qn(!0)},window.deletePost=function(e){oo("Delete blog post?",(0,d.jsxs)(d.Fragment,{children:["Are you sure you want to delete the blog post ",(0,d.jsxs)("span",{className:"font-medium",children:['"',e.title,'"']}),"?"]}),(function(){window.dispatchEvent(new CustomEvent("website-builder-post-delete",{detail:{idPost:e._id}}))}))},window.dirtyPost=function(e){T(e)},window.loadingPost=function(e){k(e)},window.generatingPost=function(e){Ln(e)},window.regeneratePost=function(e){no("Regenerate blog post?",(0,d.jsxs)(d.Fragment,{children:["Are you sure you want to regenerate the blog post ",(0,d.jsxs)("span",{className:"font-medium",children:['"',e.title,'"']}),"? The current blog post will be deleted and all content and media will be lost."]}),(function(){window.dispatchEvent(new CustomEvent("website-builder-post-regenerate"))}))},window.openPaywall=function(e){jn(e)},window.managePages=function(){js()},function(){window.click=void 0,window.scrolled=void 0,window.changePage=void 0,window.reloadPages=void 0,window.activeBlock=void 0,window.addBlock=void 0,window.editBlock=void 0,window.deleteBlock=void 0,window.duplicateBlock=void 0,window.moveBlock=void 0,window.regenerateBlock=void 0,window.createPost=void 0,window.changePost=void 0,window.editPost=void 0,window.settingsPost=void 0,window.deletePost=void 0,window.dirtyPost=void 0,window.loadingPost=void 0,window.generatingPost=void 0,window.regeneratePost=void 0,window.openPaywall=void 0,window.closeBlock=void 0,window.scrolledDistance=void 0,window.managePages=void 0}}),[ls]),(0,v.useEffect)((function(){var e,n;H&&(ce({settings:null===H||void 0===H?void 0:H.socialSettings,items:Array.isArray(H.social)?H.social:[]}),"public"===(null===H||void 0===H?void 0:H.status)||(null===H||void 0===H?void 0:H.customDomain)&&(null===H||void 0===H?void 0:H.externalDomain)||rn(!0),"public"!==(null===H||void 0===H?void 0:H.status)||(null===H||void 0===H?void 0:H.customDomain)&&(null===H||void 0===H?void 0:H.externalDomain)||un(!0),!1===(null===H||void 0===H?void 0:H.onboardingSurveyCompleted)&&(null===H||void 0===H||null===(e=H.Business)||void 0===e?void 0:e._id)&&(n=H.Business._id,"object"===typeof localStorage&&localStorage.setItem("".concat(n,"-").concat(W),"yes")));Nl(!(!H||H&&!H.generatedAt&&H.generate))}),[H]),(0,v.useEffect)((function(){window.dispatchEvent(new CustomEvent("website-builder-page-changed"))}),[ie]),(0,v.useEffect)((function(){var e,n,t,i,o,l,s,a,r,c,d,u=!1;if("publish"===(null===Vi||void 0===Vi||null===(e=Vi.query)||void 0===e?void 0:e.open)&&H)u=!0;else if("view"===(null===Vi||void 0===Vi||null===(n=Vi.query)||void 0===n?void 0:n.open))Xl(),u=!0;else if("settings"===(null===Vi||void 0===Vi||null===(t=Vi.query)||void 0===t?void 0:t.open)&&H)Le(!0),u=!0;else if("page"===(null===Vi||void 0===Vi||null===(i=Vi.query)||void 0===i?void 0:i.open)&&(null===Vi||void 0===Vi||null===(o=Vi.query)||void 0===o?void 0:o.id)&&ie&&(null===we||void 0===we?void 0:we.length)>0){var v;_s(null===Vi||void 0===Vi||null===(v=Vi.query)||void 0===v?void 0:v.id),u=!0}else if("page"===(null===Vi||void 0===Vi||null===(l=Vi.query)||void 0===l?void 0:l.create))Ns(),u=!0;else if("page"===(null===Vi||void 0===Vi||null===(s=Vi.query)||void 0===s?void 0:s.edit)&&(null===Vi||void 0===Vi||null===(a=Vi.query)||void 0===a?void 0:a.id)&&ie&&(null===we||void 0===we?void 0:we.length)>0&&!Me)Ge(!0);else if(null===Vi||void 0===Vi||null===(r=Vi.query)||void 0===r?void 0:r.blog){var m;Ni(null===Vi||void 0===Vi||null===(m=Vi.query)||void 0===m?void 0:m.blog),Ci(!0),u=!0}else(null===Vi||void 0===Vi||null===(c=Vi.query)||void 0===c?void 0:c.createPages)?(setTimeout((function(){var e,n=null===Vi||void 0===Vi||null===(e=Vi.query)||void 0===e?void 0:e.createPages.split(","),t=n.pop();Ei(n),Pi(t)}),2e3),u=!0):(null===Vi||void 0===Vi||null===(d=Vi.query)||void 0===d?void 0:d.editHeaderLogo)&&(u=!0);u&&Vi.replace("/website/builder",null,{shallow:!1})}),[Vi,Mi,H,ie,we]),(0,v.useEffect)((function(){rn(!Rn&&!C&&!Re&&"public"!==(null===H||void 0===H?void 0:H.status)&&(!(null===H||void 0===H?void 0:H.customDomain)||!(null===H||void 0===H?void 0:H.externalDomain))),un(!Rn&&!C&&"public"===(null===H||void 0===H?void 0:H.status)&&(!(null===H||void 0===H?void 0:H.customDomain)||!(null===H||void 0===H?void 0:H.externalDomain))),Re||setTimeout((function(){el(!1)}),300)}),[Rn,C,Re,H]),(0,v.useEffect)((function(){C?(rn(!1),un(!1)):("public"===(null===H||void 0===H?void 0:H.status)||(null===H||void 0===H?void 0:H.customDomain)&&(null===H||void 0===H?void 0:H.externalDomain)||rn(!0),"public"!==(null===H||void 0===H?void 0:H.status)||(null===H||void 0===H?void 0:H.customDomain)&&(null===H||void 0===H?void 0:H.externalDomain)||un(!0))}),[C]),(0,v.useEffect)((function(){var e=window.websitePage;e&&fe&&null==e.slug&&mt&&!mt.generatedAt&&mt.generate&&e.blocks.length<=2&&(null===mt||void 0===mt?void 0:mt.business)&&!yt&&!Ct&&(null===Pt||void 0===Pt?void 0:Pt.length)>0&&H&&(Nt(!0),setTimeout((function(){ps()}),2e3))}),[window.websitePage,fe,mt,Pt,H]),(0,v.useEffect)((function(){(0,i.Z)((function(){var e;return(0,c.__generator)(this,(function(n){switch(n.label){case 0:return Mo?((e={createBlogPost:function(){return ys(null,!0)},addSocialLinks:As})[Mo]&&e[Mo](),Go(null),[4,Vi.push("/website/builder",null,{shallow:!0})]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))()}),[Mo,window.websitePage]),(0,v.useEffect)((function(){var e=Ae||Yn||We||Ao;window.dispatchEvent(new CustomEvent("website-builder-manage-toggle",{detail:{open:e}})),e||fl(null),Ho&&!We&&Vo(!1)}),[Ae,Yn,We,Ao]),(0,v.useEffect)((function(){var e=at||dt;window.dispatchEvent(new CustomEvent("website-builder-post-media-manage-toggle",{detail:{open:e}}))}),[at,dt]),(0,v.useEffect)((function(){(null===we||void 0===we?void 0:we.length)>0&&fe&&(null===Uo||void 0===Uo?void 0:Uo.selectedPageId)!==(null===fe||void 0===fe?void 0:fe.id)&&Rs(fe.id,we)}),[we,fe,Uo]),(0,v.useEffect)((function(){if(H&&(null===we||void 0===we?void 0:we.length)>0&&fe&&(null===Uo||void 0===Uo?void 0:Uo.selectedPageId)===(null===fe||void 0===fe?void 0:fe.id)&&(null===Uo||void 0===Uo?void 0:Uo.website)&&(null===Uo||void 0===Uo?void 0:Uo.page)){var e=we.find((function(e){return e.id===fe.id})),n={website:H,page:e,selectedPageId:fe.id},t=(0,p.wE)(Uo,n);S(t),t&&"production"!==Dt.env.NEXT_PUBLIC_ENV&&(console.log("DEBUG | Triggered dirty state:"),console.log(JSON.stringify(Uo)),console.log(JSON.stringify(n)))}}),[H,we,fe,Uo]),(0,v.useEffect)((function(){return Vl(),Kl(),Hl(),cs(),$l(),console.log("Sending message to collapse the sidebar"),window.top.postMessage({event:"sidebar-collapse-toggle",collapse:!0},"*"),window.addEventListener("openManagePostImage",Is),window.addEventListener("openManagePostVideo",Ts),window.addEventListener("tryPalette",Ps),function(){window.top.postMessage({event:"sidebar-collapse-toggle",collapse:!1},"*"),window.removeEventListener("openManagePostImage",Is),window.removeEventListener("openManagePostVideo",Ts),window.removeEventListener("tryPalette",Ps),bo.current&&clearTimeout(bo.current),window.websitePage=void 0,window.updatedWidgets=void 0}}),[]),(0,v.useEffect)((function(){return window.addEventListener("keyup",ws),function(){window.removeEventListener("keyup",ws)}}),[bn]),(0,v.useEffect)((function(){if((null===we||void 0===we?void 0:we.length)>0&&(null===ie||void 0===ie?void 0:ie.length)>0&&Zi){var e,n=null===(e=we.find((function(e){return"blog"===e.type})))||void 0===e?void 0:e.id;n&&setTimeout((function(){_s(n)}),1e3),Ci(!1)}}),[ie,we,Zi]),(0,v.useEffect)((function(){return window.addEventListener("entri-finished-setup",Ds),function(){window.removeEventListener("entri-finished-setup",Ds)}}),[]),(0,v.useEffect)((function(){Sl&&bs()}),[Sl]),(0,v.useEffect)((function(){!y&&(null===Di||void 0===Di?void 0:Di.active)&&Fi((function(e){return(0,s.Z)((0,l.Z)({},e),{active:!1})}))}),[y,Di]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Ne.default,{context:bn,open:!!bn&&["agent","keywords","premium_widgets","manage_pages","manage_posts","premium_sections","made_with_durable","domain","publish","preview","page_counter","domain_alert","external_domain"].includes(bn)||(0,Pn.np)(null===Mi||void 0===Mi||null===(n=Mi.user)||void 0===n?void 0:n.experiments,"free-trial","variant")&&"free"===(null===Mi||void 0===Mi||null===(t=Mi.user)||void 0===t||null===(m=t.plan)||void 0===m?void 0:m.priceId)&&!(null===Mi||void 0===Mi||null===(f=Mi.user)||void 0===f?void 0:f.trialFinished),setOpen:function(){return jn("")},canClose:!0,onBuy:(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return[2,es()]}))}))}),(0,d.jsx)(Ot.Z,{open:Wl,setOpen:Ll}),tl&&(0,d.jsx)(Q.u,{open:tl,title:"Cookie notice added",buttons:(0,d.jsxs)("div",{className:"flex gap-3",children:[(0,d.jsx)("button",{className:"secondary",onClick:function(){return il(!1)},children:"Close"}),(0,d.jsx)("a",{className:"button primary",href:"https://help.durable.co/en/articles/8561007-learn-about-cookies-notice-bar",rel:"noreferrer",target:"_blank",children:"Learn more"})]}),setOpen:il,contentClassName:"max-w-[420px]",footerHasMarginTop:!1,children:(0,d.jsx)(J.U,{text:"A cookie notice may be sufficient for you, but every business is unique. Make sure you understand the requirements that apply to your website.",variant:"info"})}),(0,d.jsxs)(_e(),{children:[(0,d.jsx)("title",{children:"Website builder - Durable"}),(0,d.jsx)("meta",{name:"description",content:"Durable for your business"}),(0,d.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"}),(0,d.jsx)("link",{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"}),(0,d.jsx)("link",{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"}),(0,d.jsx)("link",{rel:"manifest",href:"/site.webmanifest"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico",sizes:"any"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.svg",type:"image/svg+xml"})]}),(0,d.jsxs)("div",{id:"main-builder",className:"bg-white flex flex-col min-h-dyn lg:min-h-full justify-start no-scrollbar",onClick:Bs,children:[(0,d.jsx)(an,{track:Gl,website:H,loading:N,disabled:A,generating:Rn,generatingPost:Wn,dirty:ot?I:C,blogMode:zl,postMode:ot,selectedPage:fe,selectedPost:Un,handleOpenManage:Os,openManageWidgets:Ao,handleOpenPostAssistant:ys,handleOpenCreatePage:Ns,handleViewWebsite:Xl,openSupport:function(){return hl(!0)},handleOpenManagePages:js,handleOpenManagePage:function(){bs(),Ve(!0)},openManagePages:Me,setDevice:ge,onExit:function(e){return ts(e)},onDiscard:function(){uo("Discard changes?","Are you sure you want to close without saving? Any unsaved changes will be discarded.",(0,i.Z)((function(){var e,n;return(0,c.__generator)(this,(function(t){return e=(0,p.p$)(Uo.website),n=(0,p.p$)(Uo.page),U(e),ls(n),as(e),ss({settings:null===e||void 0===e?void 0:e.socialSettings,items:Array.isArray(e.social)?e.social:[]}),us(e.widgets),Le(!1),Bo(!1),Be(!1),Lo(!1),[2]}))})))},onSave:function(){return es()},openChangeTemplate:Sl,previewMode:Di,setPreviewMode:Fi}),(0,d.jsx)(Tn,{track:Gl,generatingPost:Wn,setOpenChangeTemplate:El,openChangeTemplate:Sl,website:H,page:Ml,onApply:gs,previewMode:Di,previewUrl:Jl(),blockActions:Ct}),N&&!Ct&&(0,d.jsx)(ye,{}),(0,d.jsx)(xe,{track:Gl,dirty:C,selectedPost:Un,loading:N,blogMode:zl,postMode:ot,generating:Rn||Wn,openSupport:function(){return hl(!0)},handleOpenManage:Os,handleOpenManagePages:js,handleOpenCreatePage:Ns,handleOpenCreatePost:ys,openManageWidgets:Ao,openChangeTemplate:Sl,onExit:function(e){return ts(e)},onUnpublishPost:function(){window.dispatchEvent(new CustomEvent("website-builder-post-toggle-published"))}})]}),Ae&&Se&&function(){var e;if("durable"!==(null===Se||void 0===Se||null===(e=Se.WebsiteBlock)||void 0===e?void 0:e.source)){var n;if("common-ninja"===(null===Se||void 0===Se||null===(n=Se.WebsiteBlock)||void 0===n?void 0:n.source))return(0,d.jsx)(zt,{open:Ae,setOpen:Be,block:Se,setBlock:Te,rtl:ue,setRtl:ve,loading:N,website:H,editWidget:Es})}else{var t={open:Ae,setOpen:Be,block:Se,setBlock:Te,rtl:ue,setRtl:ve,website:H,loading:N};switch(Se.WebsiteBlock.type){case"header":return(0,d.jsx)(qt,(0,s.Z)((0,l.Z)({},t),{updateSocial:ss,scrollToLocation:yo,setScrollToLocation:jo,onValid:is,onChangeIcon:function(e){return as((0,s.Z)((0,l.Z)({},H),{favicon:e}))},onRedirect:ts}));case"banner":return(0,d.jsx)(Ft,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"banner-carousel":return(0,d.jsx)(xi,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"banner-slider-carousel":return(0,d.jsx)(bt,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"banner-double-slider-carousel":return(0,d.jsx)(jt,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"banner-progress-bar-carousel":return(0,d.jsx)(Zt,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"banner-grid-cards":return(0,d.jsx)(St,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"banner-grid":return(0,d.jsx)(gi,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"hero":return(0,d.jsx)(Xt,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"quote":return(0,d.jsx)(ri,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"gallery":case"image-grid":case"image-carousel":return(0,d.jsx)($t,(0,l.Z)({},t));case"video":return(0,d.jsx)(di,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"list":case"service-list":case"team-list":return(0,d.jsx)(Yt,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"pricing-table":return(0,d.jsx)(ai,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"business-hours":return(0,d.jsx)(mi,(0,l.Z)({},t));case"text":return(0,d.jsx)(ci,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"plain-text":return(0,d.jsx)(bi,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"location":case"map":return(0,d.jsx)(ei,(0,l.Z)({},t));case"contact":return(0,d.jsx)(Mt,(0,l.Z)({},t));case"embed":return(0,d.jsx)(Kt,(0,l.Z)({},t));case"image":return(0,d.jsx)(Jt,(0,l.Z)({},t));case"footer":return(0,d.jsx)(Vt,(0,s.Z)((0,l.Z)({},t),{updateSocial:ss,onValid:is,onPaywall:jn,onRedirect:ts}));case"calendly-scheduling":return(0,d.jsx)(Lt,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"instagram":return(0,u.n2)(Se)?(0,d.jsx)(O,(0,s.Z)((0,l.Z)({},t),{businessConfig:M,getBusinessConfig:Kl})):(0,d.jsx)(pi,(0,l.Z)({},t));case"blog":return(0,d.jsx)(Wt,(0,l.Z)({},t));case"faq":return(0,d.jsx)(Ht,(0,l.Z)({},t));case"google-reviews":return(0,d.jsx)(Ut,(0,l.Z)({},t));case"cta":return(0,d.jsx)(Gt,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"logo-showcase":return(0,d.jsx)(fi,(0,s.Z)((0,l.Z)({},t),{onValid:is}));case"recent-posts":return(0,d.jsx)(hi,(0,l.Z)({},t));case"menu-list":return(0,d.jsx)(Qt,(0,l.Z)({},t))}}}(),Yn&&Un&&(0,d.jsx)(oi,{open:Yn,setOpen:Qn,post:Un,setPost:qn,rtl:ue,setRtl:ve,website:H,onValid:is}),(0,d.jsx)(Qi,{confirmText:"Got it"}),(0,d.jsx)(to,{confirmText:"Regenerate"}),(0,d.jsx)(lo,{attention:!0}),(0,d.jsx)(ro,{confirmText:"Discard and exit",attention:!0}),(0,d.jsx)(vo,{confirmText:"Discard",attention:!0}),(0,d.jsx)(ho,{attention:!0,confirmText:"Regenerate"}),(0,d.jsx)(go,{confirmText:"Save",cancelText:"Cancel"}),(0,d.jsx)(ee.P,{status:null===H||void 0===H?void 0:H.status,preview:Qo,previewToken:(0,u.lQ)(),open:Re,setOpen:De,setOpenPaywall:jn,loading:N,setLoading:k,onPreview:(0,i.Z)((function(){return(0,c.__generator)(this,(function(e){return[2,Yl()]}))})),onPublish:function(){return ql()}}),!(null===Mi||void 0===Mi||null===(h=Mi.user)||void 0===h?void 0:h.customPlan)&&(0,d.jsx)(Ie,{open:!Sl&&sn&&!ot&&""===bn&&!Re,scrolledDistance:hn,onClose:function(){return rn(!1)},onPublish:function(){var e,n;"free"!==(null===Mi||void 0===Mi||null===(e=Mi.user)||void 0===e||null===(n=e.plan)||void 0===n?void 0:n.priceId)?(Pl(!0),zi("builder_publish_banner"),Gl("website:builder_publish_banner-click")):(Gl("account:paywall_trigger_clicked",{context:"publish_flow_banner"}),jn("publish"))}},"publish-alert-key--1"),(0,d.jsx)(Nn,{open:Je,setOpen:Ye,website:H,newDomain:nn}),"free"===(null===Mi||void 0===Mi||null===(g=Mi.user)||void 0===g||null===(b=g.plan)||void 0===b?void 0:b.priceId)&&"public"===(null===H||void 0===H?void 0:H.status)&&(0,d.jsx)(Ze,{open:dn&&!ot&&""===bn,scrolledDistance:hn,onClose:function(){return un(!1)},onAction:function(){return jn("domain_alert")}},"custom-domain-alert-key--1"),(0,d.jsx)(en,{website:H,open:We,setOpen:Le,tryPalette:Ho,disableTemplates:!!(null===fe||void 0===fe?void 0:fe.slug)||C,onChange:as,onPreviewMigration:function(e){var n=(0,p.p$)(window.websitePage),t=!0,i=!1,o=void 0;try{for(var a,r=n.blocks[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var c=a.value;if(e){if(!c.layers||"footer"===c.WebsiteBlock.type&&!c.layers.palette){var d=(0,_.SH)(c,H);c.layers=(0,l.Z)({},c.layers,d),c.layers.image=(0,Y.Dn)(c),c.migratedFromOld=!0}var u;if("header"===c.WebsiteBlock.type?c.layers.palette="color1":"footer"===c.WebsiteBlock.type||"banner"===c.WebsiteBlock.type?c.layers.palette="color2":c.layers.palette=(0,p.kd)(["color3","color4"]),c.button||c.showButton||"contact"===c.WebsiteBlock.type)c.button=(0,s.Z)((0,l.Z)({},c.button),{style:(0,s.Z)((0,l.Z)({},null===(u=c.button)||void 0===u?void 0:u.style),{name:"style1"})})}else{var v;if(c.migratedFromOld?delete c.layers:c.layers.palette="custom",c.button||c.showButton||"contact"===c.WebsiteBlock.type)c.button=(0,s.Z)((0,l.Z)({},c.button),{style:(0,s.Z)((0,l.Z)({},null===(v=c.button)||void 0===v?void 0:v.style),{name:"custom"})})}}}catch(m){i=!0,o=m}finally{try{t||null==r.return||r.return()}finally{if(i)throw o}}ls(n),window.dispatchEvent(new CustomEvent("website-builder-changed",{detail:{previewMigration:e}}))},rtl:ue,setRtl:ve,scrollToLocation:yo,setScrollToLocation:jo,onExternalAction:function(e){switch(e){case"change-template":Gl("editor:change_template"),El(!0);break;case"widgets":Os(null,"widget");break;case"regenerate":Gl("editor:regenerate"),En(!0);break;case"regenerate-text":Gl("editor:regenerate_text"),Bn(!0);break;case"keywords":Gl("editor:keywords"),Ll(!0)}Le(!1)}}),(0,d.jsx)(ni,{open:Me,setOpen:Ge,currentPage:fe,website:mt,onSelectPage:_s,onUpdatePage:rs,onCreatePost:ys,onCreatePage:Cs,onSortEnd:Vl}),(0,d.jsx)(ti,{open:He,setOpen:Ve,page:fe,onUpdatePage:rs}),(0,d.jsx)(ii,{open:Ue,setOpen:qe,website:mt,onCreatePost:ys,onCreatePage:Cs}),(0,d.jsx)(X,{open:_o,setOpen:So,setOpenPaywall:jn,onSelect:ds}),(0,d.jsx)(wi,{open:Zl,setOpen:Cl,rtl:ue,setRtl:ve,websiteToRegenerate:mt,onChangePage:function(e){return ls(e)}}),at&&(0,d.jsx)(li,{open:at,setOpen:rt,rtl:ue,setRtl:ve,website:H}),dt&&(0,d.jsx)(si,{open:dt,setOpen:ut,rtl:ue,setRtl:ve,website:H}),Do&&(0,d.jsx)(je,{open:Ro,setOpen:Do,block:Se,refreshWidget:function(e){e&&window.dispatchEvent(new CustomEvent("widget-reload",{detail:e}))}}),Wo&&(0,d.jsx)(ui,{open:Wo,setOpen:Lo,block:Se,setBlock:Te,rtl:ue,setRtl:ve,loading:N,website:H,onClose:function(){return Bo(!0)}}),Io&&(0,d.jsx)(se,{open:Io,setOpen:To,widgets:null===H||void 0===H?void 0:H.widgets,onSelect:vs,setOpenPaywall:jn}),Ao&&(0,d.jsx)(vi,{sortWidgets:function(e){U((function(n){return(0,s.Z)((0,l.Z)({},n),{widgets:e})})),us(e)},open:Ao,setOpen:Bo,rtl:ue,setRtl:ve,widgets:null===H||void 0===H?void 0:H.widgets,addWidget:function(){return To(!0)},editWidget:function(e){Te(e),"common-ninja"===(null===e||void 0===e?void 0:e.WebsiteBlock.source)?Do(!0):(Lo(!0),Bo(!1))},deleteWidget:function(e){U((function(n){var t=(null===n||void 0===n?void 0:n.widgets)?n.widgets.filter((function(n){return n.type!==e})):[];return us(t),(0,s.Z)((0,l.Z)({},n),{widgets:t})}))}}),(0,d.jsx)(Hn,{}),Tl&&(0,d.jsx)(nt,{open:Tl,setOpen:Pl,status:null===H||void 0===H?void 0:H.status,website:H,showAlert:sn,onPublish:ql,setOpenPaywall:jn,origin:Li,onOpenLinkDomain:function(){Rl(!0),Pl(!1)}}),Ol&&(0,d.jsx)(Jn.Z,{open:Ol,setOpen:Rl,fromBuilder:!0,refreshWebsite:function(){},afterComplete:function(){Rl(!1),ql(!0).catch((function(){}))},onClose:function(){Rl(!1),Pl(!1)},onBack:function(){Rl(!1),Pl(!0)}}),Sn&&(0,d.jsx)(it.Z,{open:Sn,setOpen:En}),An&&(0,d.jsx)(At,{open:An,setOpen:Bn,onRegenerate:function(){xs("text")},setWebsiteToRegenerate:ft}),(0,d.jsx)(tt.Z,{}),Ct&&(0,d.jsx)(_n.m,{show:Ct,action:"GENERATING_PAGE"})]})}ji.auth=!0,ji.layout=!1,ji.iframe=!0},65785:function(e,n,t){"use strict";t.d(n,{DH:function(){return r},MC:function(){return s},Nx:function(){return a},np:function(){return c}});var i=t(3732),o="control",l=function(e){return"".concat("experiments-session-list","-").concat(e)},s=function(e){try{var n=!0,t=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var r=s.value,c=l(r.identifier);if(!(0,i.ej)(c)){var d=new Date(Date.now()+15552e6);(0,i.d8)(c,r.variant,{expires:d})}}}catch(u){t=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(t)throw o}}(0,i.d8)(l("identifiers"),JSON.stringify(e.map((function(e){return e.identifier}))))}catch(v){console.error(v)}},a=function(e){return(0,i.ej)(l(e))||o},r=function(){var e=[];try{var n=JSON.parse((0,i.ej)(l("identifiers"))||""),t=!0,o=!1,s=void 0;try{for(var r,c=n[Symbol.iterator]();!(t=(r=c.next()).done);t=!0){var d=r.value,u=a(d);u&&e.push({identifier:d,variant:u})}}catch(v){o=!0,s=v}finally{try{t||null==c.return||c.return()}finally{if(o)throw s}}}catch(m){e=[]}return e},c=function(e,n,t){if(!e)return!1;var i=null===e||void 0===e?void 0:e.find((function(e){return e.identifier===n}));return!!i&&i.variant===t}},60776:function(e,n,t){"use strict";t.d(n,{b:function(){return l},o:function(){return o}});var i=t(30120),o=function(e,n){var t;"function"===(null===n||void 0===n||null===(t=n._sva)||void 0===t?void 0:t.invokeEvent)&&(console.log("[Survicate]","Event Dispatched",e),n._sva.invokeEvent(e))},l=function(e){var n=i.ou.fromISO(e);if(n.isValid){var t=i.ou.now();return+i.Xp.fromDateTimes(n,t).toDuration("hours").toObject().hours.toFixed(0)}return 0}}},function(e){e.O(0,[8802,7040,1255,5288,8441,5242,534,6440,4784,4715,3752,3645,4423,9800,8169,5653,7098,2450,7190,6494,6682,9645,1215,9280,4433,5268,31,1167,8704,4771,5700,9774,2888,179],(function(){return n=64938,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1167],{11502:function(e,n,t){t.d(n,{Z:function(){return g}});var a=t(47568),o=t(10253),i=t(97582),l=t(85893),s=t(16682),r=t(67294),c=t(3732),d=t(33299),u=t(18362),m=t(11163),p=function(e){var n=e.onAction,t=e.onClose,a=e.visible,o=(0,m.useRouter)();return(0,l.jsx)(u.Z,{visible:a,context:{context:"external_domain",page:o.pathname},image:(0,c.sd)("paywalls/pw-upgrade-domain-link-bg.png"),title:"Upgrade to connect your domain",description:"A professional domain helps you convert more leads to customers. Upgrade to connect your existing domain in just a few steps.",buttonTitle:"View Plans",buttonAction:n,featTitle:"You will also get:",features:["More website pages","Premium website features","CRM and agents tools","Invoices and payment tracking"],bgColor:"bg-gray-900",closeColor:"text-white",onClose:function(){t()}})},h=t(61437),f=t(4298),x=t.n(f),v=t(60728),g=function(e){var n=e.onClose,t=(0,o.Z)((0,h.Z)("layout.paywall"),2)[1],u=(0,r.useState)(null),m=u[0],f=u[1],g=(0,r.useState)(null),b=g[0],y=g[1],j=(0,r.useState)(!1),w=j[0],N=j[1],k=(0,s.Z)(),C=k.get,S=k.post,Z=(0,d.useSession)().data,I=(0,v.Z)(),E=(I.confirm,I.ConfirmDialog),A=function(){var e=(0,a.Z)((function(e){var n,t,a,o;return(0,i.__generator)(this,(function(i){return(null===Z||void 0===Z||null===(n=Z.user)||void 0===n||null===(t=n.plan)||void 0===t?void 0:t.priceId)&&"free"!==(null===Z||void 0===Z||null===(a=Z.user)||void 0===a||null===(o=a.plan)||void 0===o?void 0:o.priceId)?(fetch("https://api.goentri.com/token",{method:"POST",body:JSON.stringify({applicationId:b.applicationId,secret:b.secret})}).then((function(e){return e.json()})).then((function(n){var t,a,o={applicationId:b.applicationId,token:n.auth_token,supportForSubdomains:!0,whiteLabel:{removeShareLogin:!0},dnsRecords:{domain:[{value:"0675f06bfbca2680fb3ba12caa20038b",host:"durable",ttl:300,type:"TXT",fallbackValue:"",priority:null},{value:(0,c.lz)({subdomain:"websites",durableDomain:b.durableDomain}),host:"www",ttl:3600,type:"CNAME",fallbackValue:"",priority:null},{value:"{DOMAIN}.".concat(null===b||void 0===b?void 0:b.dcvRecord),host:"_acme-challenge",ttl:3600,type:"CNAME",fallbackValue:"",priority:null},{value:"172.66.0.42",host:"@",ttl:3600,type:"A",fallbackValue:"",priority:null}],subDomain:[{value:"0675f06bfbca2680fb3ba12caa20038b",host:"durable",ttl:300,type:"TXT",fallbackValue:"",priority:null},{value:(0,c.lz)({subdomain:"websites",durableDomain:b.durableDomain}),host:"{SUBDOMAIN}.{DOMAIN}",ttl:3600,type:"CNAME",fallbackValue:"",priority:null}]}};(null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.prefilledDomain)&&(o.prefilledDomain=null===e||void 0===e||null===(a=e.detail)||void 0===a?void 0:a.prefilledDomain);f(o)})).catch((function(e){console.error("Error:",e)})),[2]):(N(!0),[2])}))}));return function(n){return e.apply(this,arguments)}}(),_=function(e){var t,a,o=(null===e||void 0===e||null===(t=e.detail)||void 0===t?void 0:t.success)&&"sharedLogin"!==(null===e||void 0===e||null===(a=e.detail)||void 0===a?void 0:a.setupType)?"processing":"incomplete";S("/website/update-external-domain-connection",{status:o}).catch((function(){})).finally((function(){window.dispatchEvent(new CustomEvent("external-domain-refresh-list")),"processing"===o&&window.dispatchEvent(new CustomEvent("entri-finished-setup")),"function"===typeof n&&n()}))};return(0,r.useEffect)((function(){m&&window.entri.showEntri(m)}),[m]),(0,r.useEffect)((function(){return b&&window.addEventListener("onEntriOpen",A),function(){window.removeEventListener("onEntriOpen",A)}}),[b,Z]),(0,r.useEffect)((function(){return C("/entri/entri-settings",{}).then((function(e){e&&!0===(null===e||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&y({applicationId:"durable",secret:"ae55104661dcad6e3a5c522856bb766ab751262400c9d3eba83317700bc67de7",serverIp:e.content.serverIp,durableDomain:e.content.durableDomain,dcvRecord:e.content.dcvRecord})})),window.addEventListener("onEntriClose",_,{once:!0}),function(){window.removeEventListener("onEntriClose",_,{once:!0})}}),[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p,{visible:w,onAction:function(){N(!1),t("external_domain")},onClose:function(){N(!1)}}),(0,l.jsx)(x(),{src:"https://cdn.goentri.com/entri.js"}),(0,l.jsx)(E,{confirmText:"Yes",cancelText:"No"})]})}},20523:function(e,n,t){var a=t(85893),o=t(40944),i=t(3732),l="inline",s="list";n.Z=function(e){var n=e.onGetAssistant,t=e.style,r=void 0===t?s:t,c=(0,i.ac)("(max-width: 859px)");return(0,a.jsxs)(a.Fragment,{children:[(r===s||c)&&(0,a.jsx)("div",{children:(0,a.jsxs)("button",{className:"button ghost !px-0",onClick:n,children:[(0,a.jsx)("span",{className:"px-1",children:"Get help from a person"}),(0,a.jsx)(o.Z,{icon:"ChevronRightIcon",className:"w-5 h-5"})]})}),r===l&&!c&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("button",{className:"button ghost sm icon-right",onClick:n,children:[(0,a.jsx)("span",{children:"Get help from a person"}),(0,a.jsx)(o.Z,{icon:"ChevronRightIcon",className:"w-5 h-5"})]}),(0,a.jsxs)("a",{href:"https://help.durable.co/en/collections/6398669-domain",target:"_blank",className:"button ghost sm icon-right",children:[(0,a.jsx)("span",{children:"Learn more about domains"}),(0,a.jsx)(o.Z,{icon:"ExternalLinkIcon",from:"v2",variant:"large",className:"w-5 h-5"})]})]})]})}},4980:function(e,n,t){var a=t(85893),o=t(11355),i=t(67294);n.Z=function(e){var n=e.children;return(0,a.jsx)(o.u,{as:i.Fragment,show:!0,appear:!0,enter:"transition-all duration-600",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"",leaveFrom:"",leaveTo:"",children:(0,a.jsx)("div",{children:n})})}},98427:function(e,n,t){t.d(n,{Z:function(){return z}});var a=t(47568),o=t(97582),i=t(85893),l=t(67294),s=t(2740),r=t(38947),c=t(3732),d=t(16682),u=t(4980),m=t(10253),p=t(51121),h=t(54126),f=t(40944),x=function(e){var n=e.title,t=e.description,a=e.onAction,o=e.recommended,l=void 0!==o&&o;return(0,i.jsxs)("div",{className:"flex items-center justify-between gap-4 p-4 bg-white border rounded-xl border-black border-opacity-10 text-black text-opacity-55 cursor-pointer transition-all hover:border-opacity-30 hover:text-opacity-80",onClick:function(){"function"===typeof a&&a()},children:[(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("label",{children:n}),!!l&&(0,i.jsx)("span",{className:"badge neutral",children:"Recommended"})]}),!!t&&(0,i.jsx)("p",{className:"label helper",children:t})]}),(0,i.jsx)(f.Z,{icon:"ChevronRightIcon",className:"flex-shrink-0 w-5 h-5"})]})},v=t(30120),g=t(16494),b=t(11163),y=t(52077),j=t(61437),w=t(33299),N=t(19645),k=t(3689),C=t(94211),S="input",Z="searching",I="done",E="none",A="no-exists",_="in-durable",D="registrar",F=function(e){var n=e.registrarName,t=e.registrarUrl,a=e.domainName,o=e.onDomainSet,s=e.onConfirmDomain,r=e.onRegistrarSet,u=e.onRegistrarUrlSet,F=e.onDisplaySupport,T=e.onDisplayBooking,M=e.onClose,R=e.onEntriStart,U=e.onManualSetup,L=e.noModal,P=e.resumeDomain,B=void 0!==P&&P,O=e.fromBuilder,z=void 0!==O&&O,V=(0,b.useRouter)(),K=(0,d.Z)(),q=K.get,J=K.post,W=(0,N.Z)().track,G=(0,w.useSession)().data,H=(0,m.Z)((0,j.Z)("websiteBuilder.paywall"),2)[1],X=(0,l.useState)(!1),Y=X[0],$=X[1],Q=(0,l.useState)(E),ee=Q[0],ne=Q[1],te=(0,l.useState)(!0===B?I:S),ae=te[0],oe=te[1],ie=(0,l.useState)(!1),le=ie[0],se=ie[1],re=(0,l.useState)(!1),ce=re[0],de=re[1],ue=(0,l.useState)("This domain hasn't been registered"),me=ue[0],pe=ue[1];(0,j.Z)("support.modal",!1);var he=function(){var e=a.replace("https://","");return e=e.replace("http://",""),k.ZP.toASCII(e).toLowerCase()},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"This domain hasn't been registered",n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n?(oe(I),ne(D)):(oe(S),pe(e),ne(A),F(!0)),se(!1)},xe=function(e){r(e),oe(I),s(he()),F(!1),ne(D)},ve=function(){var e,n,t,i,l;if(W("app:existing_domain_next",{domain:a,plan:null===G||void 0===G||null===(e=G.user)||void 0===e||null===(n=e.plan)||void 0===n?void 0:n.name}),null===G||void 0===G||null===(t=G.user)||void 0===t||null===(i=t.plan)||void 0===i||null===(l=i.features)||void 0===l?void 0:l.includes("external_domain"))if(ne(E),se(!1),F(!1),"input"===ae||!0===B){var s=he(),r=(0,C.F)(s),d=function(e){if(/[/\\]/.test(e))return!1;var n=RegExp("^(?!\\-)(?:[a-zA-Z0-9\\-]{1,63}(?<!\\-)\\.)+[a-zA-Z]{2,}$");return console.log("Validating domain:",e,"Regex:",n.test(e)),n.test(e)}(s);if(!(null===r||void 0===r?void 0:r.tld)||!d)return void c.Z9.error("This domain is not valid, the domain should follow this format (domain.com)",{autoClose:2e3});oe(Z),de(!0),q("/entri/domain-provider",{domain:s}).then((function(e){var n,t;if(!0===(null===e||void 0===e?void 0:e.status))if(!0===(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.isCustomDomain))fe("This domain is already in use."),ne(_),oe(I);else if(null===e||void 0===e||null===(t=e.content)||void 0===t?void 0:t.inUse)fe("This domain is already being in use by another website");else{var a,o,i,l=null===e||void 0===e||null===(a=e.content)||void 0===a?void 0:a.provider;if(l)if("unknown"===l.toLowerCase())xe("Unknown"),se(!1),u(!1);else xe(l),se(!0===(null===e||void 0===e||null===(o=e.content)||void 0===o?void 0:o.entriSupport)),u(null===e||void 0===e||null===(i=e.content)||void 0===i?void 0:i.url);else console.log("fail 1"),fe("",!0)}else console.log("fail 2"),fe("",!0)})).catch((function(){fe()})).finally((function(){return de(!1)}))}else oe(S),de(!1),o(""),$(!1);else H("external_domain")},ge=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;de(!1),e&&M(),c.Z9.error(n||"Something went wrong",{autoClose:2e3})},be=function(e,t){return de(!0),J("/website/start-external-domain-connection",{domainName:k.ZP.toUnicode(a),registrar:n||"Unknown",method:e}).then((function(e){var n;e&&!0===(null===e||void 0===e?void 0:e.status)?t():ge(!0,null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.error)})).catch((function(){return ge()}))};return(0,l.useEffect)((function(){$(a&&a.length>5&&a.indexOf(".")>=3)}),[a]),(0,l.useEffect)((function(){!0===B&&ve()}),[B]),(0,i.jsxs)("div",{className:(0,c.AK)(L?"px-3.5 md:px-6":"px-12 pb-12",ae===S?"min-h-140":""),children:[!B&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"mb-2",children:[!z&&(0,i.jsxs)("p",{className:"label helper",children:["Enter the domain name ","you'd"," like to use."]}),!!z&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("label",{className:"mb-1",children:"Use a domain you already own"}),(0,i.jsxs)("p",{className:"label helper",children:["Enter the domain name ","you'd"," like to use."]})]})]}),(0,i.jsx)("div",{className:"relative",children:(0,i.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,i.jsxs)("div",{className:"relative w-full",children:[(0,i.jsx)(p.Z,{inputClassName:"!pr-11",name:"domain",placeholder:"example.com",value:a,onChange:function(e){var n=e;(null===n||void 0===n?void 0:n.length)>4&&(n=e.replace("www.","")),function(e){o(e)}(null===n||void 0===n?void 0:n.trim().toLowerCase()),ne(E)},disabled:ce,onKeyUp:function(e){return ce?(e.preventDefault(),!1):("Enter"===e.key&&Y&&ve(),"input"!==ae&&oe("input"),!0)}}),function(){var e=null;switch(ae){case"input":case"searching":default:e=null;break;case"done":e="XMarkCircleIcon"}return e?(0,i.jsx)("div",{className:(0,c.AK)("absolute top-1/2 right-2 -translate-y-1/2",Y?"":"hidden"),children:(0,i.jsx)("button",{className:"button ghost icon sm",disabled:ce,onClick:ve,children:(0,i.jsx)(f.Z,{icon:e,from:"v2",variant:"large",className:"w-5 h-5"})})}):null}()]}),ae!==I&&(0,i.jsxs)(y.Z,{className:"button auxiliary",onClick:ve,disabled:ce||ae===Z,children:[ae===Z&&(0,i.jsx)(h.Z,{}),ae===S&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"px-1",children:"Next"}),(0,i.jsx)(f.Z,{icon:"ArrowRightIcon",className:"h-5 w-5"})]})]})]})}),"searching"===ae&&(0,i.jsx)("div",{className:"py-4",children:(0,i.jsx)("p",{className:"label helper",children:"Looking up domain..."})}),"done"===ae&&(0,i.jsx)(i.Fragment,{children:ee===_&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"alert default mb-4",children:[(0,i.jsx)(f.Z,{icon:"InformationCircleIcon",className:"w-5 h-5"}),(0,i.jsx)("span",{children:"You already have this domain. Click below to manage it."})]}),(0,i.jsx)(x,{title:k.ZP.toUnicode(a),onAction:function(){V.push("/website/domain/".concat(a)).catch((function(){}))}})]})}),ee===D&&!!t&&(0,i.jsxs)("div",{className:"alert default mb-4",children:[(0,i.jsx)(f.Z,{icon:"InformationCircleIcon",className:"w-5 h-5"}),(0,i.jsxs)("span",{children:["Registered with ",(0,i.jsx)("span",{children:n})]})]})]}),!ce&&!0===B&&(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{children:k.ZP.toUnicode(a)}),!!t&&(0,i.jsxs)("p",{className:"label helper mt-2",children:["Registered with ",(0,i.jsx)("span",{children:n})," on ",(0,i.jsx)("span",{children:v.ou.now().toFormat("MMM d, y")})]})]}),ee===A&&(0,i.jsxs)("div",{className:"alert danger items-center",children:[(0,i.jsx)(f.Z,{icon:"ExclamationIcon"}),(0,i.jsx)("span",{children:me})]}),ce&&(0,i.jsx)(g.Z,{variant:"box",className:"!my-0"}),"done"===ae&&(0,i.jsx)(i.Fragment,{children:!ce&&ee===D&&(0,i.jsxs)("div",{className:"space-y-2 mt-6",children:[le&&(0,i.jsx)(x,{recommended:!0,title:"Quick connection",description:(0,i.jsxs)("span",{children:["Use a service called ",(0,i.jsx)("strong",{children:"Entri"})," to easily and securely connect your domain."]}),onAction:function(){de(!0),be("entri",(function(){z?R():M(),window.dispatchEvent(new CustomEvent("onEntriOpen",{detail:{prefilledDomain:k.ZP.toUnicode(a)}}))})).catch((function(){}))}}),(0,i.jsx)(x,{title:"Get help from a person",description:"Book a call or connect with live chat to connect your domain.",onAction:function(){T(!0)}}),(0,i.jsx)(x,{title:"Configure manually",description:"For advanced users. Manually configure DNS settings in ".concat("Unknown"!==n?n:"your provider","."),onAction:function(){be("manual",(function(){U()})).catch((function(){}))}})]})})]})},T=t(98897),M=t(20523),R=function(e){var n=e.domainName,t=e.registrarName,a=e.displayLinks,o=e.displayBooking,l=e.onDisplayBooking,s=e.entryPoint;return(0,i.jsxs)(i.Fragment,{children:[a&&(0,i.jsx)(M.Z,{onGetAssistant:function(){l(!0)}}),(0,i.jsx)(T.Z,{open:o,setOpen:l,domainName:n,registrarName:t,entryPoint:s})]})},U=function(e){var n=e.domainName,t=e.onClose,a='url("'.concat((0,c.sd)("domain/bg-connection-in-progress.svg"),'")');return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"relative flex flex-row justify-center items-center w-full h-[133px] bg-no-repeat bg-cover rounded-t-2xl",style:{backgroundImage:a},children:[(0,i.jsx)("div",{className:"flex flex-row justify-center items-center w-20 h-20 bg-white rounded-full shadow-around-md",children:(0,i.jsx)(f.Z,{icon:"CheckIcon",className:"w-9 h-10 text-gray-900"})}),(0,i.jsx)("span",{className:"absolute bottom-0 left-0 right-0 block w-full bg-gradient-to-b from-transparent to-white h-5"})]}),(0,i.jsxs)("div",{className:"flex flex-row flex-wrap justify-center items-start w-full p-4 md:px-20 md:py-8",children:[(0,i.jsx)("p",{className:"w-full text-center text-gray-900 font-semibold text-h4 mb-3",children:"Connection in progress"}),(0,i.jsxs)("p",{className:"w-full text-center text-gray-900 font-normal text-ceramic-medium mb-5",children:[k.ZP.toUnicode(n)," is being connected to Durable."]}),(0,i.jsxs)("div",{className:"alert warning",children:[(0,i.jsx)(f.Z,{icon:"BellIcon"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mb-1",children:"Domain setup may take up to 48 hours."}),(0,i.jsxs)("div",{children:["We'll"," send you an email when your domain is ready."]})]})]})]}),(0,i.jsx)("div",{className:"flex items-center justify-center pb-12",children:(0,i.jsx)("button",{className:"button default",onClick:function(){"function"===typeof t&&t()},children:"Close"})})]})},L=function(e){var n=e.step,t=e.total,a=e.children;return(0,i.jsxs)("div",{className:"py-5",children:[(0,i.jsxs)("label",{className:"mb-1 font-bold",children:["Step ",(0,i.jsx)("span",{children:n})," of ",(0,i.jsx)("span",{children:t})]}),(0,i.jsx)("div",{children:a})]})},P=t(49480),B=function(e){var n=e.domainName,t=e.registrarName,a=e.registrarUrl,o=e.requiredRecords,l=e.toDeleteDnsRecords,s=e.dnsRecords,r=e.acceptableIps,c=e.onCancelProcess,d=e.onConnectDomain,u=e.onRequestSupport,m=e.isLoading,p=e.website,h=function(e){return"A"===(null===e||void 0===e?void 0:e.type)&&"@"===(null===e||void 0===e?void 0:e.name)&&(n=null===e||void 0===e?void 0:e.data,!!r.find((function(e){return e.ip===n})));var n};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"px-12",children:[(0,i.jsx)(L,{step:1,total:5,children:(0,i.jsxs)("div",{className:"space-x-1 text-sm text-black text-opacity-55",children:[(0,i.jsx)("span",{children:"In a new browser tab, sign into"}),!!a&&(0,i.jsx)("a",{href:a,target:"_blank",className:"underline font-medium",children:t}),!a&&(0,i.jsx)("span",{children:"your domain provider."})]})}),(0,i.jsxs)(L,{step:2,total:5,children:[(0,i.jsxs)("p",{className:"label helper mb-3",children:[(0,i.jsx)("span",{children:"Find the DNS settings for "}),(0,i.jsx)("span",{children:k.ZP.toUnicode(n)})]}),(0,i.jsxs)("div",{className:"alert neutral",children:[(0,i.jsx)(f.Z,{icon:"InfoCircleIcon",from:"v2",variant:"large"}),(0,i.jsx)("span",{children:'This may be called "DNS Management", "Advanced settings", or similar.'})]})]}),(0,i.jsxs)(L,{step:3,total:5,children:[(0,i.jsx)("p",{className:"label helper mb-3",children:"Delete the following DNS records"}),(0,i.jsx)(P.Z,{tableID:"table-dns-delete-records",dnsRecords:l,colClassName:"text-red-900 bg-red-50",isLoading:m,emptyRowsMessage:"There's no records required to be deleted."})]}),!m&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(L,{step:4,total:5,children:[(0,i.jsx)("p",{className:"label helper mb-3",children:"Add the following DNS records"}),(0,i.jsxs)("div",{className:"alert neutral mb-3",children:[(0,i.jsx)(f.Z,{icon:"InfoCircleIcon",from:"v2",variant:"large"}),(0,i.jsxs)("div",{children:['"Name" might be called "host", "hostname", or "alias" in ',(0,i.jsx)("span",{children:"Unknown"!==t?t:"your provider"}),'. If you "can\'t" enter @, leave it blank or enter ',(0,i.jsx)("strong",{children:k.ZP.toUnicode(n)}),"."]})]}),(0,i.jsx)(P.Z,{tableID:"table-dns-add-records",dnsRecords:function(){var e=[],t=(0,C.F)(n);if(!0===(null===t||void 0===t?void 0:t.isSubdomain))e=[{type:"CNAME",name:t.subdomain,data:null===o||void 0===o?void 0:o.CNAME}];else{var a,i=!0,l=!0,r=!1,c=void 0;try{for(var d,u=s[Symbol.iterator]();!(l=(d=u.next()).done);l=!0){var m=d.value;"A"===(null===m||void 0===m?void 0:m.type)&&h(m)&&(i=!1)}}catch(f){r=!0,c=f}finally{try{l||null==u.return||u.return()}finally{if(r)throw c}}i&&e.push({type:"A",name:"@",data:null===o||void 0===o?void 0:o.A}),e.push({type:"CNAME",name:"www",data:null===o||void 0===o?void 0:o.CNAME}),1!==(null===p||void 0===p||null===(a=p.cloudflare)||void 0===a?void 0:a.version)&&e.push({type:"CNAME",name:"_acme-challenge",data:"".concat(n,".").concat(null===o||void 0===o?void 0:o.DCV)})}return e}(),colClassName:"text-green-900 bg-green-50",copyCol:!0,isLoading:m})]}),(0,i.jsxs)(L,{step:5,total:5,children:[(0,i.jsxs)("p",{className:"label helper mb-1",children:["Save your changes in ",(0,i.jsx)("span",{children:"Unknown"!==t?t:"your provider"}),"."]}),(0,i.jsxs)("p",{className:"label helper",children:["Then return here and press ",(0,i.jsx)("strong",{children:"Connect"})," below."]})]})]})]}),(0,i.jsxs)("div",{className:"sticky bottom-0 bg-white pb-12 space-y-4 rounded-b-2xl border-t",children:[(0,i.jsx)("div",{className:"px-12 py-3",children:(0,i.jsx)(M.Z,{style:"inline",onGetAssistant:u})}),(0,i.jsxs)("div",{className:"flex items-center justify-end gap-3 px-12",children:[(0,i.jsx)("button",{className:"button auxiliary w-full md:w-auto",onClick:function(){c()},children:"Cancel"}),(0,i.jsx)("button",{className:"button default w-full md:w-auto",onClick:d,children:"Connect"})]})]})]})},O=[{key:"select-domain",title:"Use a domain I own"},{key:"configure-manually",title:"Connect domain manually"},{key:"connection-progress",title:null}],z=function(e){var n=e.open,t=e.setOpen,m=e.resumeDomain,p=e.refreshWebsite,h=e.fromBuilder,f=void 0!==h&&h,x=e.afterComplete,v=void 0===x?null:x,g=e.onStepChange,b=e.onBack,y=e.onClose,j=e.website,w=(0,l.useRef)(!1),N=(0,d.Z)(),S=N.get,Z=N.post,I=(0,l.useState)(O),E=I[0],A=I[1],_=(0,l.useState)(0),D=_[0],T=_[1],M=(0,l.useState)(m||""),L=M[0],P=M[1],z=(0,l.useState)(""),V=z[0],K=z[1],q=(0,l.useState)(""),J=q[0],W=q[1],G=(0,l.useState)(!1),H=G[0],X=G[1],Y=(0,l.useState)([]),$=Y[0],Q=Y[1],ee=(0,l.useState)([]),ne=ee[0],te=ee[1],ae=(0,l.useState)([]),oe=ae[0],ie=ae[1],le=(0,l.useState)([]),se=le[0],re=le[1],ce=(0,l.useState)(!1),de=ce[0],ue=ce[1],me=(0,l.useState)(!1),pe=me[0],he=me[1],fe=(0,l.useState)("md:w-140"),xe=fe[0],ve=fe[1],ge=function(){return E[D]},be=function(e){var n;return(null===(n=ge())||void 0===n?void 0:n.key)===e},ye=function(e){var n=E.findIndex((function(n){return n.key===e}));n>=0&&T(n)},je=function(e){var n=e.replace("https://","");return n=n.replace("http://",""),k.ZP.toASCII(n).toLowerCase()},we=function(){t(!1),p()},Ne=function(e){var n=[],t=je(L),a=t.split(".").length>=3?t.split(".")[0]:"@";for(var o in e){var i=e[o],l=!0,s=!1,r=void 0;try{for(var c,d=i[Symbol.iterator]();!(l=(c=d.next()).done);l=!0){var u=c.value;if(Array.isArray(u))n.push({type:o,name:a,data:u.join(" ")});else if("object"===typeof u){var m="";for(var p in u)m+="".concat(p,"=").concat(u[p],"; ");n.push({type:o,name:a,data:m})}else n.push({type:o,name:a,data:u})}}catch(h){s=!0,r=h}finally{try{l||null==d.return||d.return()}finally{if(s)throw r}}}return n},ke=function(e){return!!ne.find((function(n){return n.ip===e}))},Ce=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"@";return"A"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.name)===n&&ke(null===e||void 0===e?void 0:e.data)},Se=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"www";return"CNAME"===(null===e||void 0===e?void 0:e.type)&&(null===e||void 0===e?void 0:e.name)===n&&(null===e||void 0===e?void 0:e.data)===(null===$||void 0===$?void 0:$.CNAME)},Ze=function(e){var n=[],t=je(L),a=(0,C.F)(t),o=!0,i=!1,l=void 0;try{for(var s,r=e[Symbol.iterator]();!(o=(s=r.next()).done);o=!0){var c=s.value;if(!0===(null===a||void 0===a?void 0:a.isSubdomain)){var d=(null===a||void 0===a?void 0:a.subdomain)||"www";"A"!==(null===c||void 0===c?void 0:c.type)||Ce(c,d)||n.push(c),"CNAME"!==(null===c||void 0===c?void 0:c.type)||Se(c,d)||n.push(c)}else("A"===(null===c||void 0===c?void 0:c.type)&&!Ce(c)||"CNAME"===(null===c||void 0===c?void 0:c.type)&&!Se(c))&&n.push(c)}}catch(u){i=!0,l=u}finally{try{o||null==r.return||r.return()}finally{if(i)throw l}}re(n)},Ie=function(e){e?t(e):(we(),f&&"function"===typeof b&&b())},Ee=function(){var e=(0,a.Z)((function(){return(0,o.__generator)(this,(function(e){return Z("/website/cancel-external-domain-connection",{domain:L}),[2]}))}));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){var e=document.querySelector("#modal-domain-link-steps");e&&e.scrollTo(0,0),be("configure-manually")||be("connection-progress")?ve("md:w-180"):ve("md:w-140")}),[D]),(0,l.useEffect)((function(){m&&P(m)}),[m]),(0,l.useEffect)((function(){var e;"function"===typeof g&&g(null===(e=ge())||void 0===e?void 0:e.key)}),[D]),(0,l.useEffect)((function(){return w.current=!0,S("/domain-lookup/required-records",{}).then((function(e){var n,a;e&&!0===(null===e||void 0===e?void 0:e.status)?(Q(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.records),te(null===e||void 0===e||null===(a=e.content)||void 0===a?void 0:a.acceptableIps)):(c.Z9.error("Temporary unavailable"),t(!1))})).catch((function(){c.Z9.error("Temporary unavailable"),t(!1)})),function(){w.current=!1}}),[]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.h,{children:(0,i.jsx)(r.Z,{open:n,setOpen:Ie,modalTitle:function(){var e;return m?"Resume domain connection":f?"Get a domain and publish":null===(e=E[D])||void 0===e?void 0:e.title}(),contentClassNames:xe,mobileExpanded:!1,children:(0,i.jsxs)("div",{id:"modal-domain-link-steps",children:[be("select-domain")&&(0,i.jsx)(u.Z,{children:(0,i.jsx)(F,{registrarName:V,registrarUrl:J,domainName:L||"",onDomainSet:function(e){return P(e)},onConfirmDomain:function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;ue(!0),A(O),S("/domain-lookup/read",{domainName:e||je(L)}).then((function(e){if(e&&!0===e.status){var n=Ne(e.content);ie(n),Ze(n)}})).finally((function(){ue(!1)}))}()},onRegistrarSet:function(e){return K(e)},onRegistrarUrlSet:function(e){return W(e)},onDisplaySupport:function(e){return X(e)},onDisplayBooking:he,onClose:function(){return Ie(!1)},onEntriStart:y,onManualSetup:function(){ye("configure-manually"),function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ue(!0),Z("/website/update-external-domain-connection",{status:"processing"}).then((function(){e&&ye("connection-progress")})).finally((function(){ue(!1)}))}(!1)},resumeDomain:!!m||!1,fromBuilder:f})}),be("configure-manually")&&(0,i.jsx)(u.Z,{children:(0,i.jsx)(B,{website:j,domainName:je(L),registrarName:V,registrarUrl:J,toDeleteDnsRecords:se,dnsRecords:oe,acceptableIps:ne,requiredRecords:$,isLoading:de,onCancelProcess:function(){Ee(),ye("select-domain")},onConnectDomain:function(){return ye("connection-progress")},onRequestSupport:function(){return he(!0)}})}),be("connection-progress")&&(0,i.jsx)(u.Z,{children:(0,i.jsx)(U,{domainName:je(L),onClose:function(){we(),"function"===typeof v&&v(),setTimeout((function(){w.current&&(T(0),P(""),K(""),W(""),ie([]),re([]),ue(!1))}),1e3)}})}),!be("connection-progress")&&(0,i.jsx)("div",{className:(0,c.AK)(H&&"block w-full p-8",H&&!f&&"absolute bottom-0 left-0"),children:(0,i.jsx)(R,{registrarName:V,domainName:je(L),displayLinks:H,displayBooking:pe,onDisplayBooking:he,entryPoint:"domain-assistance"})})]})})})})}},54126:function(e,n,t){var a=t(85893);n.Z=function(){return(0,a.jsxs)("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}},38947:function(e,n,t){var a=t(85893),o=t(11355),i=t(27507),l=t(67294),s=t(3732),r=t(40944);n.Z=function(e){var n=e.children,t=e.open,c=e.setOpen,d=e.onClose,u=e.fullMode,m=e.modalClassNames,p=e.contentClassNames,h=e.modalTitle,f=e.hideCloseX,x=e.mobileExpanded,v=e.scrollAlwaysVisible,g=function(){"function"===typeof d?d():c(!1)};return(0,a.jsx)(o.u,{show:t,as:l.Fragment,children:(0,a.jsxs)(i.V,{as:"div",className:"relative z-100",onClose:g,children:[(0,a.jsx)(o.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,a.jsx)(i.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,a.jsx)(o.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,a.jsx)("div",{className:(0,s.AK)(x&&!u?"min-h-[90vh]":"min-h-[0]","fixed bottom-0 left-0 bg-white w-full","md:bottom-[unset] shadow-lg ",!u&&"rounded-t-md md:left-1/2 md:top-1/2 md:-translate-y-1/2 md:-translate-x-1/2",!u&&"md:w-auto md:min-w-140 md:max-h-[80vh] md:min-h-[auto] md:rounded-2xl",u&&"md:w-full h-[100vh] inset-0 rounded-none",m),children:(0,a.jsxs)("div",{className:(0,s.AK)(p),children:[!!h&&(0,a.jsxs)("div",{className:"sticky top-0 z-20 flex items-center justify-between gap-4 w-full bg-white pb-6 pt-12 px-12 rounded-t-2xl",children:[(0,a.jsx)(i.V.Title,{className:"text-xl font-semibold text-black text-opacity-80",children:h}),!f&&(0,a.jsx)("button",{className:"button auxiliary icon sm rounded-full",onClick:g,children:(0,a.jsx)(r.Z,{icon:"XMarkIcon",from:"v2",className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:(0,s.AK)("block w-full scrollbar",v?"overflow-y-scroll":"overflow-y-auto",!u&&"max-h-[calc(90vh-60px)] md:max-h-[calc(80vh-100px)]",u&&"h-[calc(100vh-60px)] md:h-[calc(100vh-80px)]"),children:n})]})})})]})})}},49480:function(e,n,t){t.d(n,{Z:function(){return c}});var a=t(85893),o=t(67294),i=t(3732),l=t(40944),s=function(e){var n=e.target,t=e.extraClassNames,s=(0,o.useRef)(!1),r=(0,o.useState)(!1),c=r[0],d=r[1];return(0,o.useEffect)((function(){return s.current=!0,function(){s.current=!1}}),[]),(0,a.jsx)("div",{className:(0,i.AK)("absolute inset-0 cursor-pointer",t),onClick:function(){if(n){var e=document.querySelector(n);if(e){var t=document.createElement("textarea");t.id="dns-record-copy-column-textarea",t.value=e.innerText,t.style.display="none",document.body.append(t),t.select(),t.setSelectionRange(0,99999),navigator.clipboard.writeText(t.value).finally((function(){var e;null===(e=document.getElementById("dns-record-copy-column-textarea"))||void 0===e||e.remove(),s.current&&d(!0),setTimeout((function(){s.current&&d(!1)}),3e3)}))}}},children:(0,a.jsxs)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[!c&&(0,a.jsx)(l.Z,{icon:"ClipboardCopyIcon",className:"w-5 h-5"}),c&&(0,a.jsx)(l.Z,{icon:"CheckIcon",className:"w-5 h-5"})]})})},r=t(16494),c=function(e){var n=e.tableID,t=e.dnsRecords,c=e.rowClassName,d=e.colClassName,u=e.copyCol,m=void 0!==u&&u,p=e.copyColColor,h=void 0===p?"bg-green-100":p,f=e.isLoading,x=void 0!==f&&f,v=e.emptyRowsMessage,g=void 0===v?null:v,b=[{name:"Type",recWidth:"w-32"},{name:"Name",recWidth:"w-[calc(100%-128px)] sm:w-50"},{name:"Data",recWidth:"w-full sm:w-auto sm:max-w-64"}],y=m?"hover:".concat(h," active:bg-opacity-100"):"";return t&&t.length?(0,a.jsxs)(a.Fragment,{children:[x&&(0,a.jsx)("div",{className:"flex flex-row flex-wrap justify-center items-center w-full bg-gray-50 h-40 mb-2",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"w-full flex justify-center mb-3",children:(0,a.jsx)(r.Z,{variant:"icon"})}),(0,a.jsx)("span",{className:"w-full text-center text-gray-500 text-cermaic-small font-normal",children:"Loading records..."})]})}),!x&&(0,a.jsxs)("table",{className:"w-full",id:n,children:[(0,a.jsxs)("thead",{className:"hidden sm:table-header-group",children:[(0,a.jsx)("tr",{children:b.map((function(e,t){return(0,a.jsx)("th",{className:(0,i.AK)("py-1 px-3 text-left",e.recWidth),children:(0,a.jsx)("span",{className:"block w-full text-sm font-normal text-gray-500",children:e.name})},"".concat(n,"-th-item-").concat(t))}))}),(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:b.length,className:"h-2 bg-white"})})]}),(0,a.jsx)("tbody",{children:t.map((function(e,t){return(0,a.jsxs)(o.Fragment,{children:[(0,a.jsxs)("tr",{className:(0,i.AK)("flex flex-row flex-wrap justify-start items-start sm:table-row",c),children:[(0,a.jsxs)("td",{className:(0,i.AK)("group relative py-3.5 px-3 border-b-1 border-r-1 border-gray-200 sm:border-none sm:rounded-l-xl",d,b[0].recWidth,y),children:[(0,a.jsx)("span",{className:"text-gray-500 font-normal text-xs sm:hidden",children:b[0].name}),(0,a.jsx)("span",{className:"block w-full text-sm font-normal break-all pr-8 font-jetbrains","data-copy-target":"copy-target-".concat(t,"-col-1"),children:e.type}),m&&(0,a.jsx)(s,{target:"".concat(n?"#".concat(n," "):"",'[data-copy-target="copy-target-').concat(t,'-col-1"]'),extraClassNames:"block md:hidden group-hover:block rounded-l-xl"})]}),(0,a.jsxs)("td",{className:(0,i.AK)("group relative py-3.5 px-3 border-b-1 border-gray-200 sm:border-none",d,b[1].recWidth,y),children:[(0,a.jsx)("span",{className:"text-gray-500 font-normal text-xs sm:hidden",children:b[1].name}),(0,a.jsx)("span",{className:"block w-full text-sm font-normal break-all pr-8 font-jetbrains","data-copy-target":"copy-target-".concat(t,"-col-2"),children:e.name}),m&&(0,a.jsx)(s,{target:"".concat(n?"#".concat(n," "):"",'[data-copy-target="copy-target-').concat(t,'-col-2"]'),extraClassNames:"block md:hidden group-hover:block rounded-l-xl"})]}),(0,a.jsxs)("td",{className:(0,i.AK)("group relative py-3.5 px-3 sm:rounded-r-xl",d,b[2].recWidth,y),children:[(0,a.jsx)("span",{className:"text-gray-500 font-normal text-xs sm:hidden",children:b[2].name}),(0,a.jsx)("span",{className:"block w-full text-sm font-normal break-all pr-8 font-jetbrains","data-copy-target":"copy-target-".concat(t,"-col-3"),children:e.data}),m&&(0,a.jsx)(s,{target:"".concat(n?"#".concat(n," "):"",'[data-copy-target="copy-target-').concat(t,'-col-3"]'),extraClassNames:"block md:hidden group-hover:block rounded-l-xl"})]})]}),(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:b.length,className:"h-3 sm:h-2 bg-white"})})]},"".concat(n,"-dns-records-row-").concat(t))}))})]})]}):(0,a.jsxs)("div",{className:"alert neutral",children:[(0,a.jsx)(l.Z,{icon:"InfoCircleIcon",from:"v2",variant:"large"}),(0,a.jsx)("span",{children:null===g?"No records found.":g})]})}},18362:function(e,n,t){var a=t(85893),o=t(40944),i=t(11355),l=t(67294),s=t(19645);n.Z=function(e){var n=e.visible,t=e.context,r=e.onClose,c=e.image,d=e.title,u=e.description,m=e.buttonTitle,p=e.buttonAction,h=e.featTitle,f=e.features,x=e.bgColor,v=e.closeColor,g=(0,s.Z)().track,b=c?"url('".concat(c,"')"):null,y=function(){"function"===typeof r&&r()};return(0,l.useEffect)((function(){n&&g("account:paywall_trigger_clicked",{context:t})}),[n]),(0,a.jsxs)(a.Fragment,{children:[n&&(0,a.jsx)("div",{className:"fixed inset-0 z-100 bg-gray-900/20",onClick:y}),(0,a.jsx)(i.u,{show:n,appear:!0,as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-50",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-50",children:(0,a.jsxs)("div",{className:"fixed bg-white block rounded-t-lg shadow-md z-100 bottom-0 left-0 right-0 w-full max-h-screen overflow-y-auto md:overflow-y-hidden md:h-auto md:rounded-lg md:w-215 md:bottom-auto md:left-[calc(50%-430px)] md:top-[calc(50%-234px)]",children:[(0,a.jsx)("button",{className:"right-5 top-5 absolute z-110",onClick:y,children:(0,a.jsx)(o.Z,{icon:"XIcon",className:"w-5 h-5 ".concat(v||"text-gray-900"," md:text-gray-900")})}),(0,a.jsxs)("div",{className:"flex flex-row flex-wrap justify-center items-center md:flex-nowrap",children:[(0,a.jsx)("div",{className:"w-full md:w-1/2 md:h-120",children:(0,a.jsx)("div",{className:"relative block w-full h-56 md:h-120 ".concat(x||"bg-white"),children:c&&(0,a.jsx)("span",{className:"absolute z-100 inset-0 bg-contain bg-no-repeat bg-center",style:{backgroundImage:b}})})}),(0,a.jsx)("div",{className:"w-full md:w-1/2 md:h-120",children:(0,a.jsxs)("div",{className:"block p-6.5 md:p-8",children:[(0,a.jsx)("h3",{className:"block w-full font-bold text-h3 text-gray-900 mb-4",children:d}),(0,a.jsx)("p",{className:"block w-full text-ceramic-small text-gray-500 font-normal mb-8",children:u}),!!(null===f||void 0===f?void 0:f.length)&&(0,a.jsxs)(a.Fragment,{children:[h&&(0,a.jsx)("p",{className:"block w-full text-gray-900 font-medium text-label mb-4",children:h}),(0,a.jsx)("ul",{className:"m-0 p-0 w-full block mb-4",children:f.map((function(e,n){return(0,a.jsxs)("li",{className:"p-0 m-0 flex flex-row flex-nowrap justify-start items-center pb-3.5",children:[(0,a.jsx)("span",{className:"mr-1",children:(0,a.jsx)(o.Z,{icon:"CheckCircleSolidIcon",className:"w-5 h-5"})}),(0,a.jsx)("span",{className:"text-gray-900 font-normal text-label",children:e})]},"paywall-feature-".concat(n))}))})]}),(0,a.jsx)("button",{className:"block w-full p-4 text-center text-white text-base font-medium rounded-md bg-indigo-600",onClick:function(){p()},children:m})]})})]})]})})]})}},98897:function(e,n,t){t.d(n,{Z:function(){return I}});var a=t(85893),o=t(67294),i=t(40944),l=t(2740),s=t(38947),r=t(3732),c=function(e){var n=e.title,t=e.tag,o=e.tagClasses,l=e.onAction,s=e.disabled,c=e.children;return(0,a.jsxs)("div",{onClick:function(){s||"function"===typeof l&&l()},className:(0,r.AK)("flex items-center justify-between gap-4 p-4 bg-white border rounded-xl border-black border-opacity-10 text-black text-opacity-55 select-none transition-all",s?"opacity-50":"cursor-pointer hover:border-opacity-30 hover:text-opacity-80"),children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("label",{children:n}),!!t&&(0,a.jsx)("span",{className:(0,r.AK)("badge",o?"":"neutral",o),children:t})]}),(0,a.jsx)("div",{className:"py-4",children:c})]}),!s&&(0,a.jsx)(i.Z,{icon:"ChevronRightIcon",className:"w-5 h-5"})]})},d=function(e){var n=e.onBookAction;return(0,a.jsxs)(c,{title:"Schedule a Support Session",onAction:n,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-black text-opacity-55 mb-2",children:[(0,a.jsx)(i.Z,{icon:"ClockIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,a.jsx)("span",{children:"30 minutes"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-black text-opacity-55 mb-2",children:[(0,a.jsx)(i.Z,{icon:"VideoIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Video call"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-black text-opacity-55",children:[(0,a.jsx)(i.Z,{icon:"CalendarIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Choose from available times"})]})]})},u=t(75511),m=t(95350),p=t(16682),h=t(16494),f=function(e){var n=e.entryPoint,t=e.onClose,l=(0,o.useState)(!1),s=l[0],r=l[1],d=(0,o.useState)(!0),f=d[0],x=d[1],v=(0,o.useRef)(!1),g=(0,p.Z)().get,b=(0,u.S)(),y=b.openSupport,j=b.isOpenSupport;return(0,o.useEffect)((function(){return v.current=!0,x(!0),g("/support/is-on-available-hours",{}).then((function(e){var n;v.current&&(!0===(null===e||void 0===e?void 0:e.status)&&!0===(null===e||void 0===e||null===(n=e.content)||void 0===n?void 0:n.available)?r(!0):r(!1))})).catch((function(){v.current&&r(!1)})).finally((function(){v.current&&x(!1)})),function(){v.current=!1}}),[]),(0,a.jsxs)(a.Fragment,{children:[f&&(0,a.jsx)(h.Z,{variant:"box-inner"}),!f&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(c,{title:"Live chat",tag:"".concat(s?"Online now":"Away"),tagClasses:s?"success":"",onAction:function(){s&&(t(),j||y(!1,0,n||"general").catch((function(){return m.Z.error("Something went wrong")})))},disabled:!s,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-black text-opacity-55 mb-2",children:[(0,a.jsx)(i.Z,{icon:"CalendarIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Monday-Friday"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-black text-opacity-55",children:[(0,a.jsx)(i.Z,{icon:"ClockIcon",from:"v2",variant:"large",className:"w-5 h-5"}),(0,a.jsx)("span",{children:"7am\u20134:30pm PST"})]})]})})]})},x=function(e){var n=e.onAction,t=e.onClose,o=e.entryPoint,i=e.canBook,l=void 0!==i&&i;return(0,a.jsxs)("div",{className:"px-4 w-128 max-w-full mx-auto",children:[(0,a.jsx)("div",{className:"py-4 mb-2",children:(0,a.jsx)("p",{className:"text-sm font-bold text-black",children:"Get help connecting your domain from a Durable domain expert."})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(f,{entryPoint:o,onClose:t}),!!l&&(0,a.jsx)(d,{onBookAction:n})]})]})},v=t(4298),g=t.n(v),b=function(e){var n=e.domainName,t=e.onSuccess,i=(0,p.Z)().get,l=(0,o.useState)("700px"),s=l[0],r=l[1],c="https://calendly.com/durable-team/domain-assistance",d=function(e){var n,a;(function(e){var n;return"https://calendly.com"===(null===e||void 0===e?void 0:e.origin)&&(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.event)&&0===e.data.event.indexOf("calendly.")})(e)&&("calendly.event_scheduled"===e.data.event&&function(e){var n=function(e){try{var n,t,a=null===(n=e.event)||void 0===n?void 0:n.uri,o=null===e||void 0===e||null===(t=e.invitee)||void 0===t?void 0:t.uri;return{schedule:a.replace("https://api.calendly.com/scheduled_events/","").replaceAll(/[^0-9a-zA-Z-]/g,""),invite:o.replace(a,"").replace("/invitees/","").replaceAll(/[^0-9a-zA-Z-]/g,"")}}catch(i){return{}}}(e.data.payload);i("/support/calendly-invite-info",n).then((function(e){e&&!0===(null===e||void 0===e?void 0:e.status)&&t(e.content)})).catch((function(e){return console.log(e)}))}(e),"calendly.page_height"===e.data.event&&r(null===(n=e.data)||void 0===n||null===(a=n.payload)||void 0===a?void 0:a.height))};return(0,o.useEffect)((function(){return window.removeEventListener("message",d),window.addEventListener("message",d),function(){window.removeEventListener("message",d)}}),[n]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"block w-180 max-w-full mx-auto max-h-[80vh] overflow-y-auto -pt-6",children:[(0,a.jsx)("div",{className:"iframe-booking","data-url":c,style:{width:"720px",maxWidth:"100%",height:s}}),(0,a.jsx)(g(),{src:"https://assets.calendly.com/assets/external/widget.js",strategy:"lazyOnload",onReady:function(){"object"===typeof(null===window||void 0===window?void 0:window.Calendly)&&window.Calendly.initInlineWidget({url:c,parentElement:document.querySelector(".iframe-booking")})}})]})})},y=t(52077),j=t(25675),w=t.n(j),N=t(30120),k=function(e){var n=(0,p.Z)().get,t=e.domainName,l=e.registrarName,s=e.onClose,c=e.bookPayload,d=(0,o.useState)(l),u=d[0],m=d[1],h=(0,o.useState)(null),f=h[0],x=h[1],v=(0,o.useState)(null),g=v[0],b=v[1],j=(0,o.useState)(null),k=j[0],C=j[1],S=(0,o.useState)(null),Z=S[0],I=S[1],E=(0,o.useState)(null),A=E[0],_=E[1];return(0,o.useEffect)((function(){x((null===c||void 0===c?void 0:c.email)||null),b((null===c||void 0===c?void 0:c.name)||null),C((null===c||void 0===c?void 0:c.title)||null),function(e){if(e){var n=N.ou.fromISO(e,{zone:"America/Vancouver"});I(n.toFormat("EEEE, MMMM dd, y")),_(n.toFormat("hh:mm a").toLowerCase())}else I(null),_(null)}(null===c||void 0===c?void 0:c.date)}),[c]),(0,o.useEffect)((function(){l||n("/domain-lookup/registrar",{domainName:t}).then((function(e){var n,t;e&&!0===(null===e||void 0===e?void 0:e.status)?m(null===e||void 0===e||null===(n=e.content)||void 0===n||null===(t=n.registrar)||void 0===t?void 0:t.name):m("in your registrar")})).catch((function(){m("in your registrar")}))}),[t,l]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"block p-5 w-120 max-w-full mx-auto",children:[(0,a.jsx)("div",{className:"relative block w-full h-30",children:(0,a.jsx)(w(),{src:(0,r.sd)("support/support-success-banner.svg"),layout:"fill",alt:"Banner"})}),(0,a.jsxs)("h4",{className:"text-h4 font-semibold text-center text-gray-900 mb-3",children:["You're"," Booked"]}),(0,a.jsx)("p",{className:"text-ceramic-medium font-normal text-center text-gray-900 mb-5",children:"A calendar invitation has been sent to your email address"}),(0,a.jsxs)("ul",{className:"block w-full bg-gray-50 p-6 mb-6 rounded-md",children:[(0,a.jsx)("li",{className:"mb-4",children:(0,a.jsx)("span",{className:"font-semibold text-body text-gray-900",children:"Durable domain support"})}),(0,a.jsxs)("li",{className:"mb-4 flex flex-row flex-nowrap justify-start items-center gap-1 text-ceramic-small",children:[(0,a.jsx)("div",{className:"w-5 h-5 min-w-5 flex flex-flow justify-center items-center",children:(0,a.jsx)(i.Z,{icon:"UserSolidIcon",className:"w-5 h-5 text-gray-900"})}),(0,a.jsxs)("div",{className:"ml-5 text-ceramic-small text-left text-gray-900 font-normal",children:[(0,a.jsx)("p",{children:g||""}),(0,a.jsx)("p",{children:f||""})]})]}),Z&&A&&k&&(0,a.jsxs)("li",{className:"mb-4 flex flex-row flex-nowrap justify-start items-center gap-1 text-ceramic-small",children:[(0,a.jsx)("div",{className:"w-5 h-5 min-w-5 flex flex-flow justify-center items-center",children:(0,a.jsx)(i.Z,{icon:"CalendarIcon",className:"w-5 h-5 text-gray-900"})}),(0,a.jsxs)("div",{className:"ml-5 text-ceramic-small text-left text-gray-900 font-normal",children:[(0,a.jsx)("p",{children:Z}),(0,a.jsxs)("p",{children:[A," (",k,")"]})]})]}),(0,a.jsxs)("li",{className:"mb-4 flex flex-row flex-nowrap justify-start items-center gap-1 text-ceramic-small",children:[(0,a.jsx)("div",{className:"w-5 h-5 min-w-5 flex flex-flow justify-center items-center",children:(0,a.jsx)(i.Z,{icon:"GlobeIcon",className:"w-5 h-5 text-gray-900"})}),(0,a.jsx)("div",{className:"ml-5 text-ceramic-small text-left text-gray-900 font-normal",children:(0,a.jsx)("p",{children:"Pacific Time (US & Canada)"})})]})]}),(0,a.jsxs)("div",{className:"flex flex-row flex-wrap md:flex-nowrap justify-start items-start bg-blue-50 p-4 rounded-md gap-4 mb-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)(i.Z,{icon:"InformationCircleSolidIcon",className:"text-blue-600 w-5 h-5"})}),(0,a.jsxs)("div",{className:"text-blue-800 font-medium text-ceramic-small",children:[(0,a.jsx)("p",{className:"mb-2",children:"Before the meeting, please:"}),(0,a.jsxs)("ul",{className:"list-disc ml-3.5",children:[(0,a.jsxs)("li",{className:"w-full mb-2",children:["Make sure you own the domain ",t]}),(0,a.jsxs)("li",{className:"w-full mb-2",children:["Sign into ",u," (if possible)"]})]})]})]}),(0,a.jsx)("div",{className:"flex flex-row flex-nowrap justify-center gap-3 p-6",children:(0,a.jsx)("div",{children:(0,a.jsx)(y.Z,{className:"light w-full",onClick:s,children:"Close"})})})]})})},C="welcome",S="calendar",Z="success",I=function(e){var n=e.open,t=e.setOpen,r=e.domainName,c=e.registrarName,d=e.entryPoint,u=e.canBook,m=void 0!==u&&u,p=(0,o.useState)(C),h=p[0],f=p[1],v=(0,o.useState)(null),g=v[0],y=v[1],j=(0,o.useRef)(null),w=function(){t(!1),setTimeout((function(){!0===(null===j||void 0===j?void 0:j.current)&&f(C)}),1e3)};return(0,o.useEffect)((function(){return j.current=!0,function(){j.current=!1}}),[]),(0,a.jsx)(l.h,{children:(0,a.jsxs)(s.Z,{open:n,setOpen:t,hasCustomBody:!0,fullMode:!0,mobileExpanded:!0,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 md:py-10 md:px-12",children:[(0,a.jsx)(i.Z,{icon:"DurableIcon",className:"h-7 w-7 flex-shrink-0"}),(0,a.jsx)("button",{className:"button auxiliary icon sm rounded-full",onClick:w,children:(0,a.jsx)(i.Z,{icon:"XMarkIcon",from:"v2",variant:"large",className:"h-5 w-5","aria-hidden":"true"})})]}),h===C&&(0,a.jsx)(x,{onAction:function(){f(S)},onClose:function(){return t(!1)},entryPoint:d,canBook:m}),h===S&&(0,a.jsx)(b,{domainName:r,onSuccess:function(e){y(e),f(Z)}}),h===Z&&(0,a.jsx)(k,{onClose:w,domainName:r,registrarName:c,bookPayload:g})]})})}},75511:function(e,n,t){t.d(n,{S:function(){return p}});var a=t(47568),o=t(26042),i=t(10253),l=t(97582),s=(t(85893),t(4298),t(61437)),r=t(67294),c=t(33299),d=t(11215),u=(t(75178),t(16682)),m=t(3732);function p(){var e=function(e){window.Intercom&&(e?window.Intercom("show"):t())},n=function(){(0,m.JN)((function(){var n=document.querySelector("#intercom-container");if(!n)throw new Error("Intercom container not found");var t=document.createElement("div");t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>',t.classList.add("!fixed","!bottom-12","!right-2","!p-1","!cursor-pointer","!bg-white","!rounded-full","!shadow-md","!transition","!transition-opacity"),t.id="intercom-close-btn",t.style.zIndex=1e16,t.style.display="none",t.addEventListener("click",(function(){e(!1)})),n.appendChild(t)}),1e3)()},t=function(){window.Intercom&&(window.Intercom("shutdown"),y(!1))},p=(0,u.Z)().get,h=(0,d.Z)().current,f=((0,c.useSession)().data,(0,i.Z)((0,s.Z)("support-user-data"),2)),x=f[0],v=f[1],g=(0,i.Z)((0,s.Z)("support-initialized"),2),b=g[0],y=g[1],j=(0,i.Z)((0,s.Z)("support-selected-business-id"),3),w=j[1],N=j[2];function k(){return C.apply(this,arguments)}function C(){return C=(0,a.Z)((function(){var e,n,t;return(0,l.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),x&&(null===(e=x.company)||void 0===e?void 0:e.id)===(null===h||void 0===h?void 0:h._id)?[2,x]:[4,p("/user/get-support-info")];case 1:return n=a.sent(),v(null===n||void 0===n?void 0:n.content),[2,null===n||void 0===n?void 0:n.content];case 2:return t=a.sent(),console.log(t),[2,{}];case 3:return[2]}}))})),C.apply(this,arguments)}function S(e){return Z.apply(this,arguments)}function Z(){return Z=(0,a.Z)((function(t){var i,s=arguments;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return s.length>1&&void 0!==s[1]?s[1]:0,i=s.length>2&&void 0!==s[2]?s[2]:"general",console.log("Support Chat","Entry Point",i),w(null===h||void 0===h?void 0:h._id),[4,(0,m.JN)((0,a.Z)((function(){var a,s,r,c,d,u,m,p;return(0,l.__generator)(this,(function(l){switch(l.label){case 0:return window.Intercom?b?t?(s=window.Intercom,r=["update"],c=[{last_active_business:null===h||void 0===h?void 0:h._id,entry_point:i}],[4,k()]):[3,2]:[3,3]:[3,6];case 1:s.apply(window,r.concat(o.Z.apply(void 0,c.concat(null!==(a=l.sent())&&void 0!==a?a:{})))),l.label=2;case 2:return e(!0),[3,5];case 3:return u=window.Intercom,m=["boot"],p=[{api_base:"https://api-iam.intercom.io",app_id:"epuz0w15",last_active_business:null===h||void 0===h?void 0:h._id,entry_point:i}],[4,k()];case 4:u.apply(window,m.concat(o.Z.apply(void 0,p.concat(null!==(d=l.sent())&&void 0!==d?d:{})))),window.Intercom("onHide",(function(){var e=document.querySelector("#intercom-close-btn");e&&(e.style.display="block")})),window.Intercom("onShow",(function(){var e=document.querySelector("#intercom-close-btn");e&&(e.style.display="none")})),e(!0),n(),y(!0),l.label=5;case 5:return[3,7];case 6:throw new Error("Intercom is not loaded yet");case 7:return[2]}}))})))()];case 1:return r.sent(),[2]}}))})),Z.apply(this,arguments)}return(0,r.useEffect)((function(){function e(){return(e=(0,a.Z)((function(){var e;return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return e=(0,m.Jj)(),b&&(null===h||void 0===h?void 0:h._id)&&N.current!==(null===h||void 0===h?void 0:h._id)&&!e.globalState["support-is-revalidating"]?(e.globalState["support-is-revalidating"]=!0,[4,S(!0)]):[3,2];case 1:n.sent(),e.globalState["support-is-revalidating"]=!1,n.label=2;case 2:return[2]}}))}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[null===h||void 0===h?void 0:h._id]),{openSupport:S,closeSupport:t,isOpenSupport:b}}},75178:function(e,n,t){var a=t(48646).default,o=t(79658).Z,i=t(7222).Z,l=t(79361).default,s=t(97788).Z,r=t(37735).Z,c=function(e){return e&&e.__esModule?e:{default:e}};n.B=void 0;var d=c(t(67294)),u=t(23105),m=c(t(42474)),p=function(e){var n=m.default.createHash("sha256");return n.update(e),"'sha256-".concat(n.digest("base64"),"'")},h=function(e){s(t,e);var n=r(t);function t(){var e;return o(this,t),e=n.apply(this,arguments),l(a(e),"getScripts",(function(n){var a=n.allFiles.filter((function(e){return/\.js/.test(e)})).map((function(e){return"'/_next/".concat(encodeURI(e),"'")})),o=e.context,i=o.buildManifest,l=o.__NEXT_DATA__,s=i.lowPriorityFiles.map((function(e){return"'/_next/".concat(encodeURI(e),"'")})),r=a.concat(s),c=t.nextJsFiles.concat(r),u="var scripts = [".concat(c.join(),"]\n    scripts.forEach(function(scriptUrl) {\n      var s = document.createElement('script')\n      s.src = scriptUrl\n      s.async = false // to preserve execution order\n      s.defer = true\n      document.head.appendChild(s)\n    })"),m=d.default.createElement("script",{defer:!0,dangerouslySetInnerHTML:{__html:u}});t.inlineJsHashed=t.inlineJs.map((function(e){return p(e)}));var h=[];return d.default.Children.forEach(e.props.children,(function(e){var n;"meta"===e.type&&(void 0!==(null===(n=e.props)||void 0===n?void 0:n.httpEquiv)&&"Content-Security-Policy"===e.props.httpEquiv&&(e.props.content="script-src 'strict-dynamic' ".concat(p(u)," ").concat(t.inlineJsHashed.join(" ")," 'unsafe-inline' http: https:;"),e.props.slug=l.page));h.push(e)})),e.context.headTags.push(m),[]})),e}return i(t,[{key:"getDynamicChunks",value:function(){var e=this.context.dynamicImports;return t.nextJsFiles=e.filter((function(e){return/\.js$/.test(e)})).map((function(e){return"'/_next/".concat(encodeURI(e),"'")})),[]}}]),t}(u.Head);l(h,"inlineJs",[]),l(h,"inlineJsHashed",[]),l(h,"nextJsFiles",[]),l(h,"nounce",m.default.randomBytes(16).toString("base64")),n.B=h},94211:function(e,n,t){t.d(n,{F:function(){return o},h:function(){return i}});var a=t(74423).getPublicSuffix,o=function(e){var n=e,t=a(n),o=n.replace(".".concat(t),"").split("."),i=o.length>1;return{base:n,tld:t,isSubdomain:i,subdomain:i?o[0]:"www"}},i=function(e){return/^[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/gm.test(e)&&/^[A-Za-z0-9]/gm.test(e)}}}]);
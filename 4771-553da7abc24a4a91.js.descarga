"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4771],{40487:function(e,n,l){l.d(n,{k:function(){return o}});var a=l(85893),t=l(2740),i=l(16494),o=function(e){var n=e.text;return(0,a.jsx)(t.h,{children:(0,a.jsx)("div",{className:"flex items-center z-100 justify-center fixed inset-0 bg-black bg-opacity-80 backdrop-blur-2xs",children:(0,a.jsx)(i.Z,{text:null!==n&&void 0!==n?n:"Loading...",className:"text-body-lg text-white"})})})}},55669:function(e,n,l){l.d(n,{Z:function(){return v}});var a=l(47568),t=l(97582),i=l(85893),o=l(54465),s=l(47221),r=l(86664),d=l(67294),c=l(3732),u=l(16682),m=(0,o.J)("pk_live_51KLaT2B0AMXmI9ZErX8noTgbOhIVKQw16w7yylHS9a6DCig7zF3znLIMKhrdm47aU6Ay1b1x9X1OCiqmeKjNOgk800y9ImEgjs");function v(e){var n=e.amount,l=e.submit,o=e.metadata,v=e.disabled,f=e.onSuccess,h=e.loading,p=e.onFailure,x=(e.setLoading,(0,d.useState)(null)),g=x[0],b=x[1],y=(0,u.Z)().post,j={clientSecret:g,appearance:{theme:"stripe"}},w=function(){var e=(0,a.Z)((function(){var e,l;return(0,t.__generator)(this,(function(a){switch(a.label){case 0:return[4,y("/stripe/payment-intent",{amount:n,metadata:o})];case 1:return!0===(null===(l=a.sent())||void 0===l?void 0:l.status)&&(null===l||void 0===l||null===(e=l.content)||void 0===e?void 0:e.client_secret)?b(l.content.client_secret):c.Z9.error("Error to generate payment intent"),[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){w()}),[]),g&&(0,i.jsx)(r.Elements,{options:j,stripe:m,children:(0,i.jsx)(s.Z,{clientSecret:g,submit:l,metadata:o,disabled:v,onSuccess:f,onFailure:function(){p()},loading:h})})}},46902:function(e,n,l){var a=l(85893),t=l(3732),i=l(18362),o=l(11163);n.Z=function(e){var n=e.onAction,l=e.onClose,s=e.visible,r=(0,o.useRouter)();return(0,a.jsx)(i.Z,{visible:s,context:{context:"custom_domain",page:r.pathname},image:(0,t.sd)("paywalls/pw-upgrade-domain-pro-bg.png"),title:"Upgrade to customize your domain",description:"A professional domain helps you convert more leads to customers. Upgrade your account and get a free custom domain included with your plan.",buttonTitle:"View Plans",buttonAction:n,featTitle:"Upgrade to premium and also get:",features:["More website pages","Premium website features","CRM and agents tools","Invoices and payment tracking"],bgColor:"bg-gray-900",closeColor:"text-white",onClose:function(){l()}})}},47221:function(e,n,l){l.d(n,{Z:function(){return c}});var a=l(47568),t=l(10253),i=l(97582),o=l(85893),s=l(67294),r=l(86664),d=l(40944);l(52077);function c(e){e.saveDomainInfo;var n=e.submit,l=e.onSuccess,c=e.onFailure,u=(e.validForm,e.renew,(0,r.useStripe)()),m=(0,r.useElements)(),v=(0,t.Z)(s.useState(!1),2),f=(v[0],v[1]),h=(0,s.useRef)(null),p=(0,t.Z)(s.useState(null),2),x=p[0],g=p[1];(0,s.useEffect)((function(){}),[u]);var b=function(){var e=(0,a.Z)((function(e){var n,a,t;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e.preventDefault(),console.log("submitting"),u&&m?[4,u.confirmPayment({elements:m,redirect:"if_required"})]:[2];case 1:return"validation_error"===(null===(a=i.sent())||void 0===a||null===(n=a.error)||void 0===n?void 0:n.type)?(f(!1),c(),[2]):(t=a.error)?(g(t.message),f(!1),c(),[2]):(console.log(a),l(a.paymentIntent),f(!1),[2])}}))}));return function(n){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){var e;n&&(g(null),null===(e=h.current)||void 0===e||e.click())}),[n]),(0,o.jsxs)("form",{id:"payment-form",onSubmit:function(e){return b(e)},children:[x&&(0,o.jsxs)("div",{className:"flex items-center p-2 gap-4 bg-red-50 rounded-xl px-4 lg:px-6",children:[(0,o.jsx)(d.Z,{icon:"ExclamationIcon",className:"h-5 w-5 flex-shrink-0 text-red-800"}),(0,o.jsx)("p",{className:"text-sm font-medium text-red-800",children:x})]}),(0,o.jsx)(r.PaymentElement,{className:"",id:"payment-element",options:{layout:"tabs"}}),(0,o.jsx)("button",{ref:h,id:"submit",className:"hidden"})]})}},59445:function(e,n,l){l.d(n,{Z:function(){return p}});var a=l(26042),t=l(69396),i=l(85893),o=l(67294),s=l(11355),r=(l(40410),l(80360)),d=l(51121),c=l(41664),u=l.n(c),m=[{name:"CCT Canadian Citizen",code:"CCT"},{name:"RES Permanent Resident",code:"RES"},{name:"ABO Aboriginal",code:"ABO"},{name:"ASS Association",code:"ASS"},{name:"CCO Canadian Corporation",code:"CCO"},{name:"EDU Educational Institution",code:"EDU"},{name:"GOV Government",code:"GOV"},{name:"HOP Hospital",code:"HOP"},{name:"INB Indian Band",code:"INB"},{name:"LAM Library, Archive, or Museum",code:"LAM"},{name:"LGR Legal Representative",code:"LGR"},{name:"MAJ His Majesty the King",code:"MAJ"},{name:"OMK Protected by Trademarks Act",code:"OMK"},{name:"PLT Political Party",code:"PLT"},{name:"PRT Partnership",code:"PRT"},{name:"TDM Trademark Owner",code:"TDM"},{name:"TRD Trade Union",code:"TRD"},{name:"TRS Trust",code:"TRS"}];function v(e){var n,l=e.specificDomainInformation,s=e.setSpecificDomainInformation;e.validExtraInformation;return(0,o.useEffect)((function(){var e;(null===l||void 0===l||null===(e=l.extraInformation)||void 0===e?void 0:e.cpr)||s((0,t.Z)((0,a.Z)({},l),{extraInformation:(0,t.Z)((0,a.Z)({},null===l||void 0===l?void 0:l.extraInformation),{cpr:m[0].code})}))}),[l]),(0,i.jsxs)("div",{className:"flex flex-col gap-4 mb-4",children:[(0,i.jsx)(r.Z,{forceDisplayOptionsAbove:!0,name:"extraInformation",label:"Legal type",values:m,value:m.find((function(e){var n;return e.code===(null===l||void 0===l||null===(n=l.extraInformation)||void 0===n?void 0:n.cpr)})),onChange:function(e){s((0,t.Z)((0,a.Z)({},l),{extraInformation:(0,t.Z)((0,a.Z)({},null===l||void 0===l?void 0:l.extraInformation),{cpr:e.code})}))}}),(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsx)("p",{className:"font-semibold",children:".CA domain agreement"}),(0,i.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,i.jsx)("input",{checked:null===l||void 0===l||null===(n=l.extraInformation)||void 0===n?void 0:n.registrationAgreement,onChange:function(e){e.target.checked?s((0,t.Z)((0,a.Z)({},l),{extraInformation:(0,t.Z)((0,a.Z)({},null===l||void 0===l?void 0:l.extraInformation),{registrationAgreement:e.target.checked,valid:!0})})):s((0,t.Z)((0,a.Z)({},l),{extraInformation:(0,t.Z)((0,a.Z)({},null===l||void 0===l?void 0:l.extraInformation),{registrationAgreement:e.target.checked,valid:!1})}))},type:"checkbox"}),(0,i.jsxs)("p",{className:"text-sm ",children:["I have read and agree with the terms as set out in the "," ",(0,i.jsx)(u(),{className:"underline text-blue-200 ",href:"https://www.cira.ca/en/resources/documents/about/registrant-agreement/",children:(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",className:"link underline",children:"CIRA Registrant Agreement"})})]})]})]})]})}var f=l(3732),h=l(74423).getPublicSuffix;function p(e){var n,l,c=e.contactDetails,u=e.setContactDetails,m=(e.setValidForm,e.locations),p=e.show,x=e.domain,g=e.loading,b=e.errors,y=(0,o.useRef)(null),j=(0,o.useState)(null),w=j[0],N=j[1];return(0,o.useEffect)((function(){if(x){var e=h(x);N(e)}setTimeout((function(){y.current&&y.current.focus()}),300)}),[]),(0,i.jsx)(s.u,{as:o.Fragment,show:p,appear:!0,enter:"transition-all duration-600",enterFrom:"opacity-0 -translate-y-10",enterTo:"opacity-100 translate-y-0",leave:"transition-all duration-600",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-10",children:(0,i.jsxs)("div",{className:"flex flex-col gap-4 pb-2 pl-1",children:[(0,i.jsxs)("div",{className:"flex flex-row flex-wrap gap-4 ",children:[(0,i.jsxs)("div",{className:"flex flex-col md:flex-row w-full justify-between gap-2",children:[(0,i.jsx)(d.Z,{className:"flex-1",ref:y,error:(null===b||void 0===b?void 0:b.firstName)&&"Invalid first name",onChange:function(e){return u((0,t.Z)((0,a.Z)({},c),{firstName:e}))},value:(null===c||void 0===c?void 0:c.firstName)||"",label:"First name",placeholder:"First name",disabled:g}),(0,i.jsx)(d.Z,{className:"flex-1",error:(null===b||void 0===b?void 0:b.lastName)&&"Invalid last name",onChange:function(e){return u((0,t.Z)((0,a.Z)({},c),{lastName:e}))},value:(null===c||void 0===c?void 0:c.lastName)||"",label:"Last name",placeholder:"Last name",disabled:g})]}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row w-full justify-between gap-2",children:[(0,i.jsx)(d.Z,{className:"flex-1",error:!(0,f.oH)(null===c||void 0===c?void 0:c.email)&&"Invalid email",onChange:function(e){return u((0,t.Z)((0,a.Z)({},c),{email:e}))},value:(null===c||void 0===c?void 0:c.email)||"",label:"Email",placeholder:"Email",disabled:g}),(0,i.jsxs)("div",{className:"flex-1 flex flex-col md:flex-row gap-2",children:[(0,i.jsx)(r.Z,{className:"w-full md:w-1/2",value:m.find((function(e){var n,l;return(null===(n=e.code)||void 0===n?void 0:n.toUpperCase())===(null===c||void 0===c||null===(l=c.countryPhoneCode)||void 0===l?void 0:l.toUpperCase())})),onChange:function(e){return u((0,t.Z)((0,a.Z)({},c),{countryPhoneCode:e.code}))},values:m||[],label:"Code",hasFilter:!0,disabled:g}),(0,i.jsx)(d.Z,{type:"text",onChange:function(e){return u((0,t.Z)((0,a.Z)({},c),{phoneNumber:e.replace(/[^0-9 ]/g,"")}))},value:(null===c||void 0===c||null===(n=c.phoneNumber)||void 0===n?void 0:n.replace(/[^a-zA-Z0-9 ]/g,""))||"",label:"Phone number",placeholder:"Phone number",error:(null===b||void 0===b?void 0:b.phoneNumber)&&"Invalid phone number",disabled:g})]})]})]}),(0,i.jsxs)("div",{className:"flex flex-row flex-wrap gap-4 ",children:[(0,i.jsx)("p",{className:"text-sm font-semibold text-gray-900",children:"Address"}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row w-full justify-between gap-2",children:[(0,i.jsx)(d.Z,{className:"flex-1",onChange:function(e){return u((0,t.Z)((0,a.Z)({},c),{address1:e}))},value:(null===c||void 0===c?void 0:c.address1)||"",label:"Address line 1",placeholder:"Address line 1",error:(null===b||void 0===b?void 0:b.address1)&&"Invalid address",disabled:g}),(0,i.jsx)(d.Z,{className:"flex-1",onChange:function(e){return u((0,t.Z)((0,a.Z)({},c),{address2:e}))},value:(null===c||void 0===c?void 0:c.address2)||"",label:"Address line 2",placeholder:"Address line 2",disabled:g})]}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row w-full justify-between gap-2",children:[(0,i.jsx)(r.Z,{className:"flex-1",value:f.hW.find((function(e){var n;return e.code===(null===c||void 0===c||null===(n=c.country)||void 0===n?void 0:n.toUpperCase())})),onChange:function(e){u((0,t.Z)((0,a.Z)({},c),{country:e.code}))},values:f.hW,label:"Country",hasFilter:!0,disabled:g}),(0,i.jsx)(d.Z,{error:(null===b||void 0===b?void 0:b.state)&&"Invalid state",className:"flex-1",size:2,onChange:function(e){return u((0,t.Z)((0,a.Z)({},c),{state:null===e||void 0===e?void 0:e.toUpperCase()}))},value:(null===c||void 0===c?void 0:c.state)||"",label:"".concat("ca"===(null===c||void 0===c||null===(l=c.country)||void 0===l?void 0:l.toLowerCase())?"Province":"State"," (eg: TX, BC)"),placeholder:"State",disabled:g})]}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row w-full justify-between gap-2",children:[(0,i.jsx)(d.Z,{className:"flex-1",onChange:function(e){return u((0,t.Z)((0,a.Z)({},c),{city:e}))},value:(null===c||void 0===c?void 0:c.city)||"",label:"City",placeholder:"City",error:(null===b||void 0===b?void 0:b.city)&&"Invalid city",disabled:g}),(0,i.jsx)(d.Z,{className:"flex-1",onChange:function(e){return u((0,t.Z)((0,a.Z)({},c),{postalCode:e}))},value:(null===c||void 0===c?void 0:c.postalCode)||"",label:"Postal code",placeholder:"Postal code",error:(null===b||void 0===b?void 0:b.postalCode)&&"Invalid postal code",disabled:g})]})]}),"ca"===w?(0,i.jsx)(v,{specificDomainInformation:c,setSpecificDomainInformation:function(e){u(e)}}):null]})})}},63553:function(e,n,l){l.d(n,{Z:function(){return _}});var a=l(47568),t=l(14924),i=l(26042),o=l(69396),s=l(10253),r=l(97582),d=l(85893),c=l(11355),u=l(27507),m=l(67294),v=l(33299),f=l(40944),h=l(25675),p=l.n(h),x=l(3732),g=l(86998),b=l(59445),y=l(16682),j=l(52077),w=l(11163),N=l(61367),Z=l(55669),C=l(61437),k=l(40410),S=l(43490),I=l(74423).getPublicSuffix;function _(e){var n,l,h,_=e.open,T=e.setOpen,F=e.domain,A=e.refresh,E=e.showSuggestion,D=(0,y.Z)(),P=D.get,R=D.post,O=(0,v.useSession)().data,L=(0,w.useRouter)(),U=(0,m.useState)({}),M=U[0],B=U[1],z=(0,m.useState)(!0),G=z[0],K=z[1],V=(0,m.useState)([]),H=V[0],X=V[1],Y=(0,m.useState)(""),J=(Y[0],Y[1],(0,m.useState)(null)),W=(J[0],J[1],(null===O||void 0===O||null===(n=O.user)||void 0===n||null===(l=n.plan)||void 0===l||null===(h=l.limits)||void 0===h?void 0:h.customDomain)||0),q=(0,m.useState)(null),Q=q[0],$=q[1],ee=(0,m.useState)(!0),ne=ee[0],le=ee[1],ae=(0,m.useState)(E?"suggestion":"purchase"),te=ae[0],ie=ae[1],oe=(0,m.useState)(!1),se=oe[0],re=oe[1],de=(0,m.useState)(!1),ce=de[0],ue=de[1],me=(0,m.useState)(F),ve=me[0],fe=me[1],he=(0,m.useState)(!1),pe=he[0],xe=he[1],ge=(0,m.useState)(!1),be=ge[0],ye=ge[1],je=((0,s.Z)((0,C.Z)("support.modal",!1),2)[1],(0,m.useState)(!0)),we=je[0],Ne=je[1],Ze=(0,m.useState)({}),Ce=Ze[0],ke=Ze[1],Se=function(e){var n=null===e||void 0===e?void 0:e.match(/[^\x00-\x7F]/g,"");return!((null===n||void 0===n?void 0:n.length)>0)},Ie=function(){var e=(0,a.Z)((function(e){var n,l;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return re(!0),Ne(!1),function(){if(Q)return!0;ke({});var e=!0;if(M){var n,l,a,s=Object.keys(M);K(!0);var r={},d=!0,c=!1,u=void 0;try{for(var m,v=s[Symbol.iterator]();!(d=(m=v.next()).done);d=!0){var f=m.value;"address2"!==f&&"durableAsContact"!==f&&(M[f]&&""!==M[f]||(r=(0,o.Z)((0,i.Z)({},r),(0,t.Z)({},f,!0))))}}catch(h){c=!0,u=h}finally{try{d||null==v.return||v.return()}finally{if(c)throw u}}return(0,k.UL)(null===M||void 0===M||null===(n=M.country)||void 0===n?void 0:n.toUpperCase())&&!(0,k.OS)(null===M||void 0===M?void 0:M.postalCode,null===M||void 0===M?void 0:M.country.toUpperCase())&&(r=(0,o.Z)((0,i.Z)({},r),{postalCode:!0})),Se(null===M||void 0===M?void 0:M.firstName)&&Se(null===M||void 0===M?void 0:M.lastName)||(e=!1),(0,x.oH)(null===M||void 0===M?void 0:M.email)||(r=(0,o.Z)((0,i.Z)({},r),{email:!0}),e=!1),(null===M||void 0===M||null===(l=M.phoneNumber)||void 0===l?void 0:l.length)<5&&(r=(0,o.Z)((0,i.Z)({},r),{phoneNumber:!0}),e=!1),Object.keys(r).length>0&&(ke(r),e=!1),(null===M||void 0===M?void 0:M.extraInformation)&&!0!==(null===M||void 0===M||null===(a=M.extraInformation)||void 0===a?void 0:a.valid)&&(e=!1),e}}()?[4,R("/custom-domain/register",{domain:e,extraInformation:null,registrant:!0===Q?null:M})]:[3,2];case 1:(n=a.sent())&&!0===n.status?(x.Z9.success("Domain registered successfully!"),ie("result")):(null===n||void 0===n?void 0:n.refresh)?(x.Z9.error(null!==(l=null===n||void 0===n?void 0:n.message)&&void 0!==l?l:"Domain not available"),setTimeout((function(){L.reload()}),2e3)):x.Z9.error((null===n||void 0===n?void 0:n.message)||"Something went wrong, please try again later."),a.label=2;case 2:return re(!1),Ne(!0),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),_e=function(){var e=(0,a.Z)((function(e){var n,l,a;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return n=e.id,l=e.amount,[4,R("custom-domain/ack-payment",{domain:null===ve||void 0===ve?void 0:ve.domain,paymentId:n,amount:l})];case 1:return(a=t.sent())&&!0===a.status&&(xe(!0),Ie(null===ve||void 0===ve?void 0:ve.domain)),[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Te=function(){var e=(0,a.Z)((function(){return(0,r.__generator)(this,(function(e){return(null===ve||void 0===ve?void 0:ve.price)>W&&!pe?(re(!0),ue(!0)):Ie(null===ve||void 0===ve?void 0:ve.domain),[2]}))}));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=(0,a.Z)((function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,P("/custom-domain/contact-details")];case 1:return!0===(null===(e=n.sent())||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&B((0,o.Z)((0,i.Z)({},e.content),{countryPhoneCode:e.content.country,phoneNumber:""})),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,a.Z)((function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,P("/custom-domain/locations")];case 1:return!0===(null===(e=n.sent())||void 0===e?void 0:e.status)&&(null===e||void 0===e?void 0:e.content)&&X(e.content),[2]}}))}));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e,n,l,a=(null===O||void 0===O||null===(e=O.user)||void 0===e||null===(n=e.plan)||void 0===n||null===(l=n.limits)||void 0===l?void 0:l.customDomain)||0;return(null===ve||void 0===ve?void 0:ve.price)-a};return(0,m.useEffect)((function(){_&&(Fe(),Ae(),function(){var e=I(null===ve||void 0===ve?void 0:ve.domain);["ca"].includes(e)?(le(!1),$(!1)):(le(!0),$(!0))}())}),[_]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(c.u.Root,{show:_,as:m.Fragment,children:(0,d.jsx)(u.V,{static:!0,open:_&&!be,as:"div",className:"fixed z-100 md:inset-0 w-full h-full overflow-hidden bottom-0",onClose:function(){return console.log("")},children:(0,d.jsxs)("div",{className:"flex items-end justify-center text-center md:block",children:[(0,d.jsx)(c.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(u.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(c.u.Child,{as:m.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsx)("div",{className:"inline-block align-middle w-full bg-white text-left shadow-xl transform transition-all",children:(0,d.jsxs)("div",{className:"flex flex-col h-dyn overflow-y-hidden",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 md:py-10 md:px-12",children:[(0,d.jsx)(f.Z,{icon:"DurableIcon",className:"h-7 w-7 flex-shrink-0"}),"result"!==te&&we&&(0,d.jsx)("button",{className:"button auxiliary icon sm rounded-full",onClick:function(){return T(!1)},children:(0,d.jsx)(f.Z,{icon:"XMarkIcon",from:"v2",variant:"large",className:"h-5 w-5","aria-hidden":"true"})})]}),(0,d.jsxs)("div",{className:"flex justify-center flex-1 overflow-y-hidden",children:["suggestion"===te&&(0,d.jsx)("div",{className:"px-4 md:px-0 w-full md:w-170",children:(0,d.jsx)(N.Z,{seeMoreSteps:10,externalDomainSelectionAction:function(e){return function(e){fe(e),ie("purchase")}(e)},onAction:function(){},fullheight:!0,refresh:function(){},onPaywall:function(){return ye(!0)}})}),"purchase"===te&&(0,d.jsx)(c.u,{as:m.Fragment,show:"purchase"===te,appear:!0,enter:"transition-all duration-600",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-all duration-600",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsxs)("div",{className:"px-4 md:px-0 w-full md:w-170 space-y-2",children:[(0,d.jsxs)("div",{className:"py-3 md:pr-2.5",children:[(0,d.jsx)("label",{className:"font-bold mb-1",children:"Get your domain"}),(0,d.jsx)("p",{className:"label helper",children:"Add contact details to get your domain"})]}),(0,d.jsxs)("div",{className:"flex items-center justify-between py-3 md:pr-2.5",children:[(0,d.jsx)("label",{children:null===ve||void 0===ve?void 0:ve.domain}),function(e){var n,l,a,t,i,o=(null===O||void 0===O||null===(n=O.user)||void 0===n||null===(l=n.plan)||void 0===l||null===(a=l.limits)||void 0===a?void 0:a.customDomain)||0;if("free"!==(null===O||void 0===O||null===(t=O.user)||void 0===t||null===(i=t.plan)||void 0===i?void 0:i.priceId))return e>o?(0,d.jsx)("p",{className:"label helper",children:(0,g.T)(Ee())}):(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("p",{className:"label helper line-through",children:[(0,d.jsx)("span",{children:(0,g.T)(null===ve||void 0===ve?void 0:ve.price)}),(0,d.jsx)("span",{children:"\xa0/ Year"})]}),(0,d.jsx)("label",{className:"font-bold",children:"FREE"})]})}(null===ve||void 0===ve?void 0:ve.price)]}),(0,d.jsxs)("div",{className:"max-h-[calc(100dvh-268px)] md:max-h-[calc(100dvh-324px)] overflow-y-scroll scrollbar",children:[(0,d.jsxs)("div",{className:"alert warning",children:[(0,d.jsx)(f.Z,{icon:"BellIcon"}),(0,d.jsx)("span",{children:"This domain may take a few minutes to several hours to activate."})]}),(0,d.jsx)("div",{className:"py-4",children:(0,d.jsx)("label",{children:"Contact details"})}),(0,d.jsxs)("div",{className:"p-4 bg-black bg-opacity-5 rounded-xl space-y-6",children:[ne&&(0,d.jsxs)("div",{className:"flex justify-between items-center gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"mb-1",children:"Easy setup"}),(0,d.jsx)("p",{className:"label helper",children:"You still own the domain but it will be registered under Durable's name"})]}),(0,d.jsx)(S.Z,{enabled:Q,onChange:function(e){return $(e)}})]}),(!Q||!ne)&&(0,d.jsx)(b.Z,{contactDetails:M,setContactDetails:B,setValidForm:K,domain:null===ve||void 0===ve?void 0:ve.domain,locations:H,show:!Q||!ne,loading:se,errors:Ce})]}),(null===ve||void 0===ve?void 0:ve.price)>W&&!pe&&(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"py-4 overflow-x-hidden",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between py-3",children:[(0,d.jsx)("label",{children:"Payment method"}),(0,d.jsx)("p",{className:"text-lg font-medium",children:(0,g.T)(Ee())})]}),(0,d.jsx)(Z.Z,{amount:(null===ve||void 0===ve?void 0:ve.price)-W,metadata:null===ve||void 0===ve?void 0:ve.domain,loading:se,submit:ce,disabled:G,onSuccess:function(e){_e(e)},onFailure:function(){re(!1),ue(null)}})]})})]})]})}),"result"===te&&(0,d.jsx)(c.u,{as:m.Fragment,show:"result"===te,appear:!0,enter:"transition-all duration-600",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-all duration-600",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)("div",{className:"flex flex-1 items-center justify-center w-full h-full",children:(0,d.jsxs)("div",{className:"flex flex-col w-full md:w-170 items-center",children:[(0,d.jsx)("div",{className:"relative w-full h-60 flex flex-row justify-center items-center min-h-30",children:(0,d.jsx)(p(),{src:(0,x.sd)("domain/ilustration-domain-success.png"),alt:"Add service",title:"Add service",width:680,height:272})}),(0,d.jsxs)("div",{className:"w-full md:w-140 flex flex-col items-center",children:[(0,d.jsxs)("p",{className:"text-2xl font-bold text-black mt-8 text-center",children:[null===ve||void 0===ve?void 0:ve.domain," is now yours!"]}),(0,d.jsx)("p",{className:"text-gray-900 mt-3 text-center",children:"This domain name will be what customers see when visiting your website."}),(0,d.jsxs)("div",{className:"alert warning mt-5",children:[(0,d.jsx)(f.Z,{icon:"BellIcon"}),(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,d.jsx)("div",{className:"font-medium",children:"Because of how the internet works, domain setup can take a few hours. In rare cases, up to 48 hours."}),(0,d.jsx)("div",{children:"We'll send you an email when your domain is ready."})]})]})]})]})})})]}),("purchase"===te||"result"===te)&&(0,d.jsxs)("div",{className:"sticky left-0 right-0 bottom-0 z-50 py-4 px-4 md:px-12 w-full border-t border-black border-opacity-5",children:["purchase"===te&&(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsxs)(j.Z,{className:"button auxiliary icon-left",disabled:se,onClick:function(){return"purchase"===te?T(!1):ie("purchase")},children:[(0,d.jsx)(f.Z,{icon:"ArrowLeftIcon",className:"w-5 h-5"}),(0,d.jsx)("span",{children:"Back"})]}),(0,d.jsx)(j.Z,{className:"button default",disabled:!Q&&!G,loading:se,onClick:Te,children:"Get domain"})]}),"result"===te&&(0,d.jsx)("div",{className:"flex justify-end",children:(0,d.jsx)(j.Z,{className:"button default",onClick:function(){A(),T(!1)},children:"Done"})})]})]})})})]})})})})}},61367:function(e,n,l){l.d(n,{Z:function(){return R}});var a=l(47568),t=l(26042),i=l(69396),o=l(10253),s=l(29815),r=l(97582),d=l(85893),c=l(67294),u=l(33299),m=l(61437),v=l(11163),f=l(86998),h=l(51121),p=l(41664),x=l.n(p),g=l(63553),b=l(46902),y=l(11355),j=l(27507),w=l(40944),N=l(3732),Z=l(52077),C=l(16682),k=l(15564),S=l(11215),I=l(19645),_=l(25675),T=l.n(_),F=l(73292),A=l(95350);"url('".concat((0,N.sd)("paywalls/pw-upgrade-domain-pro-bg.png"),"')");function E(e){var n,l,t=e.open,i=e.setOpen,o=e.origin,s=void 0===o?void 0:o,m=(0,c.useState)(!1),h=m[0],p=m[1],x=(0,C.Z)().post,g=(0,u.useSession)().data,b=(0,S.Z)().reloadBusinesses,_=(0,v.useRouter)(),E=((0,I.Z)().track,(0,F.Z)().sendUserEvent),D=function(){var e=(0,a.Z)((function(){return(0,r.__generator)(this,(function(e){return s||(_.pathname.includes("builder")?s="builder_publish_cta":_.pathname.includes("website/domain")?s="app_domain_settings":_.pathname.includes("dashboard")&&(s="app_home_banner")),x("/subscription/end-trial").then((function(e){!0===e.status?(0,k.k)(g).then((function(e){var n,l,a,t,o,s,r,d,c,u;b().catch((function(e){return console.log("Failed to reload business")})),A.Z.success("Subscription updated successfully"),E("purchase",{transaction_id:null===g||void 0===g||null===(n=g.user)||void 0===n?void 0:n.subscriptionId,currency:"USD",value:null===g||void 0===g||null===(l=g.user)||void 0===l||null===(a=l.plan)||void 0===a?void 0:a.price,items:[{item_id:null===g||void 0===g||null===(t=g.user)||void 0===t||null===(o=t.plan)||void 0===o?void 0:o.priceId,item_name:null===g||void 0===g||null===(s=g.user)||void 0===s||null===(r=s.plan)||void 0===r?void 0:r.name,item_variant:null===g||void 0===g||null===(d=g.user)||void 0===d||null===(c=d.plan)||void 0===c?void 0:c.period}],user_data:{email_address:null===g||void 0===g||null===(u=g.user)||void 0===u?void 0:u.email}}),i(!1)})):A.Z.error("Error to update subscription")})).catch((function(e){A.Z.error("Error to update subscription"),p(!1)})),[2]}))}));return function(){return e.apply(this,arguments)}}();return(0,d.jsx)(y.u.Root,{show:t,as:c.Fragment,children:(0,d.jsx)(j.V,{static:!0,open:t,as:"div",className:"fixed z-100 inset-0 overflow-y-auto",onClose:function(){},children:(0,d.jsxs)("div",{className:"flex items-end justify-center min-h-screen text-center md:block",children:[(0,d.jsx)(y.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,d.jsx)(j.V.Overlay,{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-2xs transition-opacity"})}),(0,d.jsx)("span",{className:"hidden md:inline-block md:align-middle md:h-screen","aria-hidden":"true",children:"\u200b"}),(0,d.jsx)(y.u.Child,{as:c.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",enterTo:"opacity-100 translate-y-0 md:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 md:scale-100",leaveTo:"opacity-0 translate-y-4 md:translate-y-0 md:scale-95",children:(0,d.jsx)("div",{className:"inline-block align-bottom bg-white rounded-lg md:rounded-lg text-left shadow-xl transform transition-all md:my-8 md:align-middle",children:(0,d.jsx)("div",{className:" bg-white block rounded-t-lg shadow-md z-100 bottom-0 left-0 right-0 w-full max-h-screen overflow-y-auto md:overflow-y-hidden md:h-auto md:rounded-lg md:w-215 md:bottom-auto md:left-[calc(50%-430px)] md:top-[calc(50%-234px)]",children:(0,d.jsxs)("div",{className:"flex flex-row justify-center items-stretch h-full",children:[(0,d.jsx)("div",{className:"hidden md:block w-full md:w-1/2 flex-1 ",children:(0,d.jsx)("div",{className:"relative rounded-t-lg md:rounded-l-lg md:rounded-r-none overflow-hidden h-full",style:{minHeight:"224px"},children:(0,d.jsx)(T(),{src:(0,N.sd)("paywalls/pw-upgrade-domain-pro-bg.png"),alt:"Upgrade",layout:"fill",objectFit:"cover"})})}),(0,d.jsxs)("div",{className:"flex-1",children:[(0,d.jsx)("div",{className:"absolute top-2 right-2",children:(0,d.jsx)(w.Z,{icon:"XMarkIcon",onClick:function(){return i(!1)},from:"heroicons",className:"h-6 w-6 cursor-pointer","aria-hidden":"true"})}),(0,d.jsxs)("div",{className:"flex flex-col gap-8 justify-between p-6.5 md:p-8",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,d.jsx)("h3",{className:"w-full font-bold text-h3 text-gray-900 mb-4",children:"Subscribe to Unlock Your Custom Domain"}),(0,d.jsx)("p",{className:"w-full text-sm text-gray-500 font-normal mb-4",children:"You're currently on a free trial. To connect your custom domain, activate your subscription today. Once activated, your trial will end, and your monthly Starter Plan will begin immediately."}),(0,d.jsxs)("p",{className:"w-full text-sm text-gray-900 font-medium mb-8",children:["Total due today: ","".concat((0,f.T)(null===g||void 0===g||null===(n=g.user)||void 0===n||null===(l=n.plan)||void 0===l?void 0:l.price))]})]}),(0,d.jsx)("div",{className:"flex flex-col gap-4",children:(0,d.jsx)(Z.Z,{loading:h,className:"w-full primary",onClick:function(){return D()},children:"Subscribe"})}),(0,d.jsx)("p",{className:"text-xs text-gray-500",children:"By confirming your subscription, you allow Durable Technologies Inc to charge you for future payments in accordance with their terms. You can always cancel your subscription."})]})]})]})})})})]})})})}var D,P=l(16494),R=function(e){var n,l,p,y,j,Z,k,S,_,T,F,A,R=e.seeMoreSteps,O=(e.onAction,e.refresh),L=e.externalDomainSelectionAction,U=e.onPaywall,M=e.fullheight,B=void 0!==M&&M,z=e.disableSeeMore,G=void 0!==z&&z,K=e.fromBuilder,V=void 0!==K&&K,H=e.origin,X=void 0===H?null:H,Y=(0,o.Z)((0,m.Z)("layout.paywall",!1),2),J=(Y[0],Y[1]),W=(0,c.useState)(!1),q=W[0],Q=W[1],$=(0,u.useSession)().data,ee=(0,v.useRouter)(),ne=(0,c.useState)([]),le=ne[0],ae=ne[1],te=(0,c.useState)([]),ie=te[0],oe=te[1],se=(0,c.useState)(!1),re=se[0],de=se[1],ce=(0,c.useState)(null!==(A=null!==(F=sessionStorage.getItem("domain_to_claim"))&&void 0!==F?F:null===$||void 0===$||null===(n=$.business)||void 0===n||null===(l=n.name)||void 0===l?void 0:l.toLowerCase())&&void 0!==A?A:null),ue=ce[0],me=ce[1],ve=(0,c.useState)(null),fe=ve[0],he=ve[1],pe=(0,c.useState)(!1),xe=pe[0],ge=pe[1],be=(0,c.useState)(!1),ye=be[0],je=be[1],we=(0,I.Z)().track,Ne=(0,C.Z)().get,Ze=(0,c.useRef)(),Ce=(0,c.useCallback)((0,a.Z)((function(){return(0,r.__generator)(this,(function(e){return je(!0),oe([]),ae([]),Ne("/custom-domain/suggestion",{term:ue}).then((function(e){e&&!0===e.status&&e.content?oe(e.content):console.log("Error fetching custom domain suggestions",e)})).catch((function(e){console.log(e)})).finally((function(){return je(!1)})),[2]}))})),[ue,je,oe,ae]),ke=function(){var e=(0,a.Z)((function(e){var n;return(0,r.__generator)(this,(function(l){switch(l.label){case 0:return[4,Ne("/custom-domain/check-domain",{domain:e})];case 1:return(n=l.sent())&&!0===n.status&&n.content?"available"===n.content.status.toLowerCase()?[2,!0]:[2,!1]:[2]}}))}));return function(n){return e.apply(this,arguments)}}(),Se=function(){ae((function(e){return(0,s.Z)(e).concat((0,s.Z)(ie.slice(e.length,(null===e||void 0===e?void 0:e.length)+R)))})),setTimeout((function(){var e;null===(e=Ze.current)||void 0===e||e.scrollTo(0,9999999)}),300)},Ie=function(e){var n,l,a,t,i,o=(null===$||void 0===$||null===(n=$.user)||void 0===n||null===(l=n.plan)||void 0===l||null===(a=l.limits)||void 0===a?void 0:a.customDomain)||0;return"free"!==(null===$||void 0===$||null===(t=$.user)||void 0===t||null===(i=t.plan)||void 0===i?void 0:i.priceId)?e>o?(0,d.jsxs)("p",{className:"label helper",children:[(0,f.T)(e-o)," / Year"]}):(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsxs)("p",{className:"label helper line-through",children:[(0,d.jsx)("span",{children:(0,f.T)(e)}),(0,d.jsx)("span",{children:"\xa0/ Year"})]}),(0,d.jsx)("label",{className:"font-bold",children:"FREE"})]}):(0,d.jsx)(d.Fragment,{})},_e=function(e,n){var l,a;return(0,d.jsxs)("div",{className:(0,N.AK)("flex items-center justify-between gap-4 py-2",(null===e||void 0===e||null===(l=e.status)||void 0===l||l.toLowerCase(),"")),children:[(0,d.jsxs)("div",{className:"flex flex-col md:flex-row gap-1 md:gap-4",children:[(0,d.jsx)("div",{className:"label break-all",children:e.domain}),e.price&&(0,d.jsx)("div",{className:"md:hidden",children:Ie(e.price)})]}),"available"===(null===e||void 0===e||null===(a=e.status)||void 0===a?void 0:a.toLowerCase())?(0,d.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,d.jsx)("div",{className:"hidden md:block",children:Ie(e.price)}),(0,d.jsx)("button",{className:"button auxiliary",disabled:re,onClick:function(){return function(e){var n,l,a,o,s="app_settings";V&&(s="builder_publish_cta"),ee.pathname.includes("dashboard")&&(s="app_home_banner"),we("website:get_it_clicked",{domain:(0,i.Z)((0,t.Z)({},e),{currency:"USD"}),plan:null===$||void 0===$||null===(n=$.user)||void 0===n||null===(l=n.plan)||void 0===l?void 0:l.name,location:s}),"trialing"===$.user.subscriptionStatus?ge(!0):"free"===(null===$||void 0===$||null===(a=$.user)||void 0===a||null===(o=a.plan)||void 0===o?void 0:o.priceId)?V?U("publish"):("function"===typeof U&&U(!0),J(!0),we("account:paywall_trigger_clicked",{context:"custom_domain_get_it",page:null===ee||void 0===ee?void 0:ee.pathname})):(de(!0),ke(e.domain).then((function(n){n?L?L(e):he(e):N.Z9.error("Sorry, the domain ".concat(e.domain," is not available anymore. Please try another domain.")),de(!1)})))}(e)},children:" Get it"})]}):(0,d.jsx)("div",{className:"py-2 text-sm font-medium text-black text-opacity-55",children:"Unavailable"})]},"custom-domain-".concat(n))};(0,c.useEffect)((function(){ie.length>0&&0===(null===le||void 0===le?void 0:le.length)&&Se()}),[ie]);return(0,c.useEffect)((function(){Ce(ue)}),[]),(0,c.useEffect)((function(){return clearTimeout(D),D=setTimeout((function(){var e;""!==ue&&ue!==(null===$||void 0===$||null===(e=$.business)||void 0===e?void 0:e.name)&&Ce(ue)}),1e3),function(){clearTimeout(D)}}),[ue]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:(0,N.AK)("flex flex-col h-full w-full md:w-auto",B?"pb-20":""),children:[V?(0,d.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,d.jsx)("label",{children:"Get a custom domain"}),(0,d.jsx)(x(),{href:"https://help.durable.co/en/articles/11322347-durable-domains-transfer-policy/",children:(0,d.jsxs)("a",{className:"button ghost sm icon-right",target:"_blank",rel:"noreferrer",children:[(0,d.jsx)("span",{children:"Domain policy"}),(0,d.jsx)(w.Z,{icon:"ExternalLinkIcon",from:"v2",variant:"large",className:"w-5 h-5"})]})})]}),(0,d.jsx)("p",{className:"label helper",children:"Find the perfect domain name for your business."})]}):(0,d.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("label",{children:"Get a domain name"}),"free"===(null===$||void 0===$||null===(p=$.user)||void 0===p||null===(y=p.plan)||void 0===y?void 0:y.priceId)&&(0,d.jsx)("span",{className:"badge warning",children:"PRO"})]}),0!==(null===$||void 0===$||null===(j=$.user)||void 0===j||null===(Z=j.plan)||void 0===Z||null===(k=Z.limits)||void 0===k?void 0:k.customDomain)&&(0,d.jsxs)("p",{className:"label helper",children:["Get a domain FREE\u2014up to $",(0,d.jsx)("span",{children:(null===$||void 0===$||null===(S=$.user)||void 0===S||null===(_=S.plan)||void 0===_||null===(T=_.limits)||void 0===T?void 0:T.customDomain)||0}),"!"]})]}),(0,d.jsx)(x(),{href:"https://help.durable.co/en/articles/11322347-durable-domains-transfer-policy/",children:(0,d.jsxs)("a",{className:"button ghost sm icon-right",target:"_blank",rel:"noreferrer",children:[(0,d.jsx)("span",{children:"Domain policy"}),(0,d.jsx)(w.Z,{icon:"ExternalLinkIcon",from:"v2",variant:"large",className:"w-5 h-5"})]})})]}),(0,d.jsxs)("div",{className:"relative w-full mb-4",children:[(0,d.jsx)(h.Z,{inputClassName:"!px-11",icon:"SearchIcon",value:ue,onKeyUp:function(e){return"Enter"===e.key&&Ce(ue)},onChange:function(e){return me(null===e||void 0===e?void 0:e.toLowerCase())},placeholder:"Search for a domain name"}),!!ue&&(0,d.jsx)("div",{className:"absolute top-1/2 -translate-y-1/2 right-2 z-10",children:(0,d.jsx)("button",{className:"button ghost icon",onClick:function(){me(""),oe([]),ae([]),ae([]),setTimeout((function(){Ce(ue)}),300)},children:(0,d.jsx)(w.Z,{icon:"XMarkCircleIcon",from:"v2",variant:"large",className:"w-5 h-5"})})})]}),(0,d.jsx)("div",{ref:Ze,className:"grid scroll-smooth transition-all duration-500 overflow-y-scroll no-scrollbar",style:{gridTemplateRows:le.length>0?"1fr":"0fr"},children:ye?(0,d.jsxs)("div",{className:"flex items-start-start flex-col gap-4 pb-4",children:[(0,d.jsx)(P.Z,{classNameChild:"h-10",variant:"skeleton"}),(0,d.jsx)(P.Z,{classNameChild:"h-10",variant:"skeleton"}),(0,d.jsx)(P.Z,{classNameChild:"h-10",variant:"skeleton"})]}):(0,d.jsx)("div",{className:(0,N.AK)(B?"flex-1 ":"max-h-100","flex flex-col  divide-y"),children:le.map((function(e,n){return _e(e,n)}))})}),(null===ie||void 0===ie?void 0:ie.length)>0&&le.length!==ie.length&&!G&&(0,d.jsx)("div",{className:"mt-4",children:(0,d.jsx)("button",{className:"button ghost sm !px-0",onClick:function(){return Se()},children:"View more suggestions"})})]}),(0,d.jsx)(b.Z,{visible:q,onClose:function(){return Q(!1)},onAction:function(){V?U(!0):J(!0),Q(!1)}}),fe&&(0,d.jsx)(g.Z,{refresh:O,domain:fe,open:!!fe,setOpen:function(){return he(null)}}),xe&&(0,d.jsx)(E,{origin:X,open:xe,setOpen:ge})]})}},86998:function(e,n,l){function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD";return new Intl.NumberFormat(n,{style:"currency",currency:l}).format(e)}l.d(n,{T:function(){return a}})}}]);